/*
 Modernizr 3.0.0pre (Custom Build) | MIT
*/
(function(p,k){"object"===typeof exports&&"object"===typeof module?module.exports=k():"function"===typeof define&&define.amd?define([],k):"object"===typeof exports?exports.Simple360Player=k():p.Simple360Player=k()})(this,function(){return function(p){function k(n){if(f[n])return f[n].exports;var b=f[n]={exports:{},id:n,loaded:!1};p[n].call(b.exports,b,b.exports,k);b.loaded=!0;return b.exports}var f={};k.m=p;k.c=f;k.p="";return k(0)}([function(p,k,f){function n(a){return a&&a.__esModule?a:{"default":a}}
k.__esModule=!0;p=f(93);var b=n(p);p=f(116);var a=n(p),c=f(7);f(174);f(175);f(177);f(178);f(179);f(176);p=f(115);var e=n(p);p=f(197);var d=n(p);f=f(196);var g=n(f);f=function(){function h(a){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");this.container=a;this.md=new e["default"](window.navigator.userAgent);this.isMobile=!!this.md.phone()||!!this.md.tablet()}h.prototype.addMouseObservable=function(){var a=this;this.downEvents$=c.Observable.fromEvent(this.canvasElement,
"mousedown");this.upEvents$=c.Observable.fromEvent(document,"mouseup");this.moveEvents$=c.Observable.fromEvent(document,"mousemove");this.mouseObservable$=this.downEvents$.switchMap(function(c){a.mouse={x:c.clientX,y:c.clientY};return a.moveEvents$.startWith(c).takeUntil(a.upEvents$)});this.mouseObserver=this.mouseObservable$.subscribe(function(c){var b=c.clientX-a.mouse.x,e=a.isMobile?0:c.clientY-a.mouse.y;a.mouse={x:c.clientX,y:c.clientY};a.helper360.rotateScene(-b/300,-e/300)});this.upObserver=
this.upEvents$.subscribe(function(){a.mouse=null})};h.prototype.addDeviceObservable=function(){var a=this;window.DeviceMotionEvent&&this.isMobile&&(this.device={orientation:screen.orientation.angle},this.deviceMotionEvent$=c.Observable.fromEvent(window,"deviceorientation"),this.deviceChangeEvent$=c.Observable.fromEvent(window,"orientationchange"),this.deviceMotionObserver=this.deviceMotionEvent$.subscribe(function(c){a.helper360.updateOrientationScene(a.device.orientation,c)}),this.deviceChangeObserver=
this.deviceChangeEvent$.subscribe(function(){a.device.orientation=screen.orientation.angle}))};h.prototype.init=function(){var c=this.container,c={width:c.offsetWidth,height:c.offsetHeight,ratio:16/9};this.component=a["default"].render(b["default"].createElement(d["default"],null),this.container);this.videoElement=this.component.refs.videoTag;this.canvasElement=this.component.refs.canvasTag;this.helper360=new g["default"](this.canvasElement,this.videoElement,c)};h.prototype.start=function(){this.helper360.createScene();
this.helper360.renderLoop();this.addMouseObservable();this.addDeviceObservable()};h.prototype.updateSize=function(a,c){this.helper360.updateSceneSize(a,c)};h.prototype.destroy=function(){this.mouseObserver&&this.mouseObserver.unsubscribe();this.upObserver&&this.upObserver.unsubscribe();this.deviceMotionObserver&&this.deviceMotionObserver.unsubscribe();this.deviceChangeObserver&&this.deviceChangeObserver.unsubscribe();this.helper360.stopRenderLoop();a["default"].unmountComponentAtNode(this.container)};
return h}();k["default"]=f},function(p,k,f){p.exports=function(f,b,a,c,e,d,g,h){if(!f){if(void 0===b)f=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[a,c,e,d,g,h],m=0;f=Error(b.replace(/%s/g,function(){return l[m++]}));f.name="Invariant Violation"}f.framesToPop=1;throw f;}}},function(p,k,f){k=f(10);p.exports=k},function(p,k){p.exports=function(f,n){if(null==f)throw new TypeError("Object.assign target cannot be null or undefined");
for(var b=Object(f),a=Object.prototype.hasOwnProperty,c=1;c<arguments.length;c++){var e=arguments[c];if(null!=e){var e=Object(e),d;for(d in e)a.call(e,d)&&(b[d]=e[d])}}return b}},function(p,k){var f=!("undefined"===typeof window||!window.document||!window.document.createElement);p.exports={canUseDOM:f,canUseWorkers:"undefined"!==typeof Worker,canUseEventListeners:f&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:f&&!!window.screen,isInWorker:!f}},function(p,k,f){function n(a){return a?
9===a.nodeType?a.documentElement:a.firstChild:null}function b(a){return(a=n(a))&&M.getID(a)}function a(a){return a&&a.getAttribute&&a.getAttribute(J)||""}function c(c,b){if(c){a(c)!==b?F(!1):void 0;var e=M.findReactContainerForID(b);if(e&&H(e,c))return!0}return!1}function e(a){var b=K[a];if(b&&c(b,a))P=b;else return!1}function d(a,c,b,e,d,g){t.useCreateElement&&(g=G({},g),g[T]=9===b.nodeType?b:b.ownerDocument);c=B.mountComponent(a,c,e,g);a._renderedComponent._topLevelWrapper=a;M._mountImageIntoNode(c,
b,d,e)}function g(a,c,b,e,g){var h=C.ReactReconcileTransaction.getPooled(e);h.perform(d,null,a,c,b,h,e,g);C.ReactReconcileTransaction.release(h)}function h(a,c){B.unmountComponent(a);9===c.nodeType&&(c=c.documentElement);for(;c.lastChild;)c.removeChild(c.lastChild)}function l(a){return(a=b(a))?a!==q.getReactRootIDFromNodeID(a):!1}function m(c){for(;c&&c.parentNode!==c;c=c.parentNode)if(1===c.nodeType){var b=a(c);if(b){var b=q.getReactRootIDFromNodeID(b),e=c,d;do if(d=a(e),e=e.parentNode,null==e)return null;
while(d!==b);if(e===S[b])return c}}return null}k=f(17);var r=f(25);f(12);var t=f(72),w=f(6),u=f(79),q=f(18),v=f(22),x=f(82),z=f(8),B=f(15),A=f(42),C=f(9),G=f(3),D=f(19),H=f(60),E=f(49),F=f(1),I=f(32),O=f(52);f(54);f(2);var J=k.ID_ATTRIBUTE_NAME,K={},T="__ReactMount_ownerDocument$"+Math.random().toString(36).slice(2),U={},S={},L=[],P=null,Q=function(){};Q.prototype.isReactComponent={};Q.prototype.render=function(){return this.props};var M={TopLevelWrapper:Q,_instancesByReactRootID:U,scrollMonitor:function(a,
c){c()},_updateRootComponent:function(a,c,b,e){M.scrollMonitor(b,function(){A.enqueueElementInternal(a,c);e&&A.enqueueCallbackInternal(a,e)});return a},_registerComponent:function(a,c){!c||1!==c.nodeType&&9!==c.nodeType&&11!==c.nodeType?F(!1):void 0;r.ensureScrollValueMonitoring();var b=M.registerContainer(c);U[b]=a;return b},_renderNewRootComponent:function(a,c,b,e){void 0;a=E(a,null);var d=M._registerComponent(a,c);C.batchedUpdates(g,a,d,c,b,e);return a},renderSubtreeIntoContainer:function(a,c,
b,e){null==a||null==a._reactInternalInstance?F(!1):void 0;return M._renderSubtreeIntoContainer(a,c,b,e)},_renderSubtreeIntoContainer:function(c,e,d,g){w.isValidElement(e)?void 0:F(!1);void 0;var h=new w(Q,null,null,null,null,null,e),m=U[b(d)];if(m){if(O(m._currentElement.props,e)){var r=m._renderedComponent.getPublicInstance();M._updateRootComponent(m,h,d,g&&function(){g.call(r)});return r}M.unmountComponentAtNode(d)}e=(e=n(d))&&!!a(e);var f=l(d);c=M._renderNewRootComponent(h,d,e&&!m&&!f,null!=c?
c._reactInternalInstance._processChildContext(c._reactInternalInstance._context):D)._renderedComponent.getPublicInstance();g&&g.call(c);return c},render:function(a,c,b){return M._renderSubtreeIntoContainer(null,a,c,b)},registerContainer:function(a){var c=b(a);c&&(c=q.getReactRootIDFromNodeID(c));c||(c=q.createReactRootID());S[c]=a;return c},unmountComponentAtNode:function(c){void 0;!c||1!==c.nodeType&&9!==c.nodeType&&11!==c.nodeType?F(!1):void 0;var e=b(c),d=U[e];if(!d)return l(c),(c=a(c))&&q.getReactRootIDFromNodeID(c),
!1;C.batchedUpdates(h,d,c);delete U[e];delete S[e];return!0},findReactContainerForID:function(a){a=q.getReactRootIDFromNodeID(a);return S[a]},findReactNodeByID:function(a){var c=M.findReactContainerForID(a);return M.findComponentRoot(c,a)},getFirstReactDOM:function(a){return m(a)},findComponentRoot:function(a,c){var b=0;P=null;q.traverseAncestors(c,e);var d=P;P=null;L[0]=(d||a).firstChild;for(L.length=1;b<L.length;){for(var d=L[b++],g;d;){var h=M.getID(d);h?c===h?g=d:q.isAncestorIDOf(h,c)&&(L.length=
b=0,L.push(d.firstChild)):L.push(d.firstChild);d=d.nextSibling}if(g)return L.length=0,g}L.length=0;F(!1)},_mountImageIntoNode:function(a,c,b,e){!c||1!==c.nodeType&&9!==c.nodeType&&11!==c.nodeType?F(!1):void 0;if(b){var d=n(c);if(x.canReuseMarkup(a,d))return;var g=d.getAttribute(x.CHECKSUM_ATTR_NAME);d.removeAttribute(x.CHECKSUM_ATTR_NAME);b=d.outerHTML;d.setAttribute(x.CHECKSUM_ATTR_NAME,g);a:{d=Math.min(a.length,b.length);for(g=0;g<d;g++)if(a.charAt(g)!==b.charAt(g)){d=g;break a}d=a.length===b.length?
-1:d}a.substring(d-20,d+20);b.substring(d-20,d+20);9===c.nodeType?F(!1):void 0}9===c.nodeType?F(!1):void 0;if(e.useCreateElement){for(;c.lastChild;)c.removeChild(c.lastChild);c.appendChild(a)}else I(c,a)},ownerDocumentContextKey:T,getReactRootID:b,getID:function(b){var e=a(b);if(e)if(K.hasOwnProperty(e)){var d=K[e];d!==b&&(c(d,e)?F(!1):void 0,K[e]=b)}else K[e]=b;return e},setID:function(c,b){var e=a(c);e!==b&&delete K[e];c.setAttribute(J,b);K[b]=c},getNode:function(a){K.hasOwnProperty(a)&&c(K[a],
a)||(K[a]=M.findReactNodeByID(a));return K[a]},getNodeFromInstance:function(a){a=v.get(a)._rootNodeID;if(u.isNullComponentID(a))return null;K.hasOwnProperty(a)&&c(K[a],a)||(K[a]=M.findReactNodeByID(a));return K[a]},isValid:c,purgeID:function(a){delete K[a]}};z.measureMethods(M,"ReactMount",{_renderNewRootComponent:"_renderNewRootComponent",_mountImageIntoNode:"_mountImageIntoNode"});p.exports=M},function(p,k,f){var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:
function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol?"symbol":typeof a},b=f(12),a=f(3);f(30);var c="function"===typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103,e={key:!0,ref:!0,__self:!0,__source:!0},d=function(a,b,e,d,r,f,w){return{$$typeof:c,type:a,key:b,ref:e,props:w,_owner:f}};d.createElement=function(a,c,l){var m,r={},f=null,w=null,u=null,q=null;if(null!=c)for(m in w=void 0===c.ref?null:c.ref,f=void 0===c.key?null:""+c.key,u=void 0===c.__self?null:c.__self,
q=void 0===c.__source?null:c.__source,c)c.hasOwnProperty(m)&&!e.hasOwnProperty(m)&&(r[m]=c[m]);var v=arguments.length-2;if(1===v)r.children=l;else if(1<v){for(var x=Array(v),n=0;n<v;n++)x[n]=arguments[n+2];r.children=x}if(a&&a.defaultProps)for(m in v=a.defaultProps,v)"undefined"===typeof r[m]&&(r[m]=v[m]);return d(a,f,w,u,q,b.current,r)};d.createFactory=function(a){var c=d.createElement.bind(null,a);c.type=a;return c};d.cloneAndReplaceKey=function(a,c){return d(a.type,c,a.ref,a._self,a._source,a._owner,
a.props)};d.cloneAndReplaceProps=function(a,c){return d(a.type,a.key,a.ref,a._self,a._source,a._owner,c)};d.cloneElement=function(c,h,l){var m,r=a({},c.props),f=c.key,w=c.ref,u=c._self,q=c._source,v=c._owner;if(null!=h)for(m in void 0!==h.ref&&(w=h.ref,v=b.current),void 0!==h.key&&(f=""+h.key),h)h.hasOwnProperty(m)&&!e.hasOwnProperty(m)&&(r[m]=h[m]);m=arguments.length-2;if(1===m)r.children=l;else if(1<m){for(var x=Array(m),n=0;n<m;n++)x[n]=arguments[n+2];r.children=x}return d(c.type,f,w,u,q,v,r)};
d.isValidElement=function(a){return"object"===("undefined"===typeof a?"undefined":n(a))&&null!==a&&a.$$typeof===c};p.exports=d},function(p,k,f){var n=f(35),b=f(192),a=f(102);p=function(){function c(a){this._isScalar=!1;a&&(this._subscribe=a)}c.prototype.lift=function(a){var b=new c;b.source=this;b.operator=a;return b};c.prototype.subscribe=function(a,c,g){var h=this.operator;a=b.toSubscriber(a,c,g);h?h.call(a,this):a.add(this._subscribe(a));if(a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;
return a};c.prototype.forEach=function(a,c){var b=this;c||(n.root.Rx&&n.root.Rx.config&&n.root.Rx.config.Promise?c=n.root.Rx.config.Promise:n.root.Promise&&(c=n.root.Promise));if(!c)throw Error("no Promise impl found");return new c(function(c,d){var m=b.subscribe(function(c){if(m)try{a(c)}catch(b){d(b),m.unsubscribe()}else a(c)},d,c)})};c.prototype._subscribe=function(a){return this.source.subscribe(a)};c.prototype[a]=function(){return this};c.create=function(a){return new c(a)};return c}();k.Observable=
p},function(p,k,f){var n={enableMeasure:!1,storedMeasure:function(b,a,c){return c},measureMethods:function(b,a,c){},measure:function(b,a,c){return c},injection:{injectMeasure:function(b){n.storedMeasure=b}}};p.exports=n},function(p,k,f){function n(){z.ReactReconcileTransaction&&q?void 0:r(!1)}function b(){this.reinitializeTransaction();this.dirtyComponentsLength=null;this.callbackQueue=d.getPooled();this.reconcileTransaction=z.ReactReconcileTransaction.getPooled(!1)}function a(a,c){return a._mountOrder-
c._mountOrder}function c(c){var b=c.dirtyComponentsLength;b!==t.length?r(!1):void 0;t.sort(a);for(var e=0;e<b;e++){var d=t[e],g=d._pendingCallbacks;d._pendingCallbacks=null;h.performUpdateIfNecessary(d,c.reconcileTransaction);if(g)for(var l=0;l<g.length;l++)c.callbackQueue.enqueue(g[l],d.getPublicInstance())}}function e(a){n();q.isBatchingUpdates?t.push(a):q.batchedUpdates(e,a)}var d=f(36);k=f(14);var g=f(8),h=f(15),l=f(29),m=f(3),r=f(1),t=[],w=d.getPooled(),u=!1,q=null,v=[{initialize:function(){this.dirtyComponentsLength=
t.length},close:function(){this.dirtyComponentsLength!==t.length?(t.splice(0,this.dirtyComponentsLength),x()):t.length=0}},{initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}}];m(b.prototype,l.Mixin,{getTransactionWrappers:function(){return v},destructor:function(){this.dirtyComponentsLength=null;d.release(this.callbackQueue);this.callbackQueue=null;z.ReactReconcileTransaction.release(this.reconcileTransaction);this.reconcileTransaction=null},perform:function(a,
c,b){return l.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,a,c,b)}});k.addPoolingTo(b);var x=function(){for(;t.length||u;){if(t.length){var a=b.getPooled();a.perform(c,null,a);b.release(a)}u&&(u=!1,a=w,w=d.getPooled(),a.notifyAll(),d.release(a))}},x=g.measure("ReactUpdates","flushBatchedUpdates",x),z={ReactReconcileTransaction:null,batchedUpdates:function(a,c,b,e,d,g){n();q.batchedUpdates(a,c,b,e,d,g)},enqueueUpdate:e,flushBatchedUpdates:x,injection:{injectReconcileTransaction:function(a){a?
void 0:r(!1);z.ReactReconcileTransaction=a},injectBatchingStrategy:function(a){a?void 0:r(!1);"function"!==typeof a.batchedUpdates?r(!1):void 0;"boolean"!==typeof a.isBatchingUpdates?r(!1):void 0;q=a}},asap:function(a,c){q.isBatchingUpdates?void 0:r(!1);w.enqueue(a,c);u=!0}};p.exports=z},function(p,k){function f(b){return function(){return b}}function n(){}n.thatReturns=f;n.thatReturnsFalse=f(!1);n.thatReturnsTrue=f(!0);n.thatReturnsNull=f(null);n.thatReturnsThis=function(){return this};n.thatReturnsArgument=
function(b){return b};p.exports=n},function(p,k,f){k=f(24);f=k({bubbled:null,captured:null});k={topLevelTypes:k({topAbort:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,
topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,
topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topVolumeChange:null,topWaiting:null,topWheel:null}),PropagationPhases:f};p.exports=k},function(p,k){p.exports={current:null}},function(p,k){p.exports=function(f){for(var n in f)if(f.hasOwnProperty(n))return n;return null}},function(p,k,f){var n=f(1),b=function(a){if(this.instancePool.length){var b=this.instancePool.pop();this.call(b,a);return b}return new this(a)},a=function(a){a instanceof
this?void 0:n(!1);a.destructor();this.instancePool.length<this.poolSize&&this.instancePool.push(a)};p.exports={addPoolingTo:function(c,e){c.instancePool=[];c.getPooled=e||b;c.poolSize||(c.poolSize=10);c.release=a;return c},oneArgumentPooler:b,twoArgumentPooler:function(a,b){if(this.instancePool.length){var d=this.instancePool.pop();this.call(d,a,b);return d}return new this(a,b)},threeArgumentPooler:function(a,b,d){if(this.instancePool.length){var g=this.instancePool.pop();this.call(g,a,b,d);return g}return new this(a,
b,d)},fourArgumentPooler:function(a,b,d,g){if(this.instancePool.length){var h=this.instancePool.pop();this.call(h,a,b,d,g);return h}return new this(a,b,d,g)},fiveArgumentPooler:function(a,b,d,g,h){if(this.instancePool.length){var l=this.instancePool.pop();this.call(l,a,b,d,g,h);return l}return new this(a,b,d,g,h)}}},function(p,k,f){function n(){b.attachRefs(this,this._currentElement)}var b=f(147);p.exports={mountComponent:function(a,c,b,d){c=a.mountComponent(c,b,d);a._currentElement&&null!=a._currentElement.ref&&
b.getReactMountReady().enqueue(n,a);return c},unmountComponent:function(a){b.detachRefs(a,a._currentElement);a.unmountComponent()},receiveComponent:function(a,c,e,d){var g=a._currentElement;if(c!==g||d!==a._context){var h=b.shouldUpdateRefs(g,c);h&&b.detachRefs(a,g);a.receiveComponent(c,e,d);h&&a._currentElement&&null!=a._currentElement.ref&&e.getReactMountReady().enqueue(n,a)}},performUpdateIfNecessary:function(a,c){a.performUpdateIfNecessary(c)}}},function(p,k,f){function n(a,b,g,h){this.dispatchConfig=
a;this.dispatchMarker=b;this.nativeEvent=g;a=this.constructor.Interface;for(var l in a)a.hasOwnProperty(l)&&((b=a[l])?this[l]=b(g):"target"===l?this.target=h:this[l]=g[l]);this.isDefaultPrevented=(null!=g.defaultPrevented?g.defaultPrevented:!1===g.returnValue)?c.thatReturnsTrue:c.thatReturnsFalse;this.isPropagationStopped=c.thatReturnsFalse}var b=f(14),a=f(3),c=f(10);f(2);k={type:null,target:null,currentTarget:c.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(a){return a.timeStamp||
Date.now()},defaultPrevented:null,isTrusted:null};a(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():a.returnValue=!1,this.isDefaultPrevented=c.thatReturnsTrue)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,this.isPropagationStopped=c.thatReturnsTrue)},persist:function(){this.isPersistent=c.thatReturnsTrue},isPersistent:c.thatReturnsFalse,destructor:function(){var a=
this.constructor.Interface,c;for(c in a)this[c]=null;this.nativeEvent=this.dispatchMarker=this.dispatchConfig=null}});n.Interface=k;n.augmentClass=function(c,d){var g=Object.create(this.prototype);a(g,c.prototype);c.prototype=g;c.prototype.constructor=c;c.Interface=a({},this.Interface,d);c.augmentClass=this.augmentClass;b.addPoolingTo(c,b.fourArgumentPooler)};b.addPoolingTo(n,b.fourArgumentPooler);p.exports=n},function(p,k,f){function n(a,c){return(a&c)===c}var b=f(1),a={MUST_USE_ATTRIBUTE:1,MUST_USE_PROPERTY:2,
HAS_SIDE_EFFECTS:4,HAS_BOOLEAN_VALUE:8,HAS_NUMERIC_VALUE:16,HAS_POSITIVE_NUMERIC_VALUE:48,HAS_OVERLOADED_BOOLEAN_VALUE:64,injectDOMPropertyConfig:function(c){var g=a,h=c.Properties||{},l=c.DOMAttributeNamespaces||{},m=c.DOMAttributeNames||{},r=c.DOMPropertyNames||{},f=c.DOMMutationMethods||{};c.isCustomAttribute&&e._isCustomAttributeFunctions.push(c.isCustomAttribute);for(var w in h){e.properties.hasOwnProperty(w)?b(!1):void 0;c=w.toLowerCase();var u=h[w];c={attributeName:c,attributeNamespace:null,
propertyName:w,mutationMethod:null,mustUseAttribute:n(u,g.MUST_USE_ATTRIBUTE),mustUseProperty:n(u,g.MUST_USE_PROPERTY),hasSideEffects:n(u,g.HAS_SIDE_EFFECTS),hasBooleanValue:n(u,g.HAS_BOOLEAN_VALUE),hasNumericValue:n(u,g.HAS_NUMERIC_VALUE),hasPositiveNumericValue:n(u,g.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:n(u,g.HAS_OVERLOADED_BOOLEAN_VALUE)};c.mustUseAttribute&&c.mustUseProperty?b(!1):void 0;!c.mustUseProperty&&c.hasSideEffects?b(!1):void 0;1>=c.hasBooleanValue+c.hasNumericValue+
c.hasOverloadedBooleanValue?void 0:b(!1);m.hasOwnProperty(w)&&(c.attributeName=m[w]);l.hasOwnProperty(w)&&(c.attributeNamespace=l[w]);r.hasOwnProperty(w)&&(c.propertyName=r[w]);f.hasOwnProperty(w)&&(c.mutationMethod=f[w]);e.properties[w]=c}}},c={},e={ID_ATTRIBUTE_NAME:"data-reactid",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(a){for(var c=0;c<e._isCustomAttributeFunctions.length;c++)if((0,e._isCustomAttributeFunctions[c])(a))return!0;return!1},
getDefaultValueForProperty:function(a,b){var e=c[a],l;e||(c[a]=e={});b in e||(l=document.createElement(a),e[b]=l[b]);return e[b]},injection:a};p.exports=e},function(p,k,f){function n(a,c){return"."===a.charAt(c)||c===a.length}function b(a){return""===a||"."===a.charAt(0)&&"."!==a.charAt(a.length-1)}function a(a,c){return 0===c.indexOf(a)&&n(c,a.length)}function c(a){return a?a.substr(0,a.lastIndexOf(".")):""}function e(c,e){b(c)&&b(e)?void 0:l(!1);a(c,e)?void 0:l(!1);if(c===e)return c;var d;for(d=
c.length+1;d<e.length&&!n(e,d);d++);return e.substr(0,d)}function d(a,c){var e=Math.min(a.length,c.length);if(0===e)return"";for(var d=0,g=0;g<=e;g++)if(n(a,g)&&n(c,g))d=g;else if(a.charAt(g)!==c.charAt(g))break;e=a.substr(0,d);b(e)?void 0:l(!1);return e}function g(b,d,g,h,f,q){b=b||"";d=d||"";b===d?l(!1):void 0;var v=a(d,b);v||a(b,d)?void 0:l(!1);for(var x=0,n=v?c:e,k=b;;k=n(k,d)){var A;f&&k===b||q&&k===d||(A=g(k,v,h));if(!1===A||k===d)break;1E4>x++?void 0:l(!1)}}var h=f(87),l=f(1);p.exports={createReactRootID:function(){return"."+
h.createReactRootIndex().toString(36)},createReactID:function(a,c){return a+c},getReactRootIDFromNodeID:function(a){if(a&&"."===a.charAt(0)&&1<a.length){var c=a.indexOf(".",1);return-1<c?a.substr(0,c):a}return null},traverseEnterLeave:function(a,c,b,e,h){var l=d(a,c);l!==a&&g(a,l,b,e,!1,!0);l!==c&&g(l,c,b,h,!0,!1)},traverseTwoPhase:function(a,c,b){a&&(g("",a,c,b,!0,!1),g(a,"",c,b,!1,!0))},traverseTwoPhaseSkipTarget:function(a,c,b){a&&(g("",a,c,b,!0,!0),g(a,"",c,b,!0,!0))},traverseAncestors:function(a,
c,b){g("",a,c,b,!0,!1)},getFirstCommonAncestorID:d,_getNextDescendantID:e,isAncestorIDOf:a,SEPARATOR:"."}},function(p,k,f){p.exports={}},function(p,k,f){var n=f(67),b=f(125),a=f(80),c=f(89),e=f(90),d=f(1);f(2);var g={},h=null,l=function(a,c){a&&(b.executeDispatchesInOrder(a,c),a.isPersistent()||a.constructor.release(a))},m=function(a){return l(a,!0)},r=function(a){return l(a,!1)},t=null;p.exports={injection:{injectMount:b.injection.injectMount,injectInstanceHandle:function(a){t=a},getInstanceHandle:function(){return t},
injectEventPluginOrder:n.injectEventPluginOrder,injectEventPluginsByName:n.injectEventPluginsByName},eventNameDispatchConfigs:n.eventNameDispatchConfigs,registrationNameModules:n.registrationNameModules,putListener:function(a,c,b){"function"!==typeof b?d(!1):void 0;(g[c]||(g[c]={}))[a]=b;var e=n.registrationNameModules[c];e&&e.didPutListener&&e.didPutListener(a,c,b)},getListener:function(a,c){var b=g[c];return b&&b[a]},deleteListener:function(a,c){var b=n.registrationNameModules[c];b&&b.willDeleteListener&&
b.willDeleteListener(a,c);(b=g[c])&&delete b[a]},deleteAllListeners:function(a){for(var c in g)if(g[c][a]){var b=n.registrationNameModules[c];b&&b.willDeleteListener&&b.willDeleteListener(a,c);delete g[c][a]}},extractEvents:function(a,b,e,d,g){for(var h,l=n.plugins,m=0;m<l.length;m++){var r=l[m];r&&(r=r.extractEvents(a,b,e,d,g))&&(h=c(h,r))}return h},enqueueEvents:function(a){a&&(h=c(h,a))},processEventQueue:function(c){var b=h;h=null;c?e(b,m):e(b,r);h?d(!1):void 0;a.rethrowCaughtError()},__purge:function(){g=
{}},__getListenerBank:function(){return g}}},function(p,k,f){function n(a,c,b){if(c=m(a,b.dispatchConfig.phasedRegistrationNames[c?l.bubbled:l.captured]))b._dispatchListeners=g(b._dispatchListeners,c),b._dispatchIDs=g(b._dispatchIDs,a)}function b(a){a&&a.dispatchConfig.phasedRegistrationNames&&d.injection.getInstanceHandle().traverseTwoPhase(a.dispatchMarker,n,a)}function a(a){a&&a.dispatchConfig.phasedRegistrationNames&&d.injection.getInstanceHandle().traverseTwoPhaseSkipTarget(a.dispatchMarker,
n,a)}function c(a,c,b){b&&b.dispatchConfig.registrationName&&(c=m(a,b.dispatchConfig.registrationName))&&(b._dispatchListeners=g(b._dispatchListeners,c),b._dispatchIDs=g(b._dispatchIDs,a))}function e(a){a&&a.dispatchConfig.registrationName&&c(a.dispatchMarker,null,a)}k=f(11);var d=f(20);f(2);var g=f(89),h=f(90),l=k.PropagationPhases,m=d.getListener;p.exports={accumulateTwoPhaseDispatches:function(a){h(a,b)},accumulateTwoPhaseDispatchesSkipTarget:function(c){h(c,a)},accumulateDirectDispatches:function(a){h(a,
e)},accumulateEnterLeaveDispatches:function(a,b,e,g){d.injection.getInstanceHandle().traverseEnterLeave(e,g,c,a,b)}}},function(p,k){p.exports={remove:function(f){f._reactInternalInstance=void 0},get:function(f){return f._reactInternalInstance},has:function(f){return void 0!==f._reactInternalInstance},set:function(f,n){f._reactInternalInstance=n}}},function(p,k,f){function n(a,e,d,g){b.call(this,a,e,d,g)}var b=f(16),a=f(47);b.augmentClass(n,{view:function(c){if(c.view)return c.view;c=a(c);return null!=
c&&c.window===c?c:(c=c.ownerDocument)?c.defaultView||c.parentWindow:window},detail:function(a){return a.detail||0}});p.exports=n},function(p,k,f){var n=f(1);p.exports=function(b){var a={},c;b instanceof Object&&!Array.isArray(b)?void 0:n(!1);for(c in b)b.hasOwnProperty(c)&&(a[c]=c);return a}},function(p,k,f){var n=f(11);k=f(20);var b=f(67),a=f(140),c=f(8),e=f(88),d=f(3),g=f(50),h={},l=!1,m=0,r={topAbort:"abort",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",
topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",
topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",
topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},t="_reactListenersID"+String(Math.random()).slice(2),w=d({},a,{ReactEventListener:null,injection:{injectReactEventListener:function(a){a.setHandleTopLevel(w.handleTopLevel);w.ReactEventListener=a}},setEnabled:function(a){w.ReactEventListener&&
w.ReactEventListener.setEnabled(a)},isEnabled:function(){return!(!w.ReactEventListener||!w.ReactEventListener.isEnabled())},listenTo:function(a,c){var e;Object.prototype.hasOwnProperty.call(c,t)||(c[t]=m++,h[c[t]]={});e=h[c[t]];for(var d=b.registrationNameDependencies[a],l=n.topLevelTypes,f=0;f<d.length;f++){var k=d[f];e.hasOwnProperty(k)&&e[k]||(k===l.topWheel?g("wheel")?w.ReactEventListener.trapBubbledEvent(l.topWheel,"wheel",c):g("mousewheel")?w.ReactEventListener.trapBubbledEvent(l.topWheel,"mousewheel",
c):w.ReactEventListener.trapBubbledEvent(l.topWheel,"DOMMouseScroll",c):k===l.topScroll?g("scroll",!0)?w.ReactEventListener.trapCapturedEvent(l.topScroll,"scroll",c):w.ReactEventListener.trapBubbledEvent(l.topScroll,"scroll",w.ReactEventListener.WINDOW_HANDLE):k===l.topFocus||k===l.topBlur?(g("focus",!0)?(w.ReactEventListener.trapCapturedEvent(l.topFocus,"focus",c),w.ReactEventListener.trapCapturedEvent(l.topBlur,"blur",c)):g("focusin")&&(w.ReactEventListener.trapBubbledEvent(l.topFocus,"focusin",
c),w.ReactEventListener.trapBubbledEvent(l.topBlur,"focusout",c)),e[l.topBlur]=!0,e[l.topFocus]=!0):r.hasOwnProperty(k)&&w.ReactEventListener.trapBubbledEvent(k,r[k],c),e[k]=!0)}},trapBubbledEvent:function(a,c,b){return w.ReactEventListener.trapBubbledEvent(a,c,b)},trapCapturedEvent:function(a,c,b){return w.ReactEventListener.trapCapturedEvent(a,c,b)},ensureScrollValueMonitoring:function(){l||(w.ReactEventListener.monitorScrollValue(e.refreshScrollValues),l=!0)},eventNameDispatchConfigs:k.eventNameDispatchConfigs,
registrationNameModules:k.registrationNameModules,putListener:k.putListener,getListener:k.getListener,deleteListener:k.deleteListener,deleteAllListeners:k.deleteAllListeners});c.measureMethods(w,"ReactBrowserEventEmitter",{putListener:"putListener",deleteListener:"deleteListener"});p.exports=w},function(p,k,f){p.exports={}},function(p,k,f){k=f(24)({prop:null,context:null,childContext:null});p.exports=k},function(p,k,f){function n(a,e,d,g){b.call(this,a,e,d,g)}var b=f(23),a=f(88);k={screenX:null,screenY:null,
clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:f(46),button:function(a){var b=a.button;return"which"in a?b:2===b?2:4===b?1:0},buttons:null,relatedTarget:function(a){return a.relatedTarget||(a.fromElement===a.srcElement?a.toElement:a.fromElement)},pageX:function(c){return"pageX"in c?c.pageX:c.clientX+a.currentScrollLeft},pageY:function(c){return"pageY"in c?c.pageY:c.clientY+a.currentScrollTop}};b.augmentClass(n,k);p.exports=n},function(p,k,f){var n=f(1),
b={Mixin:{reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers();this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[];this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(a,c,b,d,g,h,l,m){this.isInTransaction()?n(!1):void 0;var r,f;try{r=this._isInTransaction=!0,this.initializeAll(0),f=a.call(c,b,d,g,h,l,m),r=!1}finally{try{if(r)try{this.closeAll(0)}catch(w){}else this.closeAll(0)}finally{this._isInTransaction=
!1}}return f},initializeAll:function(a){for(var c=this.transactionWrappers;a<c.length;a++){var e=c[a];try{this.wrapperInitData[a]=b.OBSERVED_ERROR,this.wrapperInitData[a]=e.initialize?e.initialize.call(this):null}finally{if(this.wrapperInitData[a]===b.OBSERVED_ERROR)try{this.initializeAll(a+1)}catch(d){}}}},closeAll:function(a){this.isInTransaction()?void 0:n(!1);for(var c=this.transactionWrappers;a<c.length;a++){var e=c[a],d=this.wrapperInitData[a],g;try{g=!0,d!==b.OBSERVED_ERROR&&e.close&&e.close.call(this,
d),g=!1}finally{if(g)try{this.closeAll(a+1)}catch(h){}}}this.wrapperInitData.length=0}},OBSERVED_ERROR:{}};p.exports=b},function(p,k,f){p.exports=!1},function(p,k){function f(a){return n[a]}var n={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},b=/[&><"']/g;p.exports=function(a){return(""+a).replace(b,f)}},function(p,k,f){f=f(4);var n=/^[ \r\n\t\f]/,b=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/;k=function(a,c){a.innerHTML=c};"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction&&
(k=function(a,c){MSApp.execUnsafeLocalFunction(function(){a.innerHTML=c})});f.canUseDOM&&(f=document.createElement("div"),f.innerHTML=" ",""===f.innerHTML&&(k=function(a,c){a.parentNode&&a.parentNode.replaceChild(a,a);if(n.test(c)||"<"===c[0]&&b.test(c)){a.innerHTML=String.fromCharCode(65279)+c;var e=a.firstChild;1===e.data.length?a.removeChild(e):e.deleteData(0,1)}else a.innerHTML=c}));p.exports=k},function(p,k,f){var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:
function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol?"symbol":typeof a},b=function(a,c){function b(){this.constructor=a}for(var e in c)c.hasOwnProperty(e)&&(a[e]=c[e]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)},a=f(100);p=f(94);var c=f(173),e=f(98);f=function(a){function h(b,e,r){a.call(this);this.syncErrorValue=null;this.isStopped=this.syncErrorThrowable=this.syncErrorThrown=!1;switch(arguments.length){case 0:this.destination=c.empty;break;case 1:if(!b){this.destination=
c.empty;break}if("object"===("undefined"===typeof b?"undefined":n(b))){b instanceof h?(this.destination=b,this.destination.add(this)):(this.syncErrorThrowable=!0,this.destination=new d(this,b));break}default:this.syncErrorThrowable=!0,this.destination=new d(this,b,e,r)}}b(h,a);h.prototype[e.$$rxSubscriber]=function(){return this};h.create=function(a,c,b){a=new h(a,c,b);a.syncErrorThrowable=!1;return a};h.prototype.next=function(a){this.isStopped||this._next(a)};h.prototype.error=function(a){this.isStopped||
(this.isStopped=!0,this._error(a))};h.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())};h.prototype.unsubscribe=function(){this.isUnsubscribed||(this.isStopped=!0,a.prototype.unsubscribe.call(this))};h.prototype._next=function(a){this.destination.next(a)};h.prototype._error=function(a){this.destination.error(a);this.unsubscribe()};h.prototype._complete=function(){this.destination.complete();this.unsubscribe()};return h}(p.Subscription);k.Subscriber=f;var d=function(c){function e(b,
d,h,f){c.call(this);this._parent=b;var w;b=this;a.isFunction(d)?w=d:d&&(b=d,w=d.next,h=d.error,f=d.complete,a.isFunction(b.unsubscribe)&&this.add(b.unsubscribe.bind(b)),b.unsubscribe=this.unsubscribe.bind(this));this._context=b;this._next=w;this._error=h;this._complete=f}b(e,c);e.prototype.next=function(a){if(!this.isStopped&&this._next){var c=this._parent;c.syncErrorThrowable?this.__tryOrSetError(c,this._next,a)&&this.unsubscribe():this.__tryOrUnsub(this._next,a)}};e.prototype.error=function(a){if(!this.isStopped){var c=
this._parent;if(this._error)c.syncErrorThrowable?this.__tryOrSetError(c,this._error,a):this.__tryOrUnsub(this._error,a),this.unsubscribe();else if(c.syncErrorThrowable)c.syncErrorValue=a,c.syncErrorThrown=!0,this.unsubscribe();else throw this.unsubscribe(),a;}};e.prototype.complete=function(){if(!this.isStopped){var a=this._parent;this._complete&&(a.syncErrorThrowable?this.__tryOrSetError(a,this._complete):this.__tryOrUnsub(this._complete));this.unsubscribe()}};e.prototype.__tryOrUnsub=function(a,
c){try{a.call(this._context,c)}catch(b){throw this.unsubscribe(),b;}};e.prototype.__tryOrSetError=function(a,c,b){try{c.call(this._context,b)}catch(e){return a.syncErrorValue=e,a.syncErrorThrown=!0}return!1};e.prototype._unsubscribe=function(){var a=this._parent;this._parent=this._context=null;a.unsubscribe()};return e}(f)},function(p,k){k.isScheduler=function(f){return f&&"function"===typeof f.schedule}},function(p,k,f){(function(f,b){var a="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?
function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol?"symbol":typeof a},c={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1};k.root=c["undefined"===typeof self?"undefined":a(self)]&&self||c["undefined"===typeof window?"undefined":a(window)]&&window;a(k);a(f);!(a=c["undefined"===typeof b?"undefined":a(b)]&&b)||a.global!==a&&a.window!==a||(k.root=a)}).call(k,f(195)(p),function(){return this}())},function(p,k,f){function n(){this._contexts=
this._callbacks=null}k=f(14);var b=f(3),a=f(1);b(n.prototype,{enqueue:function(a,b){this._callbacks=this._callbacks||[];this._contexts=this._contexts||[];this._callbacks.push(a);this._contexts.push(b)},notifyAll:function(){var c=this._callbacks,b=this._contexts;if(c){c.length!==b.length?a(!1):void 0;this._contexts=this._callbacks=null;for(var d=0;d<c.length;d++)c[d].call(b[d]);c.length=0;b.length=0}},reset:function(){this._contexts=this._callbacks=null},destructor:function(){this.reset()}});k.addPoolingTo(n);
p.exports=n},function(p,k,f){function n(a){if(g.hasOwnProperty(a))return!0;if(d.hasOwnProperty(a))return!1;if(e.test(a))return g[a]=!0;d[a]=!0;void 0;return!1}function b(a,c){return null==c||a.hasBooleanValue&&!c||a.hasNumericValue&&isNaN(c)||a.hasPositiveNumericValue&&1>c||a.hasOverloadedBooleanValue&&!1===c}var a=f(17);k=f(8);var c=f(170);f(2);var e=/^[a-zA-Z_][\w\.\-]*$/,d={},g={},h={createMarkupForID:function(b){return a.ID_ATTRIBUTE_NAME+"="+c(b)},setAttributeForID:function(c,b){c.setAttribute(a.ID_ATTRIBUTE_NAME,
b)},createMarkupForProperty:function(e,d){var g=a.properties.hasOwnProperty(e)?a.properties[e]:null;if(g){if(b(g,d))return"";var h=g.attributeName;return g.hasBooleanValue||g.hasOverloadedBooleanValue&&!0===d?h+'=""':h+"="+c(d)}return a.isCustomAttribute(e)?null==d?"":e+"="+c(d):null},createMarkupForCustomAttribute:function(a,b){return n(a)&&null!=b?a+"="+c(b):""},setValueForProperty:function(c,e,d){var g=a.properties.hasOwnProperty(e)?a.properties[e]:null;if(g){var f=g.mutationMethod;f?f(c,d):b(g,
d)?this.deleteValueForProperty(c,e):g.mustUseAttribute?(e=g.attributeName,(f=g.attributeNamespace)?c.setAttributeNS(f,e,""+d):g.hasBooleanValue||g.hasOverloadedBooleanValue&&!0===d?c.setAttribute(e,""):c.setAttribute(e,""+d)):(e=g.propertyName,g.hasSideEffects&&""+c[e]===""+d||(c[e]=d))}else a.isCustomAttribute(e)&&h.setValueForAttribute(c,e,d)},setValueForAttribute:function(a,c,b){n(c)&&(null==b?a.removeAttribute(c):a.setAttribute(c,""+b))},deleteValueForProperty:function(c,b){var e=a.properties.hasOwnProperty(b)?
a.properties[b]:null;if(e){var d=e.mutationMethod;if(d)d(c,void 0);else if(e.mustUseAttribute)c.removeAttribute(e.attributeName);else{var d=e.propertyName,g=a.getDefaultValueForProperty(c.nodeName,d);e.hasSideEffects&&""+c[d]===g||(c[d]=g)}}else a.isCustomAttribute(b)&&c.removeAttribute(b)}};k.measureMethods(h,"DOMPropertyOperations",{setValueForProperty:"setValueForProperty",setValueForAttribute:"setValueForAttribute",deleteValueForProperty:"deleteValueForProperty"});p.exports=h},function(p,k,f){function n(a){null!=
a.checkedLink&&null!=a.valueLink?e(!1):void 0}function b(a){n(a);null!=a.value||null!=a.onChange?e(!1):void 0}function a(a){n(a);null!=a.checked||null!=a.onChange?e(!1):void 0}k=f(86);var c=f(27),e=f(1);f(2);var d={button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0},g={value:function(a,c,b){return!a[c]||d[a.type]||a.onChange||a.readOnly||a.disabled?null:Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},
checked:function(a,c,b){return!a[c]||a.onChange||a.readOnly||a.disabled?null:Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:k.func},h={};p.exports={checkPropTypes:function(a,b,e){for(var d in g){if(g.hasOwnProperty(d))var f=g[d](b,d,a,c.prop);f instanceof Error&&!(f.message in h)&&(h[f.message]=!0,e&&e.getName(),void 0)}},
getValue:function(a){return a.valueLink?(b(a),a.valueLink.value):a.value},getChecked:function(c){return c.checkedLink?(a(c),c.checkedLink.value):c.checked},executeOnChange:function(c,e){if(c.valueLink)return b(c),c.valueLink.requestChange(e.target.value);if(c.checkedLink)return a(c),c.checkedLink.requestChange(e.target.checked);if(c.onChange)return c.onChange.call(void 0,e)}}},function(p,k,f){k=f(41);var n=f(5);p.exports={processChildrenUpdates:k.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkupByID:k.dangerouslyReplaceNodeWithMarkupByID,
unmountIDFromEnvironment:function(b){n.purgeID(b)}}},function(p,k,f){var n=f(1),b=!1,a={unmountIDFromEnvironment:null,replaceNodeWithMarkupByID:null,processChildrenUpdates:null,injection:{injectEnvironment:function(c){b?n(!1):void 0;a.unmountIDFromEnvironment=c.unmountIDFromEnvironment;a.replaceNodeWithMarkupByID=c.replaceNodeWithMarkupByID;a.processChildrenUpdates=c.processChildrenUpdates;b=!0}}};p.exports=a},function(p,k,f){var n=f(66),b=f(37),a=f(5);k=f(8);var c=f(1),e={dangerouslySetInnerHTML:"`dangerouslySetInnerHTML` must be set using `updateInnerHTMLByID()`.",
style:"`style` must be set using `updateStylesByID()`."};f={updatePropertyByID:function(d,g,h){d=a.getNode(d);e.hasOwnProperty(g)?c(!1):void 0;null!=h?b.setValueForProperty(d,g,h):b.deleteValueForProperty(d,g)},dangerouslyReplaceNodeWithMarkupByID:function(c,b){var e=a.getNode(c);n.dangerouslyReplaceNodeWithMarkup(e,b)},dangerouslyProcessChildrenUpdates:function(c,b){for(var e=0;e<c.length;e++)c[e].parentNode=a.getNode(c[e].parentID);n.processUpdates(c,b)}};k.measureMethods(f,"ReactDOMIDOperations",
{dangerouslyReplaceNodeWithMarkupByID:"dangerouslyReplaceNodeWithMarkupByID",dangerouslyProcessChildrenUpdates:"dangerouslyProcessChildrenUpdates"});p.exports=f},function(p,k,f){function n(c,b){var e=a.get(c);return e?e:null}f(12);var b=f(6),a=f(22),c=f(9),e=f(3),d=f(1);f(2);var g={isMounted:function(c){return(c=a.get(c))?!!c._renderedComponent:!1},enqueueCallback:function(a,b){"function"!==typeof b?d(!1):void 0;var e=n(a);if(!e)return null;e._pendingCallbacks?e._pendingCallbacks.push(b):e._pendingCallbacks=
[b];c.enqueueUpdate(e)},enqueueCallbackInternal:function(a,b){"function"!==typeof b?d(!1):void 0;a._pendingCallbacks?a._pendingCallbacks.push(b):a._pendingCallbacks=[b];c.enqueueUpdate(a)},enqueueForceUpdate:function(a){if(a=n(a,"forceUpdate"))a._pendingForceUpdate=!0,c.enqueueUpdate(a)},enqueueReplaceState:function(a,b){var e=n(a,"replaceState");e&&(e._pendingStateQueue=[b],e._pendingReplaceState=!0,c.enqueueUpdate(e))},enqueueSetState:function(a,b){var e=n(a,"setState");e&&((e._pendingStateQueue||
(e._pendingStateQueue=[])).push(b),c.enqueueUpdate(e))},enqueueSetProps:function(a,c){var b=n(a,"setProps");b&&g.enqueueSetPropsInternal(b,c)},enqueueSetPropsInternal:function(a,g){var m=a._topLevelWrapper;m?void 0:d(!1);var f=m._pendingElement||m._currentElement,t=f.props,w=e({},t.props,g);m._pendingElement=b.cloneAndReplaceProps(f,b.cloneAndReplaceProps(t,w));c.enqueueUpdate(m)},enqueueReplaceProps:function(a,c){var b=n(a,"replaceProps");b&&g.enqueueReplacePropsInternal(b,c)},enqueueReplacePropsInternal:function(a,
e){var g=a._topLevelWrapper;g?void 0:d(!1);var f=g._pendingElement||g._currentElement;g._pendingElement=b.cloneAndReplaceProps(f,b.cloneAndReplaceProps(f.props,e));c.enqueueUpdate(g)},enqueueElementInternal:function(a,b){a._pendingElement=b;c.enqueueUpdate(a)}};p.exports=g},function(p,k){p.exports="0.14.8"},function(p,k,f){f(12);var n=f(22),b=f(5),a=f(1);f(2);p.exports=function(c){if(null==c)return null;if(1===c.nodeType)return c;if(n.has(c))return b.getNodeFromInstance(c);null!=c.render&&"function"===
typeof c.render?a(!1):void 0;a(!1)}},function(p,k){p.exports=function(f){var n=f.keyCode;"charCode"in f?(f=f.charCode,0===f&&13===n&&(f=13)):f=n;return 32<=f||13===f?f:0}},function(p,k){function f(b){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(b):(b=n[b])?!!a[b]:!1}var n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};p.exports=function(b){return f}},function(p,k){p.exports=function(f){f=f.target||f.srcElement||window;return 3===f.nodeType?f.parentNode:f}},
function(p,k){var f="function"===typeof Symbol&&Symbol.iterator;p.exports=function(n){n=n&&(f&&n[f]||n["@@iterator"]);if("function"===typeof n)return n}},function(p,k,f){function n(e){var l;null===e||!1===e?l=new a(n):"object"===("undefined"===typeof e?"undefined":b(e))?(!e||"function"!==typeof e.type&&"string"!==typeof e.type?d(!1):void 0,"string"===typeof e.type?l=c.createInternalComponent(e):(l=e.type,l="function"===typeof l&&"undefined"!==typeof l.prototype&&"function"===typeof l.prototype.mountComponent&&
"function"===typeof l.prototype.receiveComponent?new e.type(e):new g)):"string"===typeof e||"number"===typeof e?l=c.createInstanceForText(e):d(!1);l.construct(e);l._mountIndex=0;l._mountImage=null;return l}var b="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};k=f(131);var a=f(78),c=f(84),e=f(3),d=f(1);f(2);var g=function(){};e(g.prototype,k.Mixin,{_instantiateReactComponent:n});
p.exports=n},function(p,k,f){var n=f(4),b;n.canUseDOM&&(b=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("",""));p.exports=function(a,c){if(!n.canUseDOM||c&&!("addEventListener"in document))return!1;var e="on"+a,d=e in document;d||(d=document.createElement("div"),d.setAttribute(e,"return;"),d="function"===typeof d[e]);!d&&b&&"wheel"===a&&(d=document.implementation.hasFeature("Events.wheel","3.0"));return d}},function(p,k,f){k=f(4);var n=f(31),
b=f(32);f=function(a,c){a.textContent=c};k.canUseDOM&&("textContent"in document.documentElement||(f=function(a,c){b(a,n(c))}));p.exports=f},function(p,k){var f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"===typeof Symbol&&f.constructor===Symbol?"symbol":typeof f};p.exports=function(n,b){var a=null===n||!1===n,c=null===b||!1===b;if(a||c)return a===c;a="undefined"===typeof n?"undefined":f(n);c="undefined"===typeof b?"undefined":
f(b);return"string"===a||"number"===a?"string"===c||"number"===c:"object"===c&&n.type===b.type&&n.key===b.key}},function(p,k,f){function n(a){return l[a]}function b(a,c){return a&&null!=a.key?"$"+(""+a.key).replace(m,n):c.toString(36)}function a(l,f,w,u){var q="undefined"===typeof l?"undefined":c(l);if("undefined"===q||"boolean"===q)l=null;if(null===l||"string"===q||"number"===q||e.isValidElement(l))return w(u,l,""===f?h+b(l,0):f),1;var v,x,k=0;f=""===f?h:f+":";if(Array.isArray(l))for(q=0;q<l.length;q++)v=
l[q],x=f+b(v,q),k+=a(v,x,w,u);else if(v=d(l))if(q=v.call(l),v!==l.entries)for(l=0;!(v=q.next()).done;)v=v.value,x=f+b(v,l++),k+=a(v,x,w,u);else for(;!(v=q.next()).done;){if(l=v.value)v=l[1],x=f+("$"+(""+l[0]).replace(m,n))+":"+b(v,0),k+=a(v,x,w,u)}else"object"===q&&g(!1);return k}var c="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};f(12);var e=f(6);k=f(18);var d=
f(48),g=f(1);f(2);var h=k.SEPARATOR,l={"=":"=0",".":"=1",":":"=2"},m=/[=.:]/g;p.exports=function(c,b,e){return null==c?0:a(c,"",b,e)}},function(p,k,f){f(3);k=f(10);f(2);p.exports=k},function(p,k,f){var n=function(b,a){function c(){this.constructor=b}for(var e in a)a.hasOwnProperty(e)&&(b[e]=a[e]);b.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)};p=function(b){function a(){b.apply(this,arguments)}n(a,b);a.prototype.notifyNext=function(a,b,d,g,h){this.destination.next(b)};a.prototype.notifyError=
function(a,b){this.destination.error(a)};a.prototype.notifyComplete=function(a){this.destination.complete()};return a}(f(33).Subscriber);k.OuterSubscriber=p},function(p,k,f){var n=function(a,c){function b(){this.constructor=a}for(var h in c)c.hasOwnProperty(h)&&(a[h]=c[h]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)};p=f(7);var b=f(96),a=f(95),c=f(34);f=function(e){function d(a,c){e.call(this);this.array=a;this.scheduler=c;c||1!==a.length||(this._isScalar=!0,this.value=a[0])}
n(d,e);d.create=function(a,c){return new d(a,c)};d.of=function(){for(var e=[],h=0;h<arguments.length;h++)e[h-0]=arguments[h];h=e[e.length-1];c.isScheduler(h)?e.pop():h=null;var l=e.length;return 1<l?new d(e,h):1===l?new b.ScalarObservable(e[0],h):new a.EmptyObservable(h)};d.dispatch=function(a){var c=a.array,b=a.index,e=a.subscriber;b>=a.count?e.complete():(e.next(c[b]),e.isUnsubscribed||(a.index=b+1,this.schedule(a)))};d.prototype._subscribe=function(a){var c=this.array,b=c.length,e=this.scheduler;
if(e)return e.schedule(d.dispatch,0,{array:c,index:0,count:b,subscriber:a});for(e=0;e<b&&!a.isUnsubscribed;e++)a.next(c[e]);a.complete()};return d}(p.Observable);k.ArrayObservable=f},function(p,k){k.errorObject={e:{}}},function(p,k,f){var n=f(35),b=f(99),a=f(191),c=f(7),e=f(188),d=f(172),g=f(102);k.subscribeToResult=function(h,l,m,f){var t=new d.InnerSubscriber(h,m,f);if(!t.isUnsubscribed){if(l instanceof c.Observable){if(l._isScalar){t.next(l.value);t.complete();return}return l.subscribe(t)}if(b.isArray(l)){h=
0;for(m=l.length;h<m&&!t.isUnsubscribed;h++)t.next(l[h]);t.isUnsubscribed||t.complete()}else{if(a.isPromise(l))return l.then(function(a){t.isUnsubscribed||(t.next(a),t.complete())},function(a){return t.error(a)}).then(null,function(a){n.root.setTimeout(function(){throw a;})}),t;if("function"===typeof l[e.$$iterator]){for(h=0;h<l.length&&(t.next(l[h]),!t.isUnsubscribed);h++);t.isUnsubscribed||t.complete()}else if("function"===typeof l[g])if(l=l[g](),"function"!==typeof l.subscribe)t.error("invalid observable");
else return l.subscribe(new d.InnerSubscriber(h,m,f));else t.error(new TypeError("unknown type returned"))}}}},function(p,k,f){var n=f(10);p.exports={listen:function(b,a,c){if(b.addEventListener)return b.addEventListener(a,c,!1),{remove:function(){b.removeEventListener(a,c,!1)}};if(b.attachEvent)return b.attachEvent("on"+a,c),{remove:function(){b.detachEvent("on"+a,c)}}},capture:function(b,a,c){return b.addEventListener?(b.addEventListener(a,c,!0),{remove:function(){b.removeEventListener(a,c,!0)}}):
{remove:n}},registerDefault:function(){}}},function(p,k,f){var n=f(111);p.exports=function(b,a){var c=!0;for(;c;){var c=b,e=a;if(c&&e){if(c===e)return!0;if(n(c))return!1;if(n(e))b=c,a=e.parentNode,c=!0;else return c.contains?c.contains(e):c.compareDocumentPosition?!!(c.compareDocumentPosition(e)&16):!1}else return!1}}},function(p,k){p.exports=function(f){try{f.focus()}catch(n){}}},function(p,k){p.exports=function(){if("undefined"===typeof document)return null;try{return document.activeElement||document.body}catch(f){return document.body}}},
function(p,k,f){k=f(4);var n=f(1),b=k.canUseDOM?document.createElement("div"):null,a={};f=[1,'<select multiple="true">',"</select>"];k=[1,"<table>","</table>"];var c=[3,"<table><tbody><tr>","</tr></tbody></table>"],e=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],d={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],
optgroup:f,option:f,caption:k,colgroup:k,tbody:k,tfoot:k,thead:k,td:c,th:c};"circle clipPath defs ellipse g image line linearGradient mask path pattern polygon polyline radialGradient rect stop text tspan".split(" ").forEach(function(c){d[c]=e;a[c]=!0});p.exports=function(c){b?void 0:n(!1);d.hasOwnProperty(c)||(c="*");a.hasOwnProperty(c)||(b.innerHTML="*"===c?"<link />":"<"+c+"></"+c+">",a[c]=!b.firstChild);return a[c]?d[c]:null}},function(p,k){var f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?
function(b){return typeof b}:function(b){return b&&"function"===typeof Symbol&&b.constructor===Symbol?"symbol":typeof b},n=Object.prototype.hasOwnProperty;p.exports=function(b,a){if(b===a)return!0;if("object"!==("undefined"===typeof b?"undefined":f(b))||null===b||"object"!==("undefined"===typeof a?"undefined":f(a))||null===a)return!1;var c=Object.keys(b),e=Object.keys(a);if(c.length!==e.length)return!1;for(var e=n.bind(a),d=0;d<c.length;d++)if(!e(c[d])||b[c[d]]!==a[c[d]])return!1;return!0}},function(p,
k){var f={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},n=["Webkit","ms","Moz","O"];Object.keys(f).forEach(function(b){n.forEach(function(a){a=a+b.charAt(0).toUpperCase()+b.substring(1);
f[a]=f[b]})});p.exports={isUnitlessNumber:f,shorthandPropertyExpansions:{background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,
borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}}}},function(p,k,f){var n=f(122),b=f(83);k=f(8);var a=f(32),c=f(51),e=f(1);f={dangerouslyReplaceNodeWithMarkup:n.dangerouslyReplaceNodeWithMarkup,updateTextContent:c,processUpdates:function(d,g){for(var h,l=null,m=null,f=0;f<d.length;f++)if(h=d[f],
h.type===b.MOVE_EXISTING||h.type===b.REMOVE_NODE){var t=h.fromIndex,w=h.parentNode.childNodes[t];h=h.parentID;w?void 0:e(!1);l=l||{};l[h]=l[h]||[];l[h][t]=w;m=m||[];m.push(w)}f=g.length&&"string"===typeof g[0]?n.dangerouslyRenderMarkup(g):g;if(m)for(h=0;h<m.length;h++)m[h].parentNode.removeChild(m[h]);for(m=0;m<d.length;m++)switch(h=d[m],h.type){case b.INSERT_MARKUP:t=h.parentNode;w=f[h.markupIndex];h=h.toIndex;h=h>=t.childNodes.length?null:t.childNodes.item(h);t.insertBefore(w,h);break;case b.MOVE_EXISTING:t=
h.parentNode;w=l[h.parentID][h.fromIndex];h=h.toIndex;h=h>=t.childNodes.length?null:t.childNodes.item(h);t.insertBefore(w,h);break;case b.SET_MARKUP:a(h.parentNode,h.content);break;case b.TEXT_CONTENT:c(h.parentNode,h.content)}}};k.measureMethods(f,"DOMChildrenOperations",{updateTextContent:"updateTextContent"});p.exports=f},function(p,k,f){function n(){if(c)for(var g in e){var h=e[g],l=c.indexOf(g);-1<l?void 0:a(!1);if(!d.plugins[l]){h.extractEvents?void 0:a(!1);d.plugins[l]=h;var l=h.eventTypes,
m;for(m in l){var f;var t=l[m];f=h;var w=m;d.eventNameDispatchConfigs.hasOwnProperty(w)?a(!1):void 0;d.eventNameDispatchConfigs[w]=t;var u=t.phasedRegistrationNames;if(u){t=void 0;for(t in u)u.hasOwnProperty(t)&&b(u[t],f,w);f=!0}else t.registrationName?(b(t.registrationName,f,w),f=!0):f=!1;f?void 0:a(!1)}}}}function b(c,b,e){d.registrationNameModules[c]?a(!1):void 0;d.registrationNameModules[c]=b;d.registrationNameDependencies[c]=b.eventTypes[e].dependencies}var a=f(1),c=null,e={},d={plugins:[],eventNameDispatchConfigs:{},
registrationNameModules:{},registrationNameDependencies:{},injectEventPluginOrder:function(b){c?a(!1):void 0;c=Array.prototype.slice.call(b);n()},injectEventPluginsByName:function(c){var b=!1,d;for(d in c)if(c.hasOwnProperty(d)){var m=c[d];e.hasOwnProperty(d)&&e[d]===m||(e[d]?a(!1):void 0,e[d]=m,b=!0)}b&&n()},getPluginModuleForEvent:function(a){a=a.dispatchConfig;if(a.registrationName)return d.registrationNameModules[a.registrationName]||null;for(var c in a.phasedRegistrationNames)if(a.phasedRegistrationNames.hasOwnProperty(c)){var b=
d.registrationNameModules[a.phasedRegistrationNames[c]];if(b)return b}return null},_resetEventPlugins:function(){c=null;for(var a in e)e.hasOwnProperty(a)&&delete e[a];d.plugins.length=0;a=d.eventNameDispatchConfigs;for(var b in a)a.hasOwnProperty(b)&&delete a[b];b=d.registrationNameModules;for(var l in b)b.hasOwnProperty(l)&&delete b[l]}};p.exports=d},function(p,k,f){function n(a,c){this.func=a;this.context=c;this.count=0}function b(a,c,b){a.func.call(a.context,c,a.count++)}function a(a,c,b,e){this.result=
a;this.keyPrefix=c;this.func=b;this.context=e;this.count=0}function c(a,c,b){var d=a.result,l=a.keyPrefix;a=a.func.call(a.context,c,a.count++);Array.isArray(a)?e(a,d,b,h.thatReturnsArgument):null!=a&&(g.isValidElement(a)&&(a=g.cloneAndReplaceKey(a,l+(a!==c?(""+(a.key||"")).replace(r,"//")+"/":"")+b)),d.push(a))}function e(b,e,d,g,h){var m="";null!=d&&(m=(""+d).replace(r,"//")+"/");e=a.getPooled(e,m,g,h);l(b,c,e);a.release(e)}function d(a,c,b){return null}k=f(14);var g=f(6),h=f(10),l=f(53);f=k.twoArgumentPooler;
var m=k.fourArgumentPooler,r=/\/(?!\/)/g;n.prototype.destructor=function(){this.context=this.func=null;this.count=0};k.addPoolingTo(n,f);a.prototype.destructor=function(){this.context=this.func=this.keyPrefix=this.result=null;this.count=0};k.addPoolingTo(a,m);p.exports={forEach:function(a,c,e){if(null==a)return a;c=n.getPooled(c,e);l(a,b,c);n.release(c)},map:function(a,c,b){if(null==a)return a;var d=[];e(a,d,null,c,b);return d},mapIntoWithKeyPrefixInternal:e,count:function(a,c){return l(a,d,null)},
toArray:function(a){var c=[];e(a,c,null,h.thatReturnsArgument);return c}}},function(p,k,f){function n(b,e){if(e){"function"===typeof e?m(!1):void 0;d.isValidElement(e)?m(!1):void 0;var g=b.prototype;e.hasOwnProperty(w)&&x.mixins(b,e.mixins);for(var h in e)if(e.hasOwnProperty(h)&&h!==w){var l=e[h],f=g,r=h,t=v.hasOwnProperty(r)?v[r]:null;z.hasOwnProperty(r)&&(t!==u.OVERRIDE_BASE?m(!1):void 0);f.hasOwnProperty(r)&&(t!==u.DEFINE_MANY&&t!==u.DEFINE_MANY_MERGED?m(!1):void 0);if(x.hasOwnProperty(h))x[h](b,
l);else f=v.hasOwnProperty(h),r=g.hasOwnProperty(h),"function"!==typeof l||f||r||!1===e.autobind?r?(r=v[h],!f||r!==u.DEFINE_MANY_MERGED&&r!==u.DEFINE_MANY?m(!1):void 0,r===u.DEFINE_MANY_MERGED?g[h]=a(g[h],l):r===u.DEFINE_MANY&&(g[h]=c(g[h],l))):g[h]=l:(g.__reactAutoBindMap||(g.__reactAutoBindMap={}),g.__reactAutoBindMap[h]=l,g[h]=l)}}}function b(a,c){a&&c&&"object"===("undefined"===typeof a?"undefined":e(a))&&"object"===("undefined"===typeof c?"undefined":e(c))?void 0:m(!1);for(var b in c)c.hasOwnProperty(b)&&
(void 0!==a[b]?m(!1):void 0,a[b]=c[b]);return a}function a(a,c){return function(){var e=a.apply(this,arguments),d=c.apply(this,arguments);if(null==e)return d;if(null==d)return e;var g={};b(g,e);b(g,d);return g}}function c(a,c){return function(){a.apply(this,arguments);c.apply(this,arguments)}}var e="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};k=f(70);var d=f(6);
f(27);f(26);var g=f(85),h=f(3),l=f(19),m=f(1),r=f(24),t=f(13);f(2);var w=t({mixins:null}),u=r({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),q=[],v={mixins:u.DEFINE_MANY,statics:u.DEFINE_MANY,propTypes:u.DEFINE_MANY,contextTypes:u.DEFINE_MANY,childContextTypes:u.DEFINE_MANY,getDefaultProps:u.DEFINE_MANY_MERGED,getInitialState:u.DEFINE_MANY_MERGED,getChildContext:u.DEFINE_MANY_MERGED,render:u.DEFINE_ONCE,componentWillMount:u.DEFINE_MANY,componentDidMount:u.DEFINE_MANY,
componentWillReceiveProps:u.DEFINE_MANY,shouldComponentUpdate:u.DEFINE_ONCE,componentWillUpdate:u.DEFINE_MANY,componentDidUpdate:u.DEFINE_MANY,componentWillUnmount:u.DEFINE_MANY,updateComponent:u.OVERRIDE_BASE},x={displayName:function(a,c){a.displayName=c},mixins:function(a,c){if(c)for(var b=0;b<c.length;b++)n(a,c[b])},childContextTypes:function(a,c){a.childContextTypes=h({},a.childContextTypes,c)},contextTypes:function(a,c){a.contextTypes=h({},a.contextTypes,c)},getDefaultProps:function(c,b){c.getDefaultProps=
c.getDefaultProps?a(c.getDefaultProps,b):b},propTypes:function(a,c){a.propTypes=h({},a.propTypes,c)},statics:function(a,c){if(c)for(var b in c){var e=c[b];c.hasOwnProperty(b)&&(b in x?m(!1):void 0,b in a?m(!1):void 0,a[b]=e)}},autobind:function(){}},z={replaceState:function(a,c){this.updater.enqueueReplaceState(this,a);c&&this.updater.enqueueCallback(this,c)},isMounted:function(){return this.updater.isMounted(this)},setProps:function(a,c){this.updater.enqueueSetProps(this,a);c&&this.updater.enqueueCallback(this,
c)},replaceProps:function(a,c){this.updater.enqueueReplaceProps(this,a);c&&this.updater.enqueueCallback(this,c)}},B=function(){};h(B.prototype,k.prototype,z);p.exports={createClass:function(a){var c=function(a,c,b){if(this.__reactAutoBindMap)for(var d in this.__reactAutoBindMap)if(this.__reactAutoBindMap.hasOwnProperty(d)){var h=d,f=this.__reactAutoBindMap[d].bind(this);this[h]=f}this.props=a;this.context=c;this.refs=l;this.updater=b||g;this.state=null;a=this.getInitialState?this.getInitialState():
null;"object"!==("undefined"===typeof a?"undefined":e(a))||Array.isArray(a)?m(!1):void 0;this.state=a};c.prototype=new B;c.prototype.constructor=c;q.forEach(n.bind(null,c));n(c,a);c.getDefaultProps&&(c.defaultProps=c.getDefaultProps());c.prototype.render?void 0:m(!1);for(var b in v)c.prototype[b]||(c.prototype[b]=null);return c},injection:{injectMixin:function(a){q.push(a)}}}},function(p,k,f){function n(b,e,h){this.props=b;this.context=e;this.refs=c;this.updater=h||a}var b="function"===typeof Symbol&&
"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol?"symbol":typeof a},a=f(85);f(30);var c=f(19),e=f(1);f(2);n.prototype.isReactComponent={};n.prototype.setState=function(a,c){"object"!==("undefined"===typeof a?"undefined":b(a))&&"function"!==typeof a&&null!=a?e(!1):void 0;this.updater.enqueueSetState(this,a);c&&this.updater.enqueueCallback(this,c)};n.prototype.forceUpdate=function(a){this.updater.enqueueForceUpdate(this);
a&&this.updater.enqueueCallback(this,a)};p.exports=n},function(p,k,f){k=f(12);var n=f(74),b=f(76),a=f(18),c=f(5),e=f(8),d=f(15),g=f(9),h=f(43),l=f(44),m=f(171);f(2);b.inject();f=e.measure("React","render",c.render);f={findDOMNode:l,render:f,unmountComponentAtNode:c.unmountComponentAtNode,version:h,unstable_batchedUpdates:g.batchedUpdates,unstable_renderSubtreeIntoContainer:m};"undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({CurrentOwner:k,
InstanceHandles:a,Mount:c,Reconciler:d,TextComponent:n});p.exports=f},function(p,k){p.exports={useCreateElement:!1}},function(p,k,f){function n(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var a=this._currentElement.props,e=c.getValue(a);null!=e&&b(this,Boolean(a.multiple),e)}}function b(a,c,b){var d;a=e.getNode(a._rootNodeID).options;if(c){c={};for(d=0;d<b.length;d++)c[""+b[d]]=!0;for(d=0;d<a.length;d++)b=c.hasOwnProperty(a[d].value),a[d].selected!==
b&&(a[d].selected=b)}else{c=""+b;for(d=0;d<a.length;d++)if(a[d].value===c){a[d].selected=!0;return}a.length&&(a[0].selected=!0)}}function a(a){a=c.executeOnChange(this._currentElement.props,a);this._wrapperState.pendingUpdate=!0;d.asap(n,this);return a}var c=f(38),e=f(5),d=f(9),g=f(3);f(2);var h="__ReactDOMSelect_value$"+Math.random().toString(36).slice(2);p.exports={valueContextKey:h,getNativeProps:function(a,c,b){return g({},c,{onChange:a._wrapperState.onChange,value:void 0})},mountWrapper:function(b,
e){var d=c.getValue(e);b._wrapperState={pendingUpdate:!1,initialValue:null!=d?d:e.defaultValue,onChange:a.bind(b),wasMultiple:Boolean(e.multiple)}},processChildContext:function(a,c,b){c=g({},b);c[h]=a._wrapperState.initialValue;return c},postUpdateWrapper:function(a){var e=a._currentElement.props;a._wrapperState.initialValue=void 0;var d=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=Boolean(e.multiple);var g=c.getValue(e);null!=g?(a._wrapperState.pendingUpdate=!1,b(a,Boolean(e.multiple),
g)):d!==Boolean(e.multiple)&&(null!=e.defaultValue?b(a,Boolean(e.multiple),e.defaultValue):b(a,Boolean(e.multiple),e.multiple?[]:""))}}},function(p,k,f){var n=f(66),b=f(37),a=f(39),c=f(5);k=f(3);var e=f(31),d=f(51);f(54);f=function(a){};k(f.prototype,{construct:function(a){this._currentElement=a;this._stringText=""+a;this._rootNodeID=null;this._mountIndex=0},mountComponent:function(a,h,l){this._rootNodeID=a;if(h.useCreateElement)return h=l[c.ownerDocumentContextKey].createElement("span"),b.setAttributeForID(h,
a),c.getID(h),d(h,this._stringText),h;l=e(this._stringText);return h.renderToStaticMarkup?l:"<span "+b.createMarkupForID(a)+">"+l+"</span>"},receiveComponent:function(a,b){if(a!==this._currentElement){this._currentElement=a;var e=""+a;if(e!==this._stringText){this._stringText=e;var d=c.getNode(this._rootNodeID);n.updateTextContent(d,e)}}},unmountComponent:function(){a.unmountIDFromEnvironment(this._rootNodeID)}});p.exports=f},function(p,k,f){function n(){this.reinitializeTransaction()}k=f(9);var b=
f(29),a=f(3);f=f(10);var c={initialize:f,close:function(){g.isBatchingUpdates=!1}},e=[{initialize:f,close:k.flushBatchedUpdates.bind(k)},c];a(n.prototype,b.Mixin,{getTransactionWrappers:function(){return e}});var d=new n,g={isBatchingUpdates:!1,batchedUpdates:function(a,c,b,e,f,w){var u=g.isBatchingUpdates;g.isBatchingUpdates=!0;u?a(c,b,e,f,w):d.perform(a,null,c,b,e,f,w)}};p.exports=g},function(p,k,f){var n=f(118),b=f(120),a=f(121),c=f(123),e=f(124),d=f(4),g=f(127),h=f(129),l=f(39),m=f(75),r=f(133),
t=f(74),w=f(141),u=f(142),q=f(18),v=f(5),x=f(146),z=f(152),B=f(153),A=f(154),C=f(151),G=!1;p.exports={inject:function(){G||(G=!0,u.EventEmitter.injectReactEventListener(w),u.EventPluginHub.injectEventPluginOrder(c),u.EventPluginHub.injectInstanceHandle(q),u.EventPluginHub.injectMount(v),u.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:A,EnterLeaveEventPlugin:e,ChangeEventPlugin:b,SelectEventPlugin:z,BeforeInputEventPlugin:n}),u.NativeComponent.injectGenericComponentClass(r),u.NativeComponent.injectTextComponentClass(t),
u.Class.injectMixin(h),u.DOMProperty.injectDOMPropertyConfig(g),u.DOMProperty.injectDOMPropertyConfig(C),u.EmptyComponent.injectEmptyComponent("noscript"),u.Updates.injectReconcileTransaction(x),u.Updates.injectBatchingStrategy(m),u.RootIndex.injectCreateReactRootIndex(d.canUseDOM?a.createReactRootIndex:B.createReactRootIndex),u.Component.injectEnvironment(l))}}},function(p,k,f){function n(){if(h.current){var a=h.current.getName();if(a)return" Check the render method of `"+a+"`."}return""}function b(a,
c){if(a._store&&!a._store.validated&&null==a.key){a._store.validated=!0;var b;b=n();if(!b){var e="string"===typeof c?c:c.displayName||c.name;e&&(b=" Check the top-level render call using <"+e+">.")}e=r.uniqueKey||(r.uniqueKey={});e[b]?b=null:(e[b]=!0,b={parentOrOwner:b,url:" See https://fb.me/react-warning-keys for more information.",childOwner:null},a&&a._owner&&a._owner!==h.current&&(b.childOwner=" It was passed a child from "+a._owner.getName()+"."));null!==b&&void 0}}function a(a,c){if("object"===
("undefined"===typeof a?"undefined":e(a)))if(Array.isArray(a))for(var g=0;g<a.length;g++){var h=a[g];d.isValidElement(h)&&b(h,c)}else if(d.isValidElement(a))a._store&&(a._store.validated=!0);else if(a&&(g=l(a))&&g!==a.entries)for(g=g.call(a);!(h=g.next()).done;)d.isValidElement(h.value)&&b(h.value,c)}function c(a){var c=a.type;if("function"===typeof c){var b=c.displayName||c.name;if(c.propTypes){var e=c.propTypes;a=a.props;var d=g.prop,h;for(h in e)if(e.hasOwnProperty(h)){var l;try{"function"!==typeof e[h]?
m(!1):void 0,l=e[h](a,h,b,d)}catch(f){l=f}void 0;l instanceof Error&&!(l.message in t)&&(t[l.message]=!0,n(),void 0)}}"function"===typeof c.getDefaultProps&&void 0}}var e="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol?"symbol":typeof a},d=f(6),g=f(27);f(26);var h=f(12);f(30);var l=f(48),m=f(1);f(2);var r={},t={},w={createElement:function(b,e,g){var h="string"===typeof b||"function"===
typeof b;void 0;var l=d.createElement.apply(this,arguments);if(null==l)return l;if(h)for(h=2;h<arguments.length;h++)a(arguments[h],b);c(l);return l},createFactory:function(a){var c=w.createElement.bind(null,a);c.type=a;return c},cloneElement:function(b,e,g){for(var h=d.cloneElement.apply(this,arguments),l=2;l<arguments.length;l++)a(arguments[l],h.type);c(h);return h}};p.exports=w},function(p,k,f){function n(){a.registerNullComponentID(this._rootNodeID)}var b=f(6),a=f(79),c=f(15),e;k=function(a){this._rootNodeID=
this._currentElement=null;this._renderedComponent=a(e)};f(3)(k.prototype,{construct:function(a){},mountComponent:function(a,b,e){b.getReactMountReady().enqueue(n,this);this._rootNodeID=a;return c.mountComponent(this._renderedComponent,a,b,e)},receiveComponent:function(){},unmountComponent:function(b,e,h){c.unmountComponent(this._renderedComponent);a.deregisterNullComponentID(this._rootNodeID);this._renderedComponent=this._rootNodeID=null}});k.injection={injectEmptyComponent:function(a){e=b.createElement(a)}};
p.exports=k},function(p,k){var f={};p.exports={isNullComponentID:function(n){return!!f[n]},registerNullComponentID:function(n){f[n]=!0},deregisterNullComponentID:function(n){delete f[n]}}},function(p,k,f){function n(a,c,e,d){try{return c(e,d)}catch(g){null===b&&(b=g)}}var b=null;p.exports={invokeGuardedCallback:n,invokeGuardedCallbackWithCatch:n,rethrowCaughtError:function(){if(b){var a=b;b=null;throw a;}}}},function(p,k,f){var n=f(137),b=f(60),a=f(61),c=f(62),e={hasSelectionCapabilities:function(a){var c=
a&&a.nodeName&&a.nodeName.toLowerCase();return c&&("input"===c&&"text"===a.type||"textarea"===c||"true"===a.contentEditable)},getSelectionInformation:function(){var a=c();return{focusedElem:a,selectionRange:e.hasSelectionCapabilities(a)?e.getSelection(a):null}},restoreSelection:function(d){var g=c(),h=d.focusedElem;d=d.selectionRange;g!==h&&b(document.documentElement,h)&&(e.hasSelectionCapabilities(h)&&e.setSelection(h,d),a(h))},getSelection:function(a){var c;if("selectionStart"in a)c={start:a.selectionStart,
end:a.selectionEnd};else if(document.selection&&a.nodeName&&"input"===a.nodeName.toLowerCase()){var b=document.selection.createRange();b.parentElement()===a&&(c={start:-b.moveStart("character",-a.value.length),end:-b.moveEnd("character",-a.value.length)})}else c=n.getOffsets(a);return c||{start:0,end:0}},setSelection:function(a,c){var b=c.start,e=c.end;"undefined"===typeof e&&(e=b);if("selectionStart"in a)a.selectionStart=b,a.selectionEnd=Math.min(e,a.value.length);else if(document.selection&&a.nodeName&&
"input"===a.nodeName.toLowerCase()){var m=a.createTextRange();m.collapse(!0);m.moveStart("character",b);m.moveEnd("character",e-b);m.select()}else n.setOffsets(a,c)}};p.exports=e},function(p,k,f){var n=f(163),b=/\/?>/,a={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(c){var e=n(c);return c.replace(b," "+a.CHECKSUM_ATTR_NAME+'="'+e+'"$&')},canReuseMarkup:function(c,b){var d=b.getAttribute(a.CHECKSUM_ATTR_NAME),d=d&&parseInt(d,10);return n(c)===d}};p.exports=a},function(p,k,f){k=
f(24)({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});p.exports=k},function(p,k,f){var n=f(3),b=f(1),a=null,c={},e=null;p.exports={getComponentClassForElement:function(a){if("function"===typeof a.type)return a.type;a=a.type;var b=c[a];null==b&&(c[a]=b=null(a));return b},createInternalComponent:function(c){a?void 0:b(!1);return new a(c.type,c.props)},createInstanceForText:function(a){return new e(a)},isTextComponent:function(a){return a instanceof e},injection:{injectGenericComponentClass:function(c){a=
c},injectTextComponentClass:function(a){e=a},injectComponentClasses:function(a){n(c,a)}}}},function(p,k,f){f(2);p.exports={isMounted:function(f){return!1},enqueueCallback:function(f,b){},enqueueForceUpdate:function(f){},enqueueReplaceState:function(f,b){},enqueueSetState:function(f,b){},enqueueSetProps:function(f,b){},enqueueReplaceProps:function(f,b){}}},function(p,k,f){function n(a){function c(b,e,d,h,m,f){h=h||"<<anonymous>>";f=f||d;return null==e[d]?(e=g[m],b?Error("Required "+e+" `"+f+"` was not specified in "+
("`"+h+"`.")):null):a(e,d,h,m,f)}var b=c.bind(null,!1);b.isRequired=c.bind(null,!0);return b}function b(a){return n(function(b,e,d,h,f){b=b[e];if(c(b)!==a){h=g[h];a:{e=c(b);if("object"===e)if(b instanceof Date){b="date";break a}else if(b instanceof RegExp){b="regexp";break a}b=e}return Error("Invalid "+h+" `"+f+"` of type "+("`"+b+"` supplied to `"+d+"`, expected ")+("`"+a+"`."))}return null})}function a(c){switch("undefined"===typeof c?"undefined":e(c)){case "number":case "string":case "undefined":return!0;
case "boolean":return!c;case "object":if(Array.isArray(c))return c.every(a);if(null===c||d.isValidElement(c))return!0;var b=h(c);if(b){var g=b.call(c);if(b!==c.entries)for(;!(c=g.next()).done;){if(!a(c.value))return!1}else for(;!(c=g.next()).done;)if((c=c.value)&&!a(c[1]))return!1}else return!1;return!0;default:return!1}}function c(a){var c="undefined"===typeof a?"undefined":e(a);return Array.isArray(a)?"array":a instanceof RegExp?"object":c}var e="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?
function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol?"symbol":typeof a},d=f(6),g=f(26);k=f(10);var h=f(48);f={array:b("array"),bool:b("boolean"),func:b("function"),number:b("number"),object:b("object"),string:b("string"),any:n(k.thatReturns(null)),arrayOf:function(a){return n(function(b,e,d,h,f){b=b[e];if(!Array.isArray(b))return h=g[h],b=c(b),Error("Invalid "+h+" `"+f+"` of type "+("`"+b+"` supplied to `"+d+"`, expected an array."));for(e=0;e<b.length;e++){var q=
a(b,e,d,h,f+"["+e+"]");if(q instanceof Error)return q}return null})},element:function(){return n(function(a,c,b,e,h){return d.isValidElement(a[c])?null:Error("Invalid "+g[e]+" `"+h+"` supplied to "+("`"+b+"`, expected a single ReactElement."))})}(),instanceOf:function(a){return n(function(c,b,e,d,h){if(!(c[b]instanceof a)){d=g[d];var f=a.name||"<<anonymous>>";c=c[b];c=c.constructor&&c.constructor.name?c.constructor.name:"<<anonymous>>";return Error("Invalid "+d+" `"+h+"` of type "+("`"+c+"` supplied to `"+
e+"`, expected ")+("instance of `"+f+"`."))}return null})},node:function(){return n(function(c,b,e,d,h){return a(c[b])?null:Error("Invalid "+g[d]+" `"+h+"` supplied to "+("`"+e+"`, expected a ReactNode."))})}(),objectOf:function(a){return n(function(b,e,d,h,f){b=b[e];e=c(b);if("object"!==e)return Error("Invalid "+g[h]+" `"+f+"` of type "+("`"+e+"` supplied to `"+d+"`, expected an object."));for(var q in b)if(b.hasOwnProperty(q)&&(e=a(b,q,d,h,f+"."+q),e instanceof Error))return e;return null})},oneOf:function(a){return Array.isArray(a)?
n(function(c,b,e,d,h){c=c[b];for(b=0;b<a.length;b++)if(c===a[b])return null;d=g[d];b=JSON.stringify(a);return Error("Invalid "+d+" `"+h+"` of value `"+c+"` "+("supplied to `"+e+"`, expected one of "+b+"."))}):n(function(){return Error("Invalid argument supplied to oneOf, expected an instance of array.")})},oneOfType:function(a){return Array.isArray(a)?n(function(c,b,e,d,h){for(var f=0;f<a.length;f++)if(null==(0,a[f])(c,b,e,d,h))return null;return Error("Invalid "+g[d]+" `"+h+"` supplied to "+("`"+
e+"`."))}):n(function(){return Error("Invalid argument supplied to oneOfType, expected an instance of array.")})},shape:function(a){return n(function(b,e,d,h,f){b=b[e];e=c(b);if("object"!==e)return Error("Invalid "+g[h]+" `"+f+"` of type `"+e+"` "+("supplied to `"+d+"`, expected `object`."));for(var q in a)if(e=a[q])if(e=e(b,q,d,h,f+"."+q))return e;return null})}};p.exports=f},function(p,k){var f={createReactRootIndex:null,injection:{injectCreateReactRootIndex:function(k){f.createReactRootIndex=k}}};
p.exports=f},function(p,k){var f={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(k){f.currentScrollLeft=k.x;f.currentScrollTop=k.y}};p.exports=f},function(p,k,f){var n=f(1);p.exports=function(b,a){null==a?n(!1):void 0;if(null==b)return a;var c=Array.isArray(b),e=Array.isArray(a);return c&&e?(b.push.apply(b,a),b):c?(b.push(a),b):e?[b].concat(a):[b,a]}},function(p,k){p.exports=function(f,k,b){Array.isArray(f)?f.forEach(k,b):f&&k.call(b,f)}},function(p,k,f){var n=f(4),b=null;p.exports=
function(){!b&&n.canUseDOM&&(b="textContent"in document.documentElement?"textContent":"innerText");return b}},function(p,k){var f={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};p.exports=function(k){var b=k&&k.nodeName&&k.nodeName.toLowerCase();return b&&("input"===b&&f[k.type]||"textarea"===b)}},function(p,k,f){p.exports=f(128)},function(p,k,f){var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?
function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol?"symbol":typeof a},b=f(99),a=f(190),c=f(100),e=f(101),d=f(57),g=f(189);p=function(){function h(a){this.isUnsubscribed=!1;a&&(this._unsubscribe=a)}h.prototype.unsubscribe=function(){var h=!1,m;if(!this.isUnsubscribed){this.isUnsubscribed=!0;var f=this._unsubscribe,t=this._subscriptions;this._subscriptions=null;if(c.isFunction(f)){var w=e.tryCatch(f).call(this);w===d.errorObject&&(h=!0,(m=m||[]).push(d.errorObject.e))}if(b.isArray(t))for(var f=
-1,u=t.length;++f<u;)w=t[f],a.isObject(w)&&(w=e.tryCatch(w.unsubscribe).call(w),w===d.errorObject&&(h=!0,m=m||[],w=d.errorObject.e,w instanceof g.UnsubscriptionError?m=m.concat(w.errors):m.push(w)));if(h)throw new g.UnsubscriptionError(m);}};h.prototype.add=function(a){if(a&&a!==this&&a!==h.EMPTY){var c=a;switch("undefined"===typeof a?"undefined":n(a)){case "function":c=new h(a);case "object":if(c.isUnsubscribed||"function"!==typeof c.unsubscribe)break;else this.isUnsubscribed?c.unsubscribe():(this._subscriptions||
(this._subscriptions=[])).push(c);break;default:throw Error("Unrecognized teardown "+a+" added to Subscription.");}return c}};h.prototype.remove=function(a){if(null!=a&&a!==this&&a!==h.EMPTY){var c=this._subscriptions;c&&(a=c.indexOf(a),-1!==a&&c.splice(a,1))}};h.EMPTY=function(a){a.isUnsubscribed=!0;return a}(new h);return h}();k.Subscription=p},function(p,k,f){var n=function(b,a){function c(){this.constructor=b}for(var e in a)a.hasOwnProperty(e)&&(b[e]=a[e]);b.prototype=null===a?Object.create(a):
(c.prototype=a.prototype,new c)};p=function(b){function a(a){b.call(this);this.scheduler=a}n(a,b);a.create=function(c){return new a(c)};a.dispatch=function(a){a.subscriber.complete()};a.prototype._subscribe=function(c){var b=this.scheduler;if(b)return b.schedule(a.dispatch,0,{subscriber:c});c.complete()};return a}(f(7).Observable);k.EmptyObservable=p},function(p,k,f){var n=function(b,a){function c(){this.constructor=b}for(var e in a)a.hasOwnProperty(e)&&(b[e]=a[e]);b.prototype=null===a?Object.create(a):
(c.prototype=a.prototype,new c)};p=function(b){function a(a,e){b.call(this);this.value=a;this.scheduler=e;this._isScalar=!0;e&&(this._isScalar=!1)}n(a,b);a.create=function(c,b){return new a(c,b)};a.dispatch=function(a){var b=a.value,d=a.subscriber;a.done?d.complete():(d.next(b),d.isUnsubscribed||(a.done=!0,this.schedule(a)))};a.prototype._subscribe=function(c){var b=this.value,d=this.scheduler;if(d)return d.schedule(a.dispatch,0,{done:!1,value:b,subscriber:c});c.next(b);c.isUnsubscribed||c.complete()};
return a}(f(7).Observable);k.ScalarObservable=p},function(p,k,f){var n=function(a,c){function b(){this.constructor=a}for(var h in c)c.hasOwnProperty(h)&&(a[h]=c[h]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)};p=f(55);var b=f(58);k.mergeAll=function(c){void 0===c&&(c=Number.POSITIVE_INFINITY);return this.lift(new a(c))};var a=function(){function a(c){this.concurrent=c}a.prototype.call=function(a,b){return b._subscribe(new c(a,this.concurrent))};return a}();k.MergeAllOperator=
a;var c=function(a){function c(b,d){a.call(this,b);this.concurrent=d;this.hasCompleted=!1;this.buffer=[];this.active=0}n(c,a);c.prototype._next=function(a){this.active<this.concurrent?(this.active++,this.add(b.subscribeToResult(this,a))):this.buffer.push(a)};c.prototype._complete=function(){this.hasCompleted=!0;0===this.active&&0===this.buffer.length&&this.destination.complete()};c.prototype.notifyComplete=function(a){var c=this.buffer;this.remove(a);this.active--;0<c.length?this._next(c.shift()):
0===this.active&&this.hasCompleted&&this.destination.complete()};return c}(p.OuterSubscriber);k.MergeAllSubscriber=c},function(p,k,f){p=f(35).root.Symbol;k.$$rxSubscriber="function"===typeof p&&"function"===typeof p["for"]?p["for"]("rxSubscriber"):"@@rxSubscriber"},function(p,k){k.isArray=Array.isArray||function(f){return f&&"number"===typeof f.length}},function(p,k){k.isFunction=function(f){return"function"===typeof f}},function(p,k,f){function n(){try{return a.apply(this,arguments)}catch(c){return b.errorObject.e=
c,b.errorObject}}var b=f(57),a;k.tryCatch=function(c){a=c;return n}},function(p,k,f){(function(k){p.exports=f(193)(k||window||void 0)}).call(k,function(){return this}())},function(p,k){var f=/-(.)/g;p.exports=function(k){return k.replace(f,function(b,a){return a.toUpperCase()})}},function(p,k,f){var n=f(103),b=/^-ms-/;p.exports=function(a){return n(a.replace(b,"ms-"))}},function(p,k,f){var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&
"function"===typeof Symbol&&a.constructor===Symbol?"symbol":typeof a},b=f(114);p.exports=function(a){return!a||"object"!=("undefined"===typeof a?"undefined":n(a))&&"function"!=typeof a||!("length"in a)||"setInterval"in a||"number"==typeof a.nodeType||!(Array.isArray(a)||"callee"in a||"item"in a)?[a]:Array.isArray(a)?a.slice():b(a)}},function(p,k,f){k=f(4);var n=f(105),b=f(63),a=f(1),c=k.canUseDOM?document.createElement("div"):null,e=/^\s*<(\w+)/;p.exports=function(d,g){var h=c;c?void 0:a(!1);var l;
if(l=(l=(l=d.match(e))&&l[1].toLowerCase())&&b(l))for(h.innerHTML=l[1]+d+l[2],l=l[0];l--;)h=h.lastChild;else h.innerHTML=d;l=h.getElementsByTagName("script");l.length&&(g?void 0:a(!1),n(l).forEach(g));for(l=n(h.childNodes);h.lastChild;)h.removeChild(h.lastChild);return l}},function(p,k){p.exports=function(f){return f===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:f.scrollLeft,y:f.scrollTop}}},function(p,k){var f=/([A-Z])/g;
p.exports=function(k){return k.replace(f,"-$1").toLowerCase()}},function(p,k,f){var n=f(108),b=/^ms-/;p.exports=function(a){return n(a).replace(b,"-ms-")}},function(p,k){var f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"===typeof Symbol&&f.constructor===Symbol?"symbol":typeof f};p.exports=function(k){return!!(k&&("function"===typeof Node?k instanceof Node:"object"===("undefined"===typeof k?"undefined":f(k))&&"number"===
typeof k.nodeType&&"string"===typeof k.nodeName))}},function(p,k,f){var n=f(110);p.exports=function(b){return n(b)&&3==b.nodeType}},function(p,k){var f=Object.prototype.hasOwnProperty;p.exports=function(k,b,a){if(!k)return null;var c={},e;for(e in k)f.call(k,e)&&(c[e]=b.call(a,k[e],e,k));return c}},function(p,k){p.exports=function(f){var k={};return function(b){k.hasOwnProperty(b)||(k[b]=f.call(this,b));return k[b]}}},function(p,k,f){var n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?
function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol?"symbol":typeof a},b=f(1);p.exports=function(a){var c=a.length;Array.isArray(a)||"object"!==("undefined"===typeof a?"undefined":n(a))&&"function"!==typeof a?b(!1):void 0;"number"!==typeof c?b(!1):void 0;0===c||c-1 in a?void 0:b(!1);if(a.hasOwnProperty)try{return Array.prototype.slice.call(a)}catch(g){}for(var e=Array(c),d=0;d<c;d++)e[d]=a[d];return e}},function(p,k,f){(function(f,b){f(function(){function a(a,
c){return null!=a&&null!=c&&a.toLowerCase()===c.toLowerCase()}function c(a,c){var b,e,d=a.length;if(!d||!c)return!1;b=c.toLowerCase();for(e=0;e<d;++e)if(b===a[e].toLowerCase())return!0;return!1}function e(a){for(var c in a)h.call(a,c)&&(a[c]=new RegExp(a[c],"i"))}function d(a,c){this.ua=a||"";this._cache={};this.maxPhoneWidth=c||600}var g={mobileDetectRules:{phones:{iPhone:"\\biPhone\\b|\\biPod\\b",BlackBerry:"BlackBerry|\\bBB10\\b|rim[0-9]+",HTC:"HTC|HTC.*(Sensation|Evo|Vision|Explorer|6800|8100|8900|A7272|S510e|C110e|Legend|Desire|T8282)|APX515CKT|Qtek9090|APA9292KT|HD_mini|Sensation.*Z710e|PG86100|Z715e|Desire.*(A8181|HD)|ADR6200|ADR6400L|ADR6425|001HT|Inspire 4G|Android.*\\bEVO\\b|T-Mobile G1|Z520m",
Nexus:"Nexus One|Nexus S|Galaxy.*Nexus|Android.*Nexus.*Mobile|Nexus 4|Nexus 5|Nexus 6",Dell:"Dell.*Streak|Dell.*Aero|Dell.*Venue|DELL.*Venue Pro|Dell Flash|Dell Smoke|Dell Mini 3iX|XCD28|XCD35|\\b001DL\\b|\\b101DL\\b|\\bGS01\\b",Motorola:"Motorola|DROIDX|DROID BIONIC|\\bDroid\\b.*Build|Android.*Xoom|HRI39|MOT-|A1260|A1680|A555|A853|A855|A953|A955|A956|Motorola.*ELECTRIFY|Motorola.*i1|i867|i940|MB200|MB300|MB501|MB502|MB508|MB511|MB520|MB525|MB526|MB611|MB612|MB632|MB810|MB855|MB860|MB861|MB865|MB870|ME501|ME502|ME511|ME525|ME600|ME632|ME722|ME811|ME860|ME863|ME865|MT620|MT710|MT716|MT720|MT810|MT870|MT917|Motorola.*TITANIUM|WX435|WX445|XT300|XT301|XT311|XT316|XT317|XT319|XT320|XT390|XT502|XT530|XT531|XT532|XT535|XT603|XT610|XT611|XT615|XT681|XT701|XT702|XT711|XT720|XT800|XT806|XT860|XT862|XT875|XT882|XT883|XT894|XT901|XT907|XT909|XT910|XT912|XT928|XT926|XT915|XT919|XT925|XT1021|\\bMoto E\\b",
Samsung:"Samsung|SM-G9250|GT-19300|SGH-I337|BGT-S5230|GT-B2100|GT-B2700|GT-B2710|GT-B3210|GT-B3310|GT-B3410|GT-B3730|GT-B3740|GT-B5510|GT-B5512|GT-B5722|GT-B6520|GT-B7300|GT-B7320|GT-B7330|GT-B7350|GT-B7510|GT-B7722|GT-B7800|GT-C3010|GT-C3011|GT-C3060|GT-C3200|GT-C3212|GT-C3212I|GT-C3262|GT-C3222|GT-C3300|GT-C3300K|GT-C3303|GT-C3303K|GT-C3310|GT-C3322|GT-C3330|GT-C3350|GT-C3500|GT-C3510|GT-C3530|GT-C3630|GT-C3780|GT-C5010|GT-C5212|GT-C6620|GT-C6625|GT-C6712|GT-E1050|GT-E1070|GT-E1075|GT-E1080|GT-E1081|GT-E1085|GT-E1087|GT-E1100|GT-E1107|GT-E1110|GT-E1120|GT-E1125|GT-E1130|GT-E1160|GT-E1170|GT-E1175|GT-E1180|GT-E1182|GT-E1200|GT-E1210|GT-E1225|GT-E1230|GT-E1390|GT-E2100|GT-E2120|GT-E2121|GT-E2152|GT-E2220|GT-E2222|GT-E2230|GT-E2232|GT-E2250|GT-E2370|GT-E2550|GT-E2652|GT-E3210|GT-E3213|GT-I5500|GT-I5503|GT-I5700|GT-I5800|GT-I5801|GT-I6410|GT-I6420|GT-I7110|GT-I7410|GT-I7500|GT-I8000|GT-I8150|GT-I8160|GT-I8190|GT-I8320|GT-I8330|GT-I8350|GT-I8530|GT-I8700|GT-I8703|GT-I8910|GT-I9000|GT-I9001|GT-I9003|GT-I9010|GT-I9020|GT-I9023|GT-I9070|GT-I9082|GT-I9100|GT-I9103|GT-I9220|GT-I9250|GT-I9300|GT-I9305|GT-I9500|GT-I9505|GT-M3510|GT-M5650|GT-M7500|GT-M7600|GT-M7603|GT-M8800|GT-M8910|GT-N7000|GT-S3110|GT-S3310|GT-S3350|GT-S3353|GT-S3370|GT-S3650|GT-S3653|GT-S3770|GT-S3850|GT-S5210|GT-S5220|GT-S5229|GT-S5230|GT-S5233|GT-S5250|GT-S5253|GT-S5260|GT-S5263|GT-S5270|GT-S5300|GT-S5330|GT-S5350|GT-S5360|GT-S5363|GT-S5369|GT-S5380|GT-S5380D|GT-S5560|GT-S5570|GT-S5600|GT-S5603|GT-S5610|GT-S5620|GT-S5660|GT-S5670|GT-S5690|GT-S5750|GT-S5780|GT-S5830|GT-S5839|GT-S6102|GT-S6500|GT-S7070|GT-S7200|GT-S7220|GT-S7230|GT-S7233|GT-S7250|GT-S7500|GT-S7530|GT-S7550|GT-S7562|GT-S7710|GT-S8000|GT-S8003|GT-S8500|GT-S8530|GT-S8600|SCH-A310|SCH-A530|SCH-A570|SCH-A610|SCH-A630|SCH-A650|SCH-A790|SCH-A795|SCH-A850|SCH-A870|SCH-A890|SCH-A930|SCH-A950|SCH-A970|SCH-A990|SCH-I100|SCH-I110|SCH-I400|SCH-I405|SCH-I500|SCH-I510|SCH-I515|SCH-I600|SCH-I730|SCH-I760|SCH-I770|SCH-I830|SCH-I910|SCH-I920|SCH-I959|SCH-LC11|SCH-N150|SCH-N300|SCH-R100|SCH-R300|SCH-R351|SCH-R400|SCH-R410|SCH-T300|SCH-U310|SCH-U320|SCH-U350|SCH-U360|SCH-U365|SCH-U370|SCH-U380|SCH-U410|SCH-U430|SCH-U450|SCH-U460|SCH-U470|SCH-U490|SCH-U540|SCH-U550|SCH-U620|SCH-U640|SCH-U650|SCH-U660|SCH-U700|SCH-U740|SCH-U750|SCH-U810|SCH-U820|SCH-U900|SCH-U940|SCH-U960|SCS-26UC|SGH-A107|SGH-A117|SGH-A127|SGH-A137|SGH-A157|SGH-A167|SGH-A177|SGH-A187|SGH-A197|SGH-A227|SGH-A237|SGH-A257|SGH-A437|SGH-A517|SGH-A597|SGH-A637|SGH-A657|SGH-A667|SGH-A687|SGH-A697|SGH-A707|SGH-A717|SGH-A727|SGH-A737|SGH-A747|SGH-A767|SGH-A777|SGH-A797|SGH-A817|SGH-A827|SGH-A837|SGH-A847|SGH-A867|SGH-A877|SGH-A887|SGH-A897|SGH-A927|SGH-B100|SGH-B130|SGH-B200|SGH-B220|SGH-C100|SGH-C110|SGH-C120|SGH-C130|SGH-C140|SGH-C160|SGH-C170|SGH-C180|SGH-C200|SGH-C207|SGH-C210|SGH-C225|SGH-C230|SGH-C417|SGH-C450|SGH-D307|SGH-D347|SGH-D357|SGH-D407|SGH-D415|SGH-D780|SGH-D807|SGH-D980|SGH-E105|SGH-E200|SGH-E315|SGH-E316|SGH-E317|SGH-E335|SGH-E590|SGH-E635|SGH-E715|SGH-E890|SGH-F300|SGH-F480|SGH-I200|SGH-I300|SGH-I320|SGH-I550|SGH-I577|SGH-I600|SGH-I607|SGH-I617|SGH-I627|SGH-I637|SGH-I677|SGH-I700|SGH-I717|SGH-I727|SGH-i747M|SGH-I777|SGH-I780|SGH-I827|SGH-I847|SGH-I857|SGH-I896|SGH-I897|SGH-I900|SGH-I907|SGH-I917|SGH-I927|SGH-I937|SGH-I997|SGH-J150|SGH-J200|SGH-L170|SGH-L700|SGH-M110|SGH-M150|SGH-M200|SGH-N105|SGH-N500|SGH-N600|SGH-N620|SGH-N625|SGH-N700|SGH-N710|SGH-P107|SGH-P207|SGH-P300|SGH-P310|SGH-P520|SGH-P735|SGH-P777|SGH-Q105|SGH-R210|SGH-R220|SGH-R225|SGH-S105|SGH-S307|SGH-T109|SGH-T119|SGH-T139|SGH-T209|SGH-T219|SGH-T229|SGH-T239|SGH-T249|SGH-T259|SGH-T309|SGH-T319|SGH-T329|SGH-T339|SGH-T349|SGH-T359|SGH-T369|SGH-T379|SGH-T409|SGH-T429|SGH-T439|SGH-T459|SGH-T469|SGH-T479|SGH-T499|SGH-T509|SGH-T519|SGH-T539|SGH-T559|SGH-T589|SGH-T609|SGH-T619|SGH-T629|SGH-T639|SGH-T659|SGH-T669|SGH-T679|SGH-T709|SGH-T719|SGH-T729|SGH-T739|SGH-T746|SGH-T749|SGH-T759|SGH-T769|SGH-T809|SGH-T819|SGH-T839|SGH-T919|SGH-T929|SGH-T939|SGH-T959|SGH-T989|SGH-U100|SGH-U200|SGH-U800|SGH-V205|SGH-V206|SGH-X100|SGH-X105|SGH-X120|SGH-X140|SGH-X426|SGH-X427|SGH-X475|SGH-X495|SGH-X497|SGH-X507|SGH-X600|SGH-X610|SGH-X620|SGH-X630|SGH-X700|SGH-X820|SGH-X890|SGH-Z130|SGH-Z150|SGH-Z170|SGH-ZX10|SGH-ZX20|SHW-M110|SPH-A120|SPH-A400|SPH-A420|SPH-A460|SPH-A500|SPH-A560|SPH-A600|SPH-A620|SPH-A660|SPH-A700|SPH-A740|SPH-A760|SPH-A790|SPH-A800|SPH-A820|SPH-A840|SPH-A880|SPH-A900|SPH-A940|SPH-A960|SPH-D600|SPH-D700|SPH-D710|SPH-D720|SPH-I300|SPH-I325|SPH-I330|SPH-I350|SPH-I500|SPH-I600|SPH-I700|SPH-L700|SPH-M100|SPH-M220|SPH-M240|SPH-M300|SPH-M305|SPH-M320|SPH-M330|SPH-M350|SPH-M360|SPH-M370|SPH-M380|SPH-M510|SPH-M540|SPH-M550|SPH-M560|SPH-M570|SPH-M580|SPH-M610|SPH-M620|SPH-M630|SPH-M800|SPH-M810|SPH-M850|SPH-M900|SPH-M910|SPH-M920|SPH-M930|SPH-N100|SPH-N200|SPH-N240|SPH-N300|SPH-N400|SPH-Z400|SWC-E100|SCH-i909|GT-N7100|GT-N7105|SCH-I535|SM-N900A|SGH-I317|SGH-T999L|GT-S5360B|GT-I8262|GT-S6802|GT-S6312|GT-S6310|GT-S5312|GT-S5310|GT-I9105|GT-I8510|GT-S6790N|SM-G7105|SM-N9005|GT-S5301|GT-I9295|GT-I9195|SM-C101|GT-S7392|GT-S7560|GT-B7610|GT-I5510|GT-S7582|GT-S7530E|GT-I8750|SM-G9006V|SM-G9008V|SM-G9009D|SM-G900A|SM-G900D|SM-G900F|SM-G900H|SM-G900I|SM-G900J|SM-G900K|SM-G900L|SM-G900M|SM-G900P|SM-G900R4|SM-G900S|SM-G900T|SM-G900V|SM-G900W8|SHV-E160K|SCH-P709|SCH-P729|SM-T2558|GT-I9205|SM-G9350",
LG:"\\bLG\\b;|LG[- ]?(C800|C900|E400|E610|E900|E-900|F160|F180K|F180L|F180S|730|855|L160|LS740|LS840|LS970|LU6200|MS690|MS695|MS770|MS840|MS870|MS910|P500|P700|P705|VM696|AS680|AS695|AX840|C729|E970|GS505|272|C395|E739BK|E960|L55C|L75C|LS696|LS860|P769BK|P350|P500|P509|P870|UN272|US730|VS840|VS950|LN272|LN510|LS670|LS855|LW690|MN270|MN510|P509|P769|P930|UN200|UN270|UN510|UN610|US670|US740|US760|UX265|UX840|VN271|VN530|VS660|VS700|VS740|VS750|VS910|VS920|VS930|VX9200|VX11000|AX840A|LW770|P506|P925|P999|E612|D955|D802|MS323)",
Sony:"SonyST|SonyLT|SonyEricsson|SonyEricssonLT15iv|LT18i|E10i|LT28h|LT26w|SonyEricssonMT27i|C5303|C6902|C6903|C6906|C6943|D2533",Asus:"Asus.*Galaxy|PadFone.*Mobile",Micromax:"Micromax.*\\b(A210|A92|A88|A72|A111|A110Q|A115|A116|A110|A90S|A26|A51|A35|A54|A25|A27|A89|A68|A65|A57|A90)\\b",Palm:"PalmSource|Palm",Vertu:"Vertu|Vertu.*Ltd|Vertu.*Ascent|Vertu.*Ayxta|Vertu.*Constellation(F|Quest)?|Vertu.*Monika|Vertu.*Signature",Pantech:"PANTECH|IM-A850S|IM-A840S|IM-A830L|IM-A830K|IM-A830S|IM-A820L|IM-A810K|IM-A810S|IM-A800S|IM-T100K|IM-A725L|IM-A780L|IM-A775C|IM-A770K|IM-A760S|IM-A750K|IM-A740S|IM-A730S|IM-A720L|IM-A710K|IM-A690L|IM-A690S|IM-A650S|IM-A630K|IM-A600S|VEGA PTL21|PT003|P8010|ADR910L|P6030|P6020|P9070|P4100|P9060|P5000|CDM8992|TXT8045|ADR8995|IS11PT|P2030|P6010|P8000|PT002|IS06|CDM8999|P9050|PT001|TXT8040|P2020|P9020|P2000|P7040|P7000|C790",
Fly:"IQ230|IQ444|IQ450|IQ440|IQ442|IQ441|IQ245|IQ256|IQ236|IQ255|IQ235|IQ245|IQ275|IQ240|IQ285|IQ280|IQ270|IQ260|IQ250",Wiko:"KITE 4G|HIGHWAY|GETAWAY|STAIRWAY|DARKSIDE|DARKFULL|DARKNIGHT|DARKMOON|SLIDE|WAX 4G|RAINBOW|BLOOM|SUNSET|GOA|LENNY|BARRY|IGGY|OZZY|CINK FIVE|CINK PEAX|CINK PEAX 2|CINK SLIM|CINK SLIM 2|CINK +|CINK KING|CINK PEAX|CINK SLIM|SUBLIM",iMobile:"i-mobile (IQ|i-STYLE|idea|ZAA|Hitz)",SimValley:"\\b(SP-80|XT-930|SX-340|XT-930|SX-310|SP-360|SP60|SPT-800|SP-120|SPT-800|SP-140|SPX-5|SPX-8|SP-100|SPX-8|SPX-12)\\b",
Wolfgang:"AT-B24D|AT-AS50HD|AT-AS40W|AT-AS55HD|AT-AS45q2|AT-B26D|AT-AS50Q",Alcatel:"Alcatel",Nintendo:"Nintendo 3DS",Amoi:"Amoi",INQ:"INQ",GenericPhone:"Tapatalk|PDA;|SAGEM|\\bmmp\\b|pocket|\\bpsp\\b|symbian|Smartphone|smartfon|treo|up.browser|up.link|vodafone|\\bwap\\b|nokia|Series40|Series60|S60|SonyEricsson|N900|MAUI.*WAP.*Browser"},tablets:{iPad:"iPad|iPad.*Mobile",NexusTablet:"Android.*Nexus[\\s]+(7|9|10)",SamsungTablet:"SAMSUNG.*Tablet|Galaxy.*Tab|SC-01C|GT-P1000|GT-P1003|GT-P1010|GT-P3105|GT-P6210|GT-P6800|GT-P6810|GT-P7100|GT-P7300|GT-P7310|GT-P7500|GT-P7510|SCH-I800|SCH-I815|SCH-I905|SGH-I957|SGH-I987|SGH-T849|SGH-T859|SGH-T869|SPH-P100|GT-P3100|GT-P3108|GT-P3110|GT-P5100|GT-P5110|GT-P6200|GT-P7320|GT-P7511|GT-N8000|GT-P8510|SGH-I497|SPH-P500|SGH-T779|SCH-I705|SCH-I915|GT-N8013|GT-P3113|GT-P5113|GT-P8110|GT-N8010|GT-N8005|GT-N8020|GT-P1013|GT-P6201|GT-P7501|GT-N5100|GT-N5105|GT-N5110|SHV-E140K|SHV-E140L|SHV-E140S|SHV-E150S|SHV-E230K|SHV-E230L|SHV-E230S|SHW-M180K|SHW-M180L|SHW-M180S|SHW-M180W|SHW-M300W|SHW-M305W|SHW-M380K|SHW-M380S|SHW-M380W|SHW-M430W|SHW-M480K|SHW-M480S|SHW-M480W|SHW-M485W|SHW-M486W|SHW-M500W|GT-I9228|SCH-P739|SCH-I925|GT-I9200|GT-P5200|GT-P5210|GT-P5210X|SM-T311|SM-T310|SM-T310X|SM-T210|SM-T210R|SM-T211|SM-P600|SM-P601|SM-P605|SM-P900|SM-P901|SM-T217|SM-T217A|SM-T217S|SM-P6000|SM-T3100|SGH-I467|XE500|SM-T110|GT-P5220|GT-I9200X|GT-N5110X|GT-N5120|SM-P905|SM-T111|SM-T2105|SM-T315|SM-T320|SM-T320X|SM-T321|SM-T520|SM-T525|SM-T530NU|SM-T230NU|SM-T330NU|SM-T900|XE500T1C|SM-P605V|SM-P905V|SM-T337V|SM-T537V|SM-T707V|SM-T807V|SM-P600X|SM-P900X|SM-T210X|SM-T230|SM-T230X|SM-T325|GT-P7503|SM-T531|SM-T330|SM-T530|SM-T705|SM-T705C|SM-T535|SM-T331|SM-T800|SM-T700|SM-T537|SM-T807|SM-P907A|SM-T337A|SM-T537A|SM-T707A|SM-T807A|SM-T237|SM-T807P|SM-P607T|SM-T217T|SM-T337T|SM-T807T|SM-T116NQ|SM-P550|SM-T350|SM-T550|SM-T9000|SM-P9000|SM-T705Y|SM-T805|GT-P3113|SM-T710|SM-T810|SM-T815|SM-T360|SM-T533|SM-T113|SM-T335|SM-T715|SM-T560|SM-T670|SM-T677|SM-T377|SM-T567|SM-T357T|SM-T555|SM-T561",
Kindle:"Kindle|Silk.*Accelerated|Android.*\\b(KFOT|KFTT|KFJWI|KFJWA|KFOTE|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|WFJWAE|KFSAWA|KFSAWI|KFASWI)\\b",SurfaceTablet:"Windows NT [0-9.]+; ARM;.*(Tablet|ARMBJS)",HPTablet:"HP Slate (7|8|10)|HP ElitePad 900|hp-tablet|EliteBook.*Touch|HP 8|Slate 21|HP SlateBook 10",AsusTablet:"^.*PadFone((?!Mobile).)*$|Transformer|TF101|TF101G|TF300T|TF300TG|TF300TL|TF700T|TF700KL|TF701T|TF810C|ME171|ME301T|ME302C|ME371MG|ME370T|ME372MG|ME172V|ME173X|ME400C|Slider SL101|\\bK00F\\b|\\bK00C\\b|\\bK00E\\b|\\bK00L\\b|TX201LA|ME176C|ME102A|\\bM80TA\\b|ME372CL|ME560CG|ME372CG|ME302KL| K010 | K017 |ME572C|ME103K|ME170C|ME171C|\\bME70C\\b|ME581C|ME581CL|ME8510C|ME181C",
BlackBerryTablet:"PlayBook|RIM Tablet",HTCtablet:"HTC_Flyer_P512|HTC Flyer|HTC Jetstream|HTC-P715a|HTC EVO View 4G|PG41200|PG09410",MotorolaTablet:"xoom|sholest|MZ615|MZ605|MZ505|MZ601|MZ602|MZ603|MZ604|MZ606|MZ607|MZ608|MZ609|MZ615|MZ616|MZ617",NookTablet:"Android.*Nook|NookColor|nook browser|BNRV200|BNRV200A|BNTV250|BNTV250A|BNTV400|BNTV600|LogicPD Zoom2",AcerTablet:"Android.*; \\b(A100|A101|A110|A200|A210|A211|A500|A501|A510|A511|A700|A701|W500|W500P|W501|W501P|W510|W511|W700|G100|G100W|B1-A71|B1-710|B1-711|A1-810|A1-811|A1-830)\\b|W3-810|\\bA3-A10\\b|\\bA3-A11\\b",
ToshibaTablet:"Android.*(AT100|AT105|AT200|AT205|AT270|AT275|AT300|AT305|AT1S5|AT500|AT570|AT700|AT830)|TOSHIBA.*FOLIO",LGTablet:"\\bL-06C|LG-V909|LG-V900|LG-V700|LG-V510|LG-V500|LG-V410|LG-V400|LG-VK810\\b",FujitsuTablet:"Android.*\\b(F-01D|F-02F|F-05E|F-10D|M532|Q572)\\b",PrestigioTablet:"PMP3170B|PMP3270B|PMP3470B|PMP7170B|PMP3370B|PMP3570C|PMP5870C|PMP3670B|PMP5570C|PMP5770D|PMP3970B|PMP3870C|PMP5580C|PMP5880D|PMP5780D|PMP5588C|PMP7280C|PMP7280C3G|PMP7280|PMP7880D|PMP5597D|PMP5597|PMP7100D|PER3464|PER3274|PER3574|PER3884|PER5274|PER5474|PMP5097CPRO|PMP5097|PMP7380D|PMP5297C|PMP5297C_QUAD|PMP812E|PMP812E3G|PMP812F|PMP810E|PMP880TD|PMT3017|PMT3037|PMT3047|PMT3057|PMT7008|PMT5887|PMT5001|PMT5002",
LenovoTablet:"Lenovo TAB|Idea(Tab|Pad)( A1|A10| K1|)|ThinkPad([ ]+)?Tablet|Lenovo.*(S2109|S2110|S5000|S6000|K3011|A3000|A3500|A1000|A2107|A2109|A1107|A5500|A7600|B6000|B8000|B8080)(-|)(FL|F|HV|H|)",DellTablet:"Venue 11|Venue 8|Venue 7|Dell Streak 10|Dell Streak 7",YarvikTablet:"Android.*\\b(TAB210|TAB211|TAB224|TAB250|TAB260|TAB264|TAB310|TAB360|TAB364|TAB410|TAB411|TAB420|TAB424|TAB450|TAB460|TAB461|TAB464|TAB465|TAB467|TAB468|TAB07-100|TAB07-101|TAB07-150|TAB07-151|TAB07-152|TAB07-200|TAB07-201-3G|TAB07-210|TAB07-211|TAB07-212|TAB07-214|TAB07-220|TAB07-400|TAB07-485|TAB08-150|TAB08-200|TAB08-201-3G|TAB08-201-30|TAB09-100|TAB09-211|TAB09-410|TAB10-150|TAB10-201|TAB10-211|TAB10-400|TAB10-410|TAB13-201|TAB274EUK|TAB275EUK|TAB374EUK|TAB462EUK|TAB474EUK|TAB9-200)\\b",
MedionTablet:"Android.*\\bOYO\\b|LIFE.*(P9212|P9514|P9516|S9512)|LIFETAB",ArnovaTablet:"AN10G2|AN7bG3|AN7fG3|AN8G3|AN8cG3|AN7G3|AN9G3|AN7dG3|AN7dG3ST|AN7dG3ChildPad|AN10bG3|AN10bG3DT|AN9G2",IntensoTablet:"INM8002KP|INM1010FP|INM805ND|Intenso Tab|TAB1004",IRUTablet:"M702pro",MegafonTablet:"MegaFon V9|\\bZTE V9\\b|Android.*\\bMT7A\\b",EbodaTablet:"E-Boda (Supreme|Impresspeed|Izzycomm|Essential)",AllViewTablet:"Allview.*(Viva|Alldro|City|Speed|All TV|Frenzy|Quasar|Shine|TX1|AX1|AX2)",ArchosTablet:"\\b(101G9|80G9|A101IT)\\b|Qilive 97R|Archos5|\\bARCHOS (70|79|80|90|97|101|FAMILYPAD|)(b|)(G10| Cobalt| TITANIUM(HD|)| Xenon| Neon|XSK| 2| XS 2| PLATINUM| CARBON|GAMEPAD)\\b",
AinolTablet:"NOVO7|NOVO8|NOVO10|Novo7Aurora|Novo7Basic|NOVO7PALADIN|novo9-Spark",SonyTablet:"Sony.*Tablet|Xperia Tablet|Sony Tablet S|SO-03E|SGPT12|SGPT13|SGPT114|SGPT121|SGPT122|SGPT123|SGPT111|SGPT112|SGPT113|SGPT131|SGPT132|SGPT133|SGPT211|SGPT212|SGPT213|SGP311|SGP312|SGP321|EBRD1101|EBRD1102|EBRD1201|SGP351|SGP341|SGP511|SGP512|SGP521|SGP541|SGP551|SGP621|SGP612|SOT31",PhilipsTablet:"\\b(PI2010|PI3000|PI3100|PI3105|PI3110|PI3205|PI3210|PI3900|PI4010|PI7000|PI7100)\\b",CubeTablet:"Android.*(K8GT|U9GT|U10GT|U16GT|U17GT|U18GT|U19GT|U20GT|U23GT|U30GT)|CUBE U8GT",
CobyTablet:"MID1042|MID1045|MID1125|MID1126|MID7012|MID7014|MID7015|MID7034|MID7035|MID7036|MID7042|MID7048|MID7127|MID8042|MID8048|MID8127|MID9042|MID9740|MID9742|MID7022|MID7010",MIDTablet:"M9701|M9000|M9100|M806|M1052|M806|T703|MID701|MID713|MID710|MID727|MID760|MID830|MID728|MID933|MID125|MID810|MID732|MID120|MID930|MID800|MID731|MID900|MID100|MID820|MID735|MID980|MID130|MID833|MID737|MID960|MID135|MID860|MID736|MID140|MID930|MID835|MID733|MID4X10",MSITablet:"MSI \\b(Primo 73K|Primo 73L|Primo 81L|Primo 77|Primo 93|Primo 75|Primo 76|Primo 73|Primo 81|Primo 91|Primo 90|Enjoy 71|Enjoy 7|Enjoy 10)\\b",
SMiTTablet:"Android.*(\\bMID\\b|MID-560|MTV-T1200|MTV-PND531|MTV-P1101|MTV-PND530)",RockChipTablet:"Android.*(RK2818|RK2808A|RK2918|RK3066)|RK2738|RK2808A",FlyTablet:"IQ310|Fly Vision",bqTablet:"Android.*(bq)?.*(Elcano|Curie|Edison|Maxwell|Kepler|Pascal|Tesla|Hypatia|Platon|Newton|Livingstone|Cervantes|Avant|Aquaris E10)|Maxwell.*Lite|Maxwell.*Plus",HuaweiTablet:"MediaPad|MediaPad 7 Youth|IDEOS S7|S7-201c|S7-202u|S7-101|S7-103|S7-104|S7-105|S7-106|S7-201|S7-Slim",NecTablet:"\\bN-06D|\\bN-08D",PantechTablet:"Pantech.*P4100",
BronchoTablet:"Broncho.*(N701|N708|N802|a710)",VersusTablet:"TOUCHPAD.*[78910]|\\bTOUCHTAB\\b",ZyncTablet:"z1000|Z99 2G|z99|z930|z999|z990|z909|Z919|z900",PositivoTablet:"TB07STA|TB10STA|TB07FTA|TB10FTA",NabiTablet:"Android.*\\bNabi",KoboTablet:"Kobo Touch|\\bK080\\b|\\bVox\\b Build|\\bArc\\b Build",DanewTablet:"DSlide.*\\b(700|701R|702|703R|704|802|970|971|972|973|974|1010|1012)\\b",TexetTablet:"NaviPad|TB-772A|TM-7045|TM-7055|TM-9750|TM-7016|TM-7024|TM-7026|TM-7041|TM-7043|TM-7047|TM-8041|TM-9741|TM-9747|TM-9748|TM-9751|TM-7022|TM-7021|TM-7020|TM-7011|TM-7010|TM-7023|TM-7025|TM-7037W|TM-7038W|TM-7027W|TM-9720|TM-9725|TM-9737W|TM-1020|TM-9738W|TM-9740|TM-9743W|TB-807A|TB-771A|TB-727A|TB-725A|TB-719A|TB-823A|TB-805A|TB-723A|TB-715A|TB-707A|TB-705A|TB-709A|TB-711A|TB-890HD|TB-880HD|TB-790HD|TB-780HD|TB-770HD|TB-721HD|TB-710HD|TB-434HD|TB-860HD|TB-840HD|TB-760HD|TB-750HD|TB-740HD|TB-730HD|TB-722HD|TB-720HD|TB-700HD|TB-500HD|TB-470HD|TB-431HD|TB-430HD|TB-506|TB-504|TB-446|TB-436|TB-416|TB-146SE|TB-126SE",
PlaystationTablet:"Playstation.*(Portable|Vita)",TrekstorTablet:"ST10416-1|VT10416-1|ST70408-1|ST702xx-1|ST702xx-2|ST80208|ST97216|ST70104-2|VT10416-2|ST10216-2A|SurfTab",PyleAudioTablet:"\\b(PTBL10CEU|PTBL10C|PTBL72BC|PTBL72BCEU|PTBL7CEU|PTBL7C|PTBL92BC|PTBL92BCEU|PTBL9CEU|PTBL9CUK|PTBL9C)\\b",AdvanTablet:"Android.* \\b(E3A|T3X|T5C|T5B|T3E|T3C|T3B|T1J|T1F|T2A|T1H|T1i|E1C|T1-E|T5-A|T4|E1-B|T2Ci|T1-B|T1-D|O1-A|E1-A|T1-A|T3A|T4i)\\b ",DanyTechTablet:"Genius Tab G3|Genius Tab S2|Genius Tab Q3|Genius Tab G4|Genius Tab Q4|Genius Tab G-II|Genius TAB GII|Genius TAB GIII|Genius Tab S1",
GalapadTablet:"Android.*\\bG1\\b",MicromaxTablet:"Funbook|Micromax.*\\b(P250|P560|P360|P362|P600|P300|P350|P500|P275)\\b",KarbonnTablet:"Android.*\\b(A39|A37|A34|ST8|ST10|ST7|Smart Tab3|Smart Tab2)\\b",AllFineTablet:"Fine7 Genius|Fine7 Shine|Fine7 Air|Fine8 Style|Fine9 More|Fine10 Joy|Fine11 Wide",PROSCANTablet:"\\b(PEM63|PLT1023G|PLT1041|PLT1044|PLT1044G|PLT1091|PLT4311|PLT4311PL|PLT4315|PLT7030|PLT7033|PLT7033D|PLT7035|PLT7035D|PLT7044K|PLT7045K|PLT7045KB|PLT7071KG|PLT7072|PLT7223G|PLT7225G|PLT7777G|PLT7810K|PLT7849G|PLT7851G|PLT7852G|PLT8015|PLT8031|PLT8034|PLT8036|PLT8080K|PLT8082|PLT8088|PLT8223G|PLT8234G|PLT8235G|PLT8816K|PLT9011|PLT9045K|PLT9233G|PLT9735|PLT9760G|PLT9770G)\\b",
YONESTablet:"BQ1078|BC1003|BC1077|RK9702|BC9730|BC9001|IT9001|BC7008|BC7010|BC708|BC728|BC7012|BC7030|BC7027|BC7026",ChangJiaTablet:"TPC7102|TPC7103|TPC7105|TPC7106|TPC7107|TPC7201|TPC7203|TPC7205|TPC7210|TPC7708|TPC7709|TPC7712|TPC7110|TPC8101|TPC8103|TPC8105|TPC8106|TPC8203|TPC8205|TPC8503|TPC9106|TPC9701|TPC97101|TPC97103|TPC97105|TPC97106|TPC97111|TPC97113|TPC97203|TPC97603|TPC97809|TPC97205|TPC10101|TPC10103|TPC10106|TPC10111|TPC10203|TPC10205|TPC10503",GUTablet:"TX-A1301|TX-M9002|Q702|kf026",
PointOfViewTablet:"TAB-P506|TAB-navi-7-3G-M|TAB-P517|TAB-P-527|TAB-P701|TAB-P703|TAB-P721|TAB-P731N|TAB-P741|TAB-P825|TAB-P905|TAB-P925|TAB-PR945|TAB-PL1015|TAB-P1025|TAB-PI1045|TAB-P1325|TAB-PROTAB[0-9]+|TAB-PROTAB25|TAB-PROTAB26|TAB-PROTAB27|TAB-PROTAB26XL|TAB-PROTAB2-IPS9|TAB-PROTAB30-IPS9|TAB-PROTAB25XXL|TAB-PROTAB26-IPS10|TAB-PROTAB30-IPS10",OvermaxTablet:"OV-(SteelCore|NewBase|Basecore|Baseone|Exellen|Quattor|EduTab|Solution|ACTION|BasicTab|TeddyTab|MagicTab|Stream|TB-08|TB-09)",HCLTablet:"HCL.*Tablet|Connect-3G-2.0|Connect-2G-2.0|ME Tablet U1|ME Tablet U2|ME Tablet G1|ME Tablet X1|ME Tablet Y2|ME Tablet Sync",
DPSTablet:"DPS Dream 9|DPS Dual 7",VistureTablet:"V97 HD|i75 3G|Visture V4( HD)?|Visture V5( HD)?|Visture V10",CrestaTablet:"CTP(-)?810|CTP(-)?818|CTP(-)?828|CTP(-)?838|CTP(-)?888|CTP(-)?978|CTP(-)?980|CTP(-)?987|CTP(-)?988|CTP(-)?989",MediatekTablet:"\\bMT8125|MT8389|MT8135|MT8377\\b",ConcordeTablet:"Concorde([ ]+)?Tab|ConCorde ReadMan",GoCleverTablet:"GOCLEVER TAB|A7GOCLEVER|M1042|M7841|M742|R1042BK|R1041|TAB A975|TAB A7842|TAB A741|TAB A741L|TAB M723G|TAB M721|TAB A1021|TAB I921|TAB R721|TAB I720|TAB T76|TAB R70|TAB R76.2|TAB R106|TAB R83.2|TAB M813G|TAB I721|GCTA722|TAB I70|TAB I71|TAB S73|TAB R73|TAB R74|TAB R93|TAB R75|TAB R76.1|TAB A73|TAB A93|TAB A93.2|TAB T72|TAB R83|TAB R974|TAB R973|TAB A101|TAB A103|TAB A104|TAB A104.2|R105BK|M713G|A972BK|TAB A971|TAB R974.2|TAB R104|TAB R83.3|TAB A1042",
ModecomTablet:"FreeTAB 9000|FreeTAB 7.4|FreeTAB 7004|FreeTAB 7800|FreeTAB 2096|FreeTAB 7.5|FreeTAB 1014|FreeTAB 1001 |FreeTAB 8001|FreeTAB 9706|FreeTAB 9702|FreeTAB 7003|FreeTAB 7002|FreeTAB 1002|FreeTAB 7801|FreeTAB 1331|FreeTAB 1004|FreeTAB 8002|FreeTAB 8014|FreeTAB 9704|FreeTAB 1003",VoninoTablet:"\\b(Argus[ _]?S|Diamond[ _]?79HD|Emerald[ _]?78E|Luna[ _]?70C|Onyx[ _]?S|Onyx[ _]?Z|Orin[ _]?HD|Orin[ _]?S|Otis[ _]?S|SpeedStar[ _]?S|Magnet[ _]?M9|Primus[ _]?94[ _]?3G|Primus[ _]?94HD|Primus[ _]?QS|Android.*\\bQ8\\b|Sirius[ _]?EVO[ _]?QS|Sirius[ _]?QS|Spirit[ _]?S)\\b",
ECSTablet:"V07OT2|TM105A|S10OT1|TR10CS1",StorexTablet:"eZee[_']?(Tab|Go)[0-9]+|TabLC7|Looney Tunes Tab",VodafoneTablet:"SmartTab([ ]+)?[0-9]+|SmartTabII10|SmartTabII7",EssentielBTablet:"Smart[ ']?TAB[ ]+?[0-9]+|Family[ ']?TAB2",RossMoorTablet:"RM-790|RM-997|RMD-878G|RMD-974R|RMT-705A|RMT-701|RME-601|RMT-501|RMT-711",iMobileTablet:"i-mobile i-note",TolinoTablet:"tolino tab [0-9.]+|tolino shine",AudioSonicTablet:"\\bC-22Q|T7-QC|T-17B|T-17P\\b",AMPETablet:"Android.* A78 ",SkkTablet:"Android.* (SKYPAD|PHOENIX|CYCLOPS)",
TecnoTablet:"TECNO P9",JXDTablet:"Android.* \\b(F3000|A3300|JXD5000|JXD3000|JXD2000|JXD300B|JXD300|S5800|S7800|S602b|S5110b|S7300|S5300|S602|S603|S5100|S5110|S601|S7100a|P3000F|P3000s|P101|P200s|P1000m|P200m|P9100|P1000s|S6600b|S908|P1000|P300|S18|S6600|S9100)\\b",iJoyTablet:"Tablet (Spirit 7|Essentia|Galatea|Fusion|Onix 7|Landa|Titan|Scooby|Deox|Stella|Themis|Argon|Unique 7|Sygnus|Hexen|Finity 7|Cream|Cream X2|Jade|Neon 7|Neron 7|Kandy|Scape|Saphyr 7|Rebel|Biox|Rebel|Rebel 8GB|Myst|Draco 7|Myst|Tab7-004|Myst|Tadeo Jones|Tablet Boing|Arrow|Draco Dual Cam|Aurix|Mint|Amity|Revolution|Finity 9|Neon 9|T9w|Amity 4GB Dual Cam|Stone 4GB|Stone 8GB|Andromeda|Silken|X2|Andromeda II|Halley|Flame|Saphyr 9,7|Touch 8|Planet|Triton|Unique 10|Hexen 10|Memphis 4GB|Memphis 8GB|Onix 10)",
FX2Tablet:"FX2 PAD7|FX2 PAD10",XoroTablet:"KidsPAD 701|PAD[ ]?712|PAD[ ]?714|PAD[ ]?716|PAD[ ]?717|PAD[ ]?718|PAD[ ]?720|PAD[ ]?721|PAD[ ]?722|PAD[ ]?790|PAD[ ]?792|PAD[ ]?900|PAD[ ]?9715D|PAD[ ]?9716DR|PAD[ ]?9718DR|PAD[ ]?9719QR|PAD[ ]?9720QR|TelePAD1030|Telepad1032|TelePAD730|TelePAD731|TelePAD732|TelePAD735Q|TelePAD830|TelePAD9730|TelePAD795|MegaPAD 1331|MegaPAD 1851|MegaPAD 2151",ViewsonicTablet:"ViewPad 10pi|ViewPad 10e|ViewPad 10s|ViewPad E72|ViewPad7|ViewPad E100|ViewPad 7e|ViewSonic VB733|VB100a",
OdysTablet:"LOOX|XENO10|ODYS[ -](Space|EVO|Xpress|NOON)|\\bXELIO\\b|Xelio10Pro|XELIO7PHONETAB|XELIO10EXTREME|XELIOPT2|NEO_QUAD10",CaptivaTablet:"CAPTIVA PAD",IconbitTablet:"NetTAB|NT-3702|NT-3702S|NT-3702S|NT-3603P|NT-3603P|NT-0704S|NT-0704S|NT-3805C|NT-3805C|NT-0806C|NT-0806C|NT-0909T|NT-0909T|NT-0907S|NT-0907S|NT-0902S|NT-0902S",TeclastTablet:"T98 4G|\\bP80\\b|\\bX90HD\\b|X98 Air|X98 Air 3G|\\bX89\\b|P80 3G|\\bX80h\\b|P98 Air|\\bX89HD\\b|P98 3G|\\bP90HD\\b|P89 3G|X98 3G|\\bP70h\\b|P79HD 3G|G18d 3G|\\bP79HD\\b|\\bP89s\\b|\\bA88\\b|\\bP10HD\\b|\\bP19HD\\b|G18 3G|\\bP78HD\\b|\\bA78\\b|\\bP75\\b|G17s 3G|G17h 3G|\\bP85t\\b|\\bP90\\b|\\bP11\\b|\\bP98t\\b|\\bP98HD\\b|\\bG18d\\b|\\bP85s\\b|\\bP11HD\\b|\\bP88s\\b|\\bA80HD\\b|\\bA80se\\b|\\bA10h\\b|\\bP89\\b|\\bP78s\\b|\\bG18\\b|\\bP85\\b|\\bA70h\\b|\\bA70\\b|\\bG17\\b|\\bP18\\b|\\bA80s\\b|\\bA11s\\b|\\bP88HD\\b|\\bA80h\\b|\\bP76s\\b|\\bP76h\\b|\\bP98\\b|\\bA10HD\\b|\\bP78\\b|\\bP88\\b|\\bA11\\b|\\bA10t\\b|\\bP76a\\b|\\bP76t\\b|\\bP76e\\b|\\bP85HD\\b|\\bP85a\\b|\\bP86\\b|\\bP75HD\\b|\\bP76v\\b|\\bA12\\b|\\bP75a\\b|\\bA15\\b|\\bP76Ti\\b|\\bP81HD\\b|\\bA10\\b|\\bT760VE\\b|\\bT720HD\\b|\\bP76\\b|\\bP73\\b|\\bP71\\b|\\bP72\\b|\\bT720SE\\b|\\bC520Ti\\b|\\bT760\\b|\\bT720VE\\b|T720-3GE|T720-WiFi",
OndaTablet:"\\b(V975i|Vi30|VX530|V701|Vi60|V701s|Vi50|V801s|V719|Vx610w|VX610W|V819i|Vi10|VX580W|Vi10|V711s|V813|V811|V820w|V820|Vi20|V711|VI30W|V712|V891w|V972|V819w|V820w|Vi60|V820w|V711|V813s|V801|V819|V975s|V801|V819|V819|V818|V811|V712|V975m|V101w|V961w|V812|V818|V971|V971s|V919|V989|V116w|V102w|V973|Vi40)\\b[\\s]+",JaytechTablet:"TPC-PA762",BlaupunktTablet:"Endeavour 800NG|Endeavour 1010",DigmaTablet:"\\b(iDx10|iDx9|iDx8|iDx7|iDxD7|iDxD8|iDsQ8|iDsQ7|iDsQ8|iDsD10|iDnD7|3TS804H|iDsQ11|iDj7|iDs10)\\b",
EvolioTablet:"ARIA_Mini_wifi|Aria[ _]Mini|Evolio X10|Evolio X7|Evolio X8|\\bEvotab\\b|\\bNeura\\b",LavaTablet:"QPAD E704|\\bIvoryS\\b|E-TAB IVORY|\\bE-TAB\\b",AocTablet:"MW0811|MW0812|MW0922|MTK8382",MpmanTablet:"MP11 OCTA|MP10 OCTA|MPQC1114|MPQC1004|MPQC994|MPQC974|MPQC973|MPQC804|MPQC784|MPQC780|\\bMPG7\\b|MPDCG75|MPDCG71|MPDC1006|MP101DC|MPDC9000|MPDC905|MPDC706HD|MPDC706|MPDC705|MPDC110|MPDC100|MPDC99|MPDC97|MPDC88|MPDC8|MPDC77|MP709|MID701|MID711|MID170|MPDC703|MPQC1010",CelkonTablet:"CT695|CT888|CT[\\s]?910|CT7 Tab|CT9 Tab|CT3 Tab|CT2 Tab|CT1 Tab|C820|C720|\\bCT-1\\b",
WolderTablet:"miTab \\b(DIAMOND|SPACE|BROOKLYN|NEO|FLY|MANHATTAN|FUNK|EVOLUTION|SKY|GOCAR|IRON|GENIUS|POP|MINT|EPSILON|BROADWAY|JUMP|HOP|LEGEND|NEW AGE|LINE|ADVANCE|FEEL|FOLLOW|LIKE|LINK|LIVE|THINK|FREEDOM|CHICAGO|CLEVELAND|BALTIMORE-GH|IOWA|BOSTON|SEATTLE|PHOENIX|DALLAS|IN 101|MasterChef)\\b",MiTablet:"\\bMI PAD\\b|\\bHM NOTE 1W\\b",NibiruTablet:"Nibiru M1|Nibiru Jupiter One",NexoTablet:"NEXO NOVA|NEXO 10|NEXO AVIO|NEXO FREE|NEXO GO|NEXO EVO|NEXO 3G|NEXO SMART|NEXO KIDDO|NEXO MOBI",LeaderTablet:"TBLT10Q|TBLT10I|TBL-10WDKB|TBL-10WDKBO2013|TBL-W230V2|TBL-W450|TBL-W500|SV572|TBLT7I|TBA-AC7-8G|TBLT79|TBL-8W16|TBL-10W32|TBL-10WKB|TBL-W100",
UbislateTablet:"UbiSlate[\\s]?7C",PocketBookTablet:"Pocketbook",Hudl:"Hudl HT7S3|Hudl 2",TelstraTablet:"T-Hub2",GenericTablet:"Android.*\\b97D\\b|Tablet(?!.*PC)|BNTV250A|MID-WCDMA|LogicPD Zoom2|\\bA7EB\\b|CatNova8|A1_07|CT704|CT1002|\\bM721\\b|rk30sdk|\\bEVOTAB\\b|M758A|ET904|ALUMIUM10|Smartfren Tab|Endeavour 1010|Tablet-PC-4|Tagi Tab|\\bM6pro\\b|CT1020W|arc 10HD|\\bJolla\\b|\\bTP750\\b"},oss:{AndroidOS:"Android",BlackBerryOS:"blackberry|\\bBB10\\b|rim tablet os",PalmOS:"PalmOS|avantgo|blazer|elaine|hiptop|palm|plucker|xiino",
SymbianOS:"Symbian|SymbOS|Series60|Series40|SYB-[0-9]+|\\bS60\\b",WindowsMobileOS:"Windows CE.*(PPC|Smartphone|Mobile|[0-9]{3}x[0-9]{3})|Window Mobile|Windows Phone [0-9.]+|WCE;",WindowsPhoneOS:"Windows Phone 10.0|Windows Phone 8.1|Windows Phone 8.0|Windows Phone OS|XBLWP7|ZuneWP7|Windows NT 6.[23]; ARM;",iOS:"\\biPhone.*Mobile|\\biPod|\\biPad",MeeGoOS:"MeeGo",MaemoOS:"Maemo",JavaOS:"J2ME/|\\bMIDP\\b|\\bCLDC\\b",webOS:"webOS|hpwOS",badaOS:"\\bBada\\b",BREWOS:"BREW"},uas:{Chrome:"\\bCrMo\\b|CriOS|Android.*Chrome/[.0-9]* (Mobile)?",
Dolfin:"\\bDolfin\\b",Opera:"Opera.*Mini|Opera.*Mobi|Android.*Opera|Mobile.*OPR/[0-9.]+|Coast/[0-9.]+",Skyfire:"Skyfire",IE:"IEMobile|MSIEMobile",Firefox:"fennec|firefox.*maemo|(Mobile|Tablet).*Firefox|Firefox.*Mobile",Bolt:"bolt",TeaShark:"teashark",Blazer:"Blazer",Safari:"Version.*Mobile.*Safari|Safari.*Mobile|MobileSafari",Tizen:"Tizen",UCBrowser:"UC.*Browser|UCWEB",baiduboxapp:"baiduboxapp",baidubrowser:"baidubrowser",DiigoBrowser:"DiigoBrowser",Puffin:"Puffin",Mercury:"\\bMercury\\b",ObigoBrowser:"Obigo",
NetFront:"NF-Browser",GenericBrowser:"NokiaBrowser|OviBrowser|OneBrowser|TwonkyBeamBrowser|SEMC.*Browser|FlyFlow|Minimo|NetFront|Novarra-Vision|MQQBrowser|MicroMessenger"},props:{Mobile:"Mobile/[VER]",Build:"Build/[VER]",Version:"Version/[VER]",VendorID:"VendorID/[VER]",iPad:"iPad.*CPU[a-z ]+[VER]",iPhone:"iPhone.*CPU[a-z ]+[VER]",iPod:"iPod.*CPU[a-z ]+[VER]",Kindle:"Kindle/[VER]",Chrome:["Chrome/[VER]","CriOS/[VER]","CrMo/[VER]"],Coast:["Coast/[VER]"],Dolfin:"Dolfin/[VER]",Firefox:"Firefox/[VER]",
Fennec:"Fennec/[VER]",IE:["IEMobile/[VER];","IEMobile [VER]","MSIE [VER];","Trident/[0-9.]+;.*rv:[VER]"],NetFront:"NetFront/[VER]",NokiaBrowser:"NokiaBrowser/[VER]",Opera:[" OPR/[VER]","Opera Mini/[VER]","Version/[VER]"],"Opera Mini":"Opera Mini/[VER]","Opera Mobi":"Version/[VER]","UC Browser":"UC Browser[VER]",MQQBrowser:"MQQBrowser/[VER]",MicroMessenger:"MicroMessenger/[VER]",baiduboxapp:"baiduboxapp/[VER]",baidubrowser:"baidubrowser/[VER]",Iron:"Iron/[VER]",Safari:["Version/[VER]","Safari/[VER]"],
Skyfire:"Skyfire/[VER]",Tizen:"Tizen/[VER]",Webkit:"webkit[ /][VER]",Gecko:"Gecko/[VER]",Trident:"Trident/[VER]",Presto:"Presto/[VER]",iOS:" \\bi?OS\\b [VER][ ;]{1}",Android:"Android [VER]",BlackBerry:["BlackBerry[\\w]+/[VER]","BlackBerry.*Version/[VER]","Version/[VER]"],BREW:"BREW [VER]",Java:"Java/[VER]","Windows Phone OS":["Windows Phone OS [VER]","Windows Phone [VER]"],"Windows Phone":"Windows Phone [VER]","Windows CE":"Windows CE/[VER]","Windows NT":"Windows NT [VER]",Symbian:["SymbianOS/[VER]",
"Symbian/[VER]"],webOS:["webOS/[VER]","hpwOS/[VER];"]},utils:{Bot:"Googlebot|facebookexternalhit|AdsBot-Google|Google Keyword Suggestion|Facebot|YandexBot|bingbot|ia_archiver|AhrefsBot|Ezooms|GSLFbot|WBSearchBot|Twitterbot|TweetmemeBot|Twikle|PaperLiBot|Wotbox|UnwindFetchor|Exabot|MJ12bot|YandexImages|TurnitinBot|Pingdom",MobileBot:"Googlebot-Mobile|AdsBot-Google-Mobile|YahooSeeker/M1A1-R2D2",DesktopMode:"WPDesktop",TV:"SonyDTV|HbbTV",WebKit:"(webkit)[ /]([\\w.]+)",Console:"\\b(Nintendo|Nintendo WiiU|Nintendo 3DS|PLAYSTATION|Xbox)\\b",
Watch:"SM-V700"}},detectMobileBrowsers:{fullPattern:/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,shortPattern:/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i,
tabletPattern:/android|ipad|playbook|silk/i}},h=Object.prototype.hasOwnProperty,l;g.FALLBACK_PHONE="UnknownPhone";g.FALLBACK_TABLET="UnknownTablet";g.FALLBACK_MOBILE="UnknownMobile";l="isArray"in Array?Array.isArray:function(a){return"[object Array]"===Object.prototype.toString.call(a)};(function(){var a,c,b,d,f,q,v=g.mobileDetectRules;for(a in v.props)if(h.call(v.props,a)){c=v.props[a];l(c)||(c=[c]);f=c.length;for(d=0;d<f;++d)b=c[d],q=b.indexOf("[VER]"),0<=q&&(b=b.substring(0,q)+"([\\w._\\+]+)"+
b.substring(q+5)),c[d]=new RegExp(b,"i");v.props[a]=c}e(v.oss);e(v.phones);e(v.tablets);e(v.uas);e(v.utils);v.oss0={WindowsPhoneOS:v.oss.WindowsPhoneOS,WindowsMobileOS:v.oss.WindowsMobileOS}})();g.findMatch=function(a,c){for(var b in a)if(h.call(a,b)&&a[b].test(c))return b;return null};g.findMatches=function(a,c){var b=[],e;for(e in a)h.call(a,e)&&a[e].test(c)&&b.push(e);return b};g.getVersionStr=function(a,c){var b=g.mobileDetectRules.props,e,d,l;if(h.call(b,a))for(b=b[a],d=b.length,e=0;e<d;++e)if(l=
b[e].exec(c),null!==l)return l[1];return null};g.getVersion=function(a,c){var b=g.getVersionStr(a,c);return b?g.prepareVersionNo(b):NaN};g.prepareVersionNo=function(a){var c;c=a.split(/[a-z._ \/\-]/i);1===c.length&&(a=c[0]);1<c.length&&(a=c[0]+".",c.shift(),a+=c.join(""));return Number(a)};g.isMobileFallback=function(a){return g.detectMobileBrowsers.fullPattern.test(a)||g.detectMobileBrowsers.shortPattern.test(a.substr(0,4))};g.isTabletFallback=function(a){return g.detectMobileBrowsers.tabletPattern.test(a)};
g.prepareDetectionCache=function(a,c,e){if(a.mobile===b){var h;(h=g.findMatch(g.mobileDetectRules.tablets,c))?(a.mobile=a.tablet=h,a.phone=null):(h=g.findMatch(g.mobileDetectRules.phones,c))?(a.mobile=a.phone=h,a.tablet=null):g.isMobileFallback(c)?(c=d.isPhoneSized(e),c===b?(a.mobile=g.FALLBACK_MOBILE,a.tablet=a.phone=null):c?(a.mobile=a.phone=g.FALLBACK_PHONE,a.tablet=null):(a.mobile=a.tablet=g.FALLBACK_TABLET,a.phone=null)):g.isTabletFallback(c)?(a.mobile=a.tablet=g.FALLBACK_TABLET,a.phone=null):
a.mobile=a.tablet=a.phone=null}};g.mobileGrade=function(a){var c=null!==a.mobile();if(a.os("iOS")&&4.3<=a.version("iPad")||a.os("iOS")&&3.1<=a.version("iPhone")||a.os("iOS")&&3.1<=a.version("iPod")||2.1<a.version("Android")&&a.is("Webkit")||7<=a.version("Windows Phone OS")||a.is("BlackBerry")&&6<=a.version("BlackBerry")||a.match("Playbook.*Tablet")||1.4<=a.version("webOS")&&a.match("Palm|Pre|Pixi")||a.match("hp.*TouchPad")||a.is("Firefox")&&12<=a.version("Firefox")||a.is("Chrome")&&a.is("AndroidOS")&&
4<=a.version("Android")||a.is("Skyfire")&&4.1<=a.version("Skyfire")&&a.is("AndroidOS")&&2.3<=a.version("Android")||a.is("Opera")&&11<a.version("Opera Mobi")&&a.is("AndroidOS")||a.is("MeeGoOS")||a.is("Tizen")||a.is("Dolfin")&&2<=a.version("Bada")||(a.is("UC Browser")||a.is("Dolfin"))&&2.3<=a.version("Android")||a.match("Kindle Fire")||a.is("Kindle")&&3<=a.version("Kindle")||a.is("AndroidOS")&&a.is("NookTablet")||11<=a.version("Chrome")&&!c||5<=a.version("Safari")&&!c||4<=a.version("Firefox")&&!c||
7<=a.version("MSIE")&&!c||10<=a.version("Opera")&&!c)return"A";if(a.os("iOS")&&4.3>a.version("iPad")||a.os("iOS")&&3.1>a.version("iPhone")||a.os("iOS")&&3.1>a.version("iPod")||a.is("Blackberry")&&5<=a.version("BlackBerry")&&6>a.version("BlackBerry")||5<=a.version("Opera Mini")&&6.5>=a.version("Opera Mini")&&(2.3<=a.version("Android")||a.is("iOS"))||a.match("NokiaN8|NokiaC7|N97.*Series60|Symbian/3")||11<=a.version("Opera Mobi")&&a.is("SymbianOS"))return"B";5>a.version("BlackBerry")||a.match("MSIEMobile|Windows CE.*Mobile")||
a.version("Windows Mobile");return"C"};g.detectOS=function(a){return g.findMatch(g.mobileDetectRules.oss0,a)||g.findMatch(g.mobileDetectRules.oss,a)};g.getDeviceSmallerSide=function(){return window.screen.width<window.screen.height?window.screen.width:window.screen.height};d.prototype={constructor:d,mobile:function(){g.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth);return this._cache.mobile},phone:function(){g.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth);return this._cache.phone},
tablet:function(){g.prepareDetectionCache(this._cache,this.ua,this.maxPhoneWidth);return this._cache.tablet},userAgent:function(){this._cache.userAgent===b&&(this._cache.userAgent=g.findMatch(g.mobileDetectRules.uas,this.ua));return this._cache.userAgent},userAgents:function(){this._cache.userAgents===b&&(this._cache.userAgents=g.findMatches(g.mobileDetectRules.uas,this.ua));return this._cache.userAgents},os:function(){this._cache.os===b&&(this._cache.os=g.detectOS(this.ua));return this._cache.os},
version:function(a){return g.getVersion(a,this.ua)},versionStr:function(a){return g.getVersionStr(a,this.ua)},is:function(b){return c(this.userAgents(),b)||a(b,this.os())||a(b,this.phone())||a(b,this.tablet())||c(g.findMatches(g.mobileDetectRules.utils,this.ua),b)},match:function(a){a instanceof RegExp||(a=new RegExp(a,"i"));return a.test(this.ua)},isPhoneSized:function(a){return d.isPhoneSized(a||this.maxPhoneWidth)},mobileGrade:function(){this._cache.grade===b&&(this._cache.grade=g.mobileGrade(this));
return this._cache.grade}};d.isPhoneSized="undefined"!==typeof window&&window.screen?function(a){return 0>a?b:g.getDeviceSmallerSide()<=a}:function(){};d._impl=g;return d})})(function(k){return"undefined"!==typeof p&&p.exports?function(b){p.exports=b()}:f(198)}())},function(p,k,f){p.exports=f(71)},function(p,k,f){var n=f(5),b=f(44),a=f(61);p.exports={Mixin:{componentDidMount:function(){this.props.autoFocus&&a(b(this))}},focusDOMComponent:function(){a(n.getNode(this._rootNodeID))}}},function(p,k,f){function n(){var a=
window.opera;return"object"===("undefined"===typeof a?"undefined":d(a))&&"function"===typeof a.version&&12>=parseInt(a.version(),10)}function b(a,c){switch(a){case z.topKeyUp:return-1!==t.indexOf(c.keyCode);case z.topKeyDown:return 229!==c.keyCode;case z.topKeyPress:case z.topMouseDown:case z.topBlur:return!0;default:return!1}}function a(a){a=a.detail;return"object"===("undefined"===typeof a?"undefined":d(a))&&"data"in a?a.data:null}function c(c,b){switch(c){case z.topCompositionEnd:return a(b);case z.topKeyPress:if(32!==
b.which)return null;A=!0;return x;case z.topTextInput:var e=b.data;return e===x&&A?null:e;default:return null}}function e(a,c){if(C){if(a===z.topCompositionEnd||b(a,c)){var e=C.getData();l.release(C);C=null;return e}return null}switch(a){case z.topPaste:return null;case z.topKeyPress:return c.which&&(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey)?String.fromCharCode(c.which):null;case z.topCompositionEnd:return v?null:c.data;default:return null}}var d="function"===typeof Symbol&&"symbol"===
typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol?"symbol":typeof a};k=f(11);var g=f(21),h=f(4),l=f(126),m=f(156),r=f(159);f=f(13);var t=[9,13,27,32],w=h.canUseDOM&&"CompositionEvent"in window,u=null;h.canUseDOM&&"documentMode"in document&&(u=document.documentMode);var q=h.canUseDOM&&"TextEvent"in window&&!u&&!n(),v=h.canUseDOM&&(!w||u&&8<u&&11>=u),x=String.fromCharCode(32),z=k.topLevelTypes,B={beforeInput:{phasedRegistrationNames:{bubbled:f({onBeforeInput:null}),
captured:f({onBeforeInputCapture:null})},dependencies:[z.topCompositionEnd,z.topKeyPress,z.topTextInput,z.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:f({onCompositionEnd:null}),captured:f({onCompositionEndCapture:null})},dependencies:[z.topBlur,z.topCompositionEnd,z.topKeyDown,z.topKeyPress,z.topKeyUp,z.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:f({onCompositionStart:null}),captured:f({onCompositionStartCapture:null})},dependencies:[z.topBlur,z.topCompositionStart,
z.topKeyDown,z.topKeyPress,z.topKeyUp,z.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:f({onCompositionUpdate:null}),captured:f({onCompositionUpdateCapture:null})},dependencies:[z.topBlur,z.topCompositionUpdate,z.topKeyDown,z.topKeyPress,z.topKeyUp,z.topMouseDown]}},A=!1,C=null;p.exports={eventTypes:B,extractEvents:function(d,h,f,t,u){var k;var x;if(w)b:{switch(d){case z.topCompositionStart:x=B.compositionStart;break b;case z.topCompositionEnd:x=B.compositionEnd;break b;case z.topCompositionUpdate:x=
B.compositionUpdate;break b}x=void 0}else C?b(d,t)&&(x=B.compositionEnd):d===z.topKeyDown&&229===t.keyCode&&(x=B.compositionStart);x?(v&&(C||x!==B.compositionStart?x===B.compositionEnd&&C&&(k=C.getData()):C=l.getPooled(h)),h=m.getPooled(x,f,t,u),k?h.data=k:(k=a(t),null!==k&&(h.data=k)),g.accumulateTwoPhaseDispatches(h),k=h):k=null;(d=q?c(d,t):e(d,t))?(f=r.getPooled(B.beforeInput,f,t,u),f.data=d,g.accumulateTwoPhaseDispatches(f)):f=null;return[k,f]}}},function(p,k,f){var n=f(65),b=f(4);k=f(8);f(104);
var a=f(164),c=f(109),e=f(113);f(2);var d=e(function(a){return c(a)}),g=!1,h="cssFloat";if(b.canUseDOM){f=document.createElement("div").style;try{f.font=""}catch(l){g=!0}void 0===document.documentElement.style.cssFloat&&(h="styleFloat")}f={createMarkupForStyles:function(c){var b="",e;for(e in c)if(c.hasOwnProperty(e)){var g=c[e];null!=g&&(b+=d(e)+":",b+=a(e,g)+";")}return b||null},setValueForStyles:function(c,b){var e=c.style,d;for(d in b)if(b.hasOwnProperty(d)){var f=a(d,b[d]);"float"===d&&(d=h);
if(f)e[d]=f;else if(f=g&&n.shorthandPropertyExpansions[d])for(var u in f)e[u]="";else e[d]=""}}};k.measureMethods(f,"CSSPropertyOperations",{setValueForStyles:"setValueForStyles"});p.exports=f},function(p,k,f){function n(a){a=v.getPooled(C.change,D,a,x(a));w.accumulateTwoPhaseDispatches(a);q.batchedUpdates(b,a)}function b(a){t.enqueueEvents(a);t.processEventQueue(!1)}function a(){G&&(G.detachEvent("onchange",n),D=G=null)}function c(a,c,b){if(a===A.topChange)return b}function e(c,b,e){c===A.topFocus?
(a(),G=b,D=e,G.attachEvent("onchange",n)):c===A.topBlur&&a()}function d(){G&&(delete G.value,G.detachEvent("onpropertychange",g),E=H=D=G=null)}function g(a){if("value"===a.propertyName){var c=a.srcElement.value;c!==H&&(H=c,n(a))}}function h(a,c,b){if(a===A.topInput)return b}function l(a,c,b){a===A.topFocus?(d(),G=c,D=b,H=c.value,E=Object.getOwnPropertyDescriptor(c.constructor.prototype,"value"),Object.defineProperty(G,"value",O),G.attachEvent("onpropertychange",g)):a===A.topBlur&&d()}function m(a,
c,b){if((a===A.topSelectionChange||a===A.topKeyUp||a===A.topKeyDown)&&G&&G.value!==H)return H=G.value,D}function r(a,c,b){if(a===A.topClick)return b}k=f(11);var t=f(20),w=f(21),u=f(4),q=f(9),v=f(16),x=f(47),z=f(50),B=f(92);f=f(13);var A=k.topLevelTypes,C={change:{phasedRegistrationNames:{bubbled:f({onChange:null}),captured:f({onChangeCapture:null})},dependencies:[A.topBlur,A.topChange,A.topClick,A.topFocus,A.topInput,A.topKeyDown,A.topKeyUp,A.topSelectionChange]}},G=null,D=null,H=null,E=null,F=!1;
u.canUseDOM&&(F=z("change")&&(!("documentMode"in document)||8<document.documentMode));var I=!1;u.canUseDOM&&(I=z("input")&&(!("documentMode"in document)||9<document.documentMode));var O={get:function(){return E.get.call(this)},set:function(a){H=""+a;E.set.call(this,a)}};p.exports={eventTypes:C,extractEvents:function(a,b,d,g,f){var t,q,u=b.nodeName&&b.nodeName.toLowerCase();"select"===u||"input"===u&&"file"===b.type?F?t=c:q=e:B(b)?I?t=h:(t=m,q=l):!b.nodeName||"input"!==b.nodeName.toLowerCase()||"checkbox"!==
b.type&&"radio"!==b.type||(t=r);if(t&&(t=t(a,b,d)))return a=v.getPooled(C.change,t,g,f),a.type="change",w.accumulateTwoPhaseDispatches(a),a;q&&q(a,b,d)}}},function(p,k){var f=0;p.exports={createReactRootIndex:function(){return f++}}},function(p,k,f){var n=f(4),b=f(106),a=f(10),c=f(63),e=f(1),d=/^(<[^ \/>]+)/;p.exports={dangerouslyRenderMarkup:function(g){n.canUseDOM?void 0:e(!1);for(var h,l={},m=0;m<g.length;m++)g[m]?void 0:e(!1),h=g[m],h=h.substring(1,h.indexOf(" ")),h=c(h)?h:"*",l[h]=l[h]||[],l[h][m]=
g[m];var m=[],f=0;for(h in l)if(l.hasOwnProperty(h)){var t=l[h],w;for(w in t)t.hasOwnProperty(w)&&(t[w]=t[w].replace(d,'$1 data-danger-index="'+w+'" '));for(var t=b(t.join(""),a),u=0;u<t.length;++u){var q=t[u];q.hasAttribute&&q.hasAttribute("data-danger-index")&&(w=+q.getAttribute("data-danger-index"),q.removeAttribute("data-danger-index"),m.hasOwnProperty(w)?e(!1):void 0,m[w]=q,f+=1)}}f!==m.length?e(!1):void 0;m.length!==g.length?e(!1):void 0;return m},dangerouslyReplaceNodeWithMarkup:function(c,
d){n.canUseDOM?void 0:e(!1);d?void 0:e(!1);"html"===c.tagName.toLowerCase()?e(!1):void 0;var l;l="string"===typeof d?b(d,a)[0]:d;c.parentNode.replaceChild(l,c)}}},function(p,k,f){k=f(13);k=[k({ResponderEventPlugin:null}),k({SimpleEventPlugin:null}),k({TapEventPlugin:null}),k({EnterLeaveEventPlugin:null}),k({ChangeEventPlugin:null}),k({SelectEventPlugin:null}),k({BeforeInputEventPlugin:null})];p.exports=k},function(p,k,f){k=f(11);var n=f(21),b=f(28),a=f(5);f=f(13);var c=k.topLevelTypes,e=a.getFirstReactDOM,
d={mouseEnter:{registrationName:f({onMouseEnter:null}),dependencies:[c.topMouseOut,c.topMouseOver]},mouseLeave:{registrationName:f({onMouseLeave:null}),dependencies:[c.topMouseOut,c.topMouseOver]}},g=[null,null];p.exports={eventTypes:d,extractEvents:function(h,l,m,f,t){if(h===c.topMouseOver&&(f.relatedTarget||f.fromElement)||h!==c.topMouseOut&&h!==c.topMouseOver)return null;var w;if(l.window===l)w=l;else{var u=l.ownerDocument;w=u?u.defaultView||u.parentWindow:window}var q=u="";h===c.topMouseOut?(h=
l,u=m,(l=e(f.relatedTarget||f.toElement))?q=a.getID(l):l=w,l=l||w):(h=w,q=m);if(h===l)return null;m=b.getPooled(d.mouseLeave,u,f,t);m.type="mouseleave";m.target=h;m.relatedTarget=l;f=b.getPooled(d.mouseEnter,q,f,t);f.type="mouseenter";f.target=l;f.relatedTarget=h;n.accumulateEnterLeaveDispatches(m,f,u,q);g[0]=m;g[1]=f;return g}}},function(p,k,f){function n(a,e,h,l){var m=a.type||"unknown-event";a.currentTarget=c.Mount.getNode(l);e?b.invokeGuardedCallbackWithCatch(m,h,a,l):b.invokeGuardedCallback(m,
h,a,l);a.currentTarget=null}k=f(11);var b=f(80),a=f(1);f(2);var c={Mount:null,injectMount:function(a){c.Mount=a}},e=k.topLevelTypes;p.exports={isEndish:function(a){return a===e.topMouseUp||a===e.topTouchEnd||a===e.topTouchCancel},isMoveish:function(a){return a===e.topMouseMove||a===e.topTouchMove},isStartish:function(a){return a===e.topMouseDown||a===e.topTouchStart},executeDirectDispatch:function(c){var b=c._dispatchListeners,e=c._dispatchIDs;Array.isArray(b)?a(!1):void 0;b=b?b(c,e):null;c._dispatchListeners=
null;c._dispatchIDs=null;return b},executeDispatchesInOrder:function(a,c){var b=a._dispatchListeners,e=a._dispatchIDs;if(Array.isArray(b))for(var m=0;m<b.length&&!a.isPropagationStopped();m++)n(a,c,b[m],e[m]);else b&&n(a,c,b,e);a._dispatchListeners=null;a._dispatchIDs=null},executeDispatchesInOrderStopAtTrue:function(a){var c;a:{c=a._dispatchListeners;var b=a._dispatchIDs;if(Array.isArray(c))for(var e=0;e<c.length&&!a.isPropagationStopped();e++){if(c[e](a,b[e])){c=b[e];break a}}else if(c&&c(a,b)){c=
b;break a}c=null}a._dispatchIDs=null;a._dispatchListeners=null;return c},hasDispatches:function(a){return!!a._dispatchListeners},getNode:function(a){return c.Mount.getNode(a)},getID:function(a){return c.Mount.getID(a)},injection:c}},function(p,k,f){function n(a){this._root=a;this._startText=this.getText();this._fallbackText=null}k=f(14);var b=f(3),a=f(91);b(n.prototype,{destructor:function(){this._fallbackText=this._startText=this._root=null},getText:function(){return"value"in this._root?this._root.value:
this._root[a()]},getData:function(){if(this._fallbackText)return this._fallbackText;var a,b=this._startText,d=b.length,g,h=this.getText(),l=h.length;for(a=0;a<d&&b[a]===h[a];a++);var m=d-a;for(g=1;g<=m&&b[d-g]===h[l-g];g++);return this._fallbackText=h.slice(a,1<g?1-g:void 0)}});k.addPoolingTo(n);p.exports=n},function(p,k,f){var n=f(17),b=f(4);f=n.injection.MUST_USE_ATTRIBUTE;k=n.injection.MUST_USE_PROPERTY;var a=n.injection.HAS_BOOLEAN_VALUE,c=n.injection.HAS_SIDE_EFFECTS,e=n.injection.HAS_NUMERIC_VALUE,
d=n.injection.HAS_POSITIVE_NUMERIC_VALUE,n=n.injection.HAS_OVERLOADED_BOOLEAN_VALUE,g;b.canUseDOM&&(g=(g=document.implementation)&&g.hasFeature&&g.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"));g={isCustomAttribute:RegExp.prototype.test.bind(/^(data|aria)-[a-z_][a-z\d_.\-]*$/),Properties:{accept:null,acceptCharset:null,accessKey:null,action:null,allowFullScreen:f|a,allowTransparency:f,alt:null,async:a,autoComplete:null,autoPlay:a,capture:f|a,cellPadding:null,cellSpacing:null,
charSet:f,challenge:f,checked:k|a,classID:f,className:g?f:k,cols:f|d,colSpan:null,content:null,contentEditable:null,contextMenu:f,controls:k|a,coords:null,crossOrigin:null,data:null,dateTime:f,"default":a,defer:a,dir:null,disabled:f|a,download:n,draggable:null,encType:null,form:f,formAction:f,formEncType:f,formMethod:f,formNoValidate:a,formTarget:f,frameBorder:f,headers:null,height:f,hidden:f|a,high:null,href:null,hrefLang:null,htmlFor:null,httpEquiv:null,icon:null,id:k,inputMode:f,integrity:null,
is:f,keyParams:f,keyType:f,kind:null,label:null,lang:null,list:f,loop:k|a,low:null,manifest:f,marginHeight:null,marginWidth:null,max:null,maxLength:f,media:f,mediaGroup:null,method:null,min:null,minLength:f,multiple:k|a,muted:k|a,name:null,nonce:f,noValidate:a,open:a,optimum:null,pattern:null,placeholder:null,poster:null,preload:null,radioGroup:null,readOnly:k|a,rel:null,required:a,reversed:a,role:f,rows:f|d,rowSpan:null,sandbox:null,scope:null,scoped:a,scrolling:null,seamless:f|a,selected:k|a,shape:null,
size:f|d,sizes:f,span:d,spellCheck:null,src:null,srcDoc:k,srcLang:null,srcSet:f,start:e,step:null,style:null,summary:null,tabIndex:null,target:null,title:null,type:null,useMap:null,value:k|c,width:f,wmode:f,wrap:null,about:f,datatype:f,inlist:f,prefix:f,property:f,resource:f,"typeof":f,vocab:f,autoCapitalize:f,autoCorrect:f,autoSave:null,color:null,itemProp:f,itemScope:f|a,itemType:f,itemID:f,itemRef:f,results:null,security:f,unselectable:f},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",
htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{autoComplete:"autocomplete",autoFocus:"autofocus",autoPlay:"autoplay",autoSave:"autosave",encType:"encoding",hrefLang:"hreflang",radioGroup:"radiogroup",spellCheck:"spellcheck",srcDoc:"srcdoc",srcSet:"srcset"}};p.exports=g},function(p,k,f){k=f(71);var n=f(138),b=f(143),a=f(3);f=f(165);var c={};a(c,b);a(c,{findDOMNode:f("findDOMNode","ReactDOM","react-dom",k,k.findDOMNode),render:f("render","ReactDOM","react-dom",k,k.render),unmountComponentAtNode:f("unmountComponentAtNode",
"ReactDOM","react-dom",k,k.unmountComponentAtNode),renderToString:f("renderToString","ReactDOMServer","react-dom/server",n,n.renderToString),renderToStaticMarkup:f("renderToStaticMarkup","ReactDOMServer","react-dom/server",n,n.renderToStaticMarkup)});c.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k;c.__SECRET_DOM_SERVER_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=n;p.exports=c},function(p,k,f){f(22);var n=f(44);f(2);p.exports={getDOMNode:function(){void 0;this.constructor._getDOMNodeDidWarn=!0;return n(this)}}},
function(p,k,f){function n(c,b,e){var l=void 0===c[e];null!=b&&l&&(c[e]=a(b,null))}var b=f(15),a=f(49),c=f(52),e=f(53);f(2);p.exports={instantiateChildren:function(a,c,b){if(null==a)return null;c={};e(a,n,c);return c},updateChildren:function(e,g,h,l){if(!g&&!e)return null;for(var m in g)if(g.hasOwnProperty(m)){var f=e&&e[m],t=f&&f._currentElement,w=g[m];null!=f&&c(t,w)?b.receiveComponent(f,w,h,l):(f&&b.unmountComponent(f,m),f=a(w,null));g[m]=f}for(m in e)!e.hasOwnProperty(m)||g&&g.hasOwnProperty(m)||
b.unmountComponent(e[m]);return g},unmountChildren:function(a){for(var c in a)a.hasOwnProperty(c)&&b.unmountComponent(a[c])}}},function(p,k,f){function n(a){}var b="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol?"symbol":typeof a},a=f(40),c=f(12),e=f(6),d=f(22);k=f(8);f(27);f(26);var g=f(15),h=f(42),l=f(3),m=f(19),r=f(1),t=f(52);f(2);n.prototype.render=function(){var a=d.get(this)._currentElement.type;
return a(this.props,this.context,this.updater)};var w=1;f={construct:function(a){this._currentElement=a;this._pendingStateQueue=this._pendingElement=this._instance=this._rootNodeID=null;this._pendingForceUpdate=this._pendingReplaceState=!1;this._context=this._renderedComponent=null;this._mountOrder=0;this._pendingCallbacks=this._topLevelWrapper=null},mountComponent:function(a,c,l){this._context=l;this._mountOrder=w++;this._rootNodeID=a;var f=this._processProps(this._currentElement.props),t=this._processContext(l),
k=this._currentElement.type,p,C,G="prototype"in k;G&&(p=new k(f,t,h));if(!G||null===p||!1===p||e.isValidElement(p))C=p,p=new n(k);p.props=f;p.context=t;p.refs=m;p.updater=h;this._instance=p;d.set(p,this);f=p.state;void 0===f&&(p.state=f=null);"object"!==("undefined"===typeof f?"undefined":b(f))||Array.isArray(f)?r(!1):void 0;this._pendingStateQueue=null;this._pendingForceUpdate=this._pendingReplaceState=!1;p.componentWillMount&&(p.componentWillMount(),this._pendingStateQueue&&(p.state=this._processPendingState(p.props,
p.context)));void 0===C&&(C=this._renderValidatedComponent());this._renderedComponent=this._instantiateReactComponent(C);a=g.mountComponent(this._renderedComponent,a,c,this._processChildContext(l));p.componentDidMount&&c.getReactMountReady().enqueue(p.componentDidMount,p);return a},unmountComponent:function(){var a=this._instance;a.componentWillUnmount&&a.componentWillUnmount();g.unmountComponent(this._renderedComponent);this._pendingStateQueue=this._instance=this._renderedComponent=null;this._pendingForceUpdate=
this._pendingReplaceState=!1;this._topLevelWrapper=this._rootNodeID=this._context=this._pendingElement=this._pendingCallbacks=null;d.remove(a)},_maskContext:function(a){var c=null,b=this._currentElement.type.contextTypes;if(!b)return m;var c={},e;for(e in b)c[e]=a[e];return c},_processContext:function(a){return this._maskContext(a)},_processChildContext:function(a){var c=this._currentElement.type,e=this._instance;if(e=e.getChildContext&&e.getChildContext()){"object"!==b(c.childContextTypes)?r(!1):
void 0;for(var d in e)d in c.childContextTypes?void 0:r(!1);return l({},a,e)}return a},_processProps:function(a){return a},_checkPropTypes:function(a,c,b){var e=this.getName(),d;for(d in a)if(a.hasOwnProperty(d)){var g;try{"function"!==typeof a[d]?r(!1):void 0,g=a[d](c,d,e,b)}catch(h){g=h}if(g instanceof Error){var l=this._currentElement._owner||null;l&&l.getName();void 0}}},receiveComponent:function(a,c,b){var e=this._currentElement,d=this._context;this._pendingElement=null;this.updateComponent(c,
e,a,d,b)},performUpdateIfNecessary:function(a){null!=this._pendingElement&&g.receiveComponent(this,this._pendingElement||this._currentElement,a,this._context);(null!==this._pendingStateQueue||this._pendingForceUpdate)&&this.updateComponent(a,this._currentElement,this._currentElement,this._context,this._context)},updateComponent:function(a,c,b,e,d){e=this._instance;var g=this._context===d?e.context:this._processContext(d);c===b?c=b.props:(c=this._processProps(b.props),e.componentWillReceiveProps&&
e.componentWillReceiveProps(c,g));var h=this._processPendingState(c,g);this._pendingForceUpdate||!e.shouldComponentUpdate||e.shouldComponentUpdate(c,h,g)?(this._pendingForceUpdate=!1,this._performComponentUpdate(b,c,h,g,a,d)):(this._currentElement=b,this._context=d,e.props=c,e.state=h,e.context=g)},_processPendingState:function(a,c){var b=this._instance,e=this._pendingStateQueue,d=this._pendingReplaceState;this._pendingReplaceState=!1;this._pendingStateQueue=null;if(!e)return b.state;if(d&&1===e.length)return e[0];
for(var g=l({},d?e[0]:b.state),d=d?1:0;d<e.length;d++){var h=e[d];l(g,"function"===typeof h?h.call(b,g,a,c):h)}return g},_performComponentUpdate:function(a,c,b,e,d,g){var h=this._instance,l=Boolean(h.componentDidUpdate),m,f,r;l&&(m=h.props,f=h.state,r=h.context);h.componentWillUpdate&&h.componentWillUpdate(c,b,e);this._currentElement=a;this._context=g;h.props=c;h.state=b;h.context=e;this._updateRenderedComponent(d,g);l&&d.getReactMountReady().enqueue(h.componentDidUpdate.bind(h,m,f,r),h)},_updateRenderedComponent:function(a,
c){var b=this._renderedComponent,e=b._currentElement,d=this._renderValidatedComponent();if(t(e,d))g.receiveComponent(b,d,a,this._processChildContext(c));else{var h=this._rootNodeID,e=b._rootNodeID;g.unmountComponent(b);this._renderedComponent=this._instantiateReactComponent(d);b=g.mountComponent(this._renderedComponent,h,a,this._processChildContext(c));this._replaceNodeWithMarkupByID(e,b)}},_replaceNodeWithMarkupByID:function(c,b){a.replaceNodeWithMarkupByID(c,b)},_renderValidatedComponentWithoutOwnerOrContext:function(){return this._instance.render()},
_renderValidatedComponent:function(){var a;c.current=this;try{a=this._renderValidatedComponentWithoutOwnerOrContext()}finally{c.current=null}null===a||!1===a||e.isValidElement(a)?void 0:r(!1);return a},attachRef:function(a,c){var b=this.getPublicInstance();null==b?r(!1):void 0;var e=c.getPublicInstance();(b.refs===m?b.refs={}:b.refs)[a]=e},detachRef:function(a){delete this.getPublicInstance().refs[a]},getName:function(){var a=this._currentElement.type,c=this._instance&&this._instance.constructor;
return a.displayName||c&&c.displayName||a.name||c&&c.name||null},getPublicInstance:function(){var a=this._instance;return a instanceof n?null:a},_instantiateReactComponent:null};k.measureMethods(f,"ReactCompositeComponent",{mountComponent:"mountComponent",updateComponent:"updateComponent",_renderValidatedComponent:"_renderValidatedComponent"});p.exports={Mixin:f}},function(p,k){var f={onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,
onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0};p.exports={getNativeProps:function(k,b,a){if(!b.disabled)return b;k={};for(var c in b)b.hasOwnProperty(c)&&!f[c]&&(k[c]=b[c]);return k}}},function(p,k,f){function n(){return this}function b(){return!!this._reactInternalComponent}function a(){}function c(a,c){var b=this._reactInternalComponent;b&&(J.enqueueSetPropsInternal(b,a),c&&J.enqueueCallbackInternal(b,c))}function e(a,c){var b=this._reactInternalComponent;b&&(J.enqueueReplacePropsInternal(b,
a),c&&J.enqueueCallbackInternal(b,c))}function d(a,c){c&&(null!=c.dangerouslySetInnerHTML&&(null!=c.children?S(!1):void 0,"object"===u(c.dangerouslySetInnerHTML)&&Z in c.dangerouslySetInnerHTML?void 0:S(!1)),null!=c.style&&"object"!==u(c.style)?S(!1):void 0)}function g(a,c,b,e){var d=I.findReactContainerForID(a);d&&V(c,1===d.nodeType?d.ownerDocument:d);e.getReactMountReady().enqueue(h,{id:a,registrationName:c,listener:b})}function h(){A.putListener(this.id,this.registrationName,this.listener)}function l(){this._rootNodeID?
void 0:S(!1);var a=I.getNode(this._rootNodeID);a?void 0:S(!1);switch(this._tag){case "iframe":this._wrapperState.listeners=[A.trapBubbledEvent(B.topLevelTypes.topLoad,"load",a)];break;case "video":case "audio":this._wrapperState.listeners=[];for(var c in da)da.hasOwnProperty(c)&&this._wrapperState.listeners.push(A.trapBubbledEvent(B.topLevelTypes[c],da[c],a));break;case "img":this._wrapperState.listeners=[A.trapBubbledEvent(B.topLevelTypes.topError,"error",a),A.trapBubbledEvent(B.topLevelTypes.topLoad,
"load",a)];break;case "form":this._wrapperState.listeners=[A.trapBubbledEvent(B.topLevelTypes.topReset,"reset",a),A.trapBubbledEvent(B.topLevelTypes.topSubmit,"submit",a)]}}function m(){D.mountReadyWrapper(this)}function r(){E.postUpdateWrapper(this)}function t(a,c){return 0<=a.indexOf("-")||null!=c.is}function w(a){fa.call(ja,a)||(na.test(a)?void 0:S(!1),ja[a]=!0);this._tag=a.toLowerCase();this._nodeWithLegacyProperties=this._topLevelWrapper=this._wrapperState=this._rootNodeID=this._previousStyleCopy=
this._previousStyle=this._renderedChildren=null}var u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol?"symbol":typeof a},q=f(117),v=f(119),x=f(17),z=f(37),B=f(11),A=f(25),C=f(39),G=f(132),D=f(135),H=f(136),E=f(73),F=f(139),I=f(5);k=f(144);var O=f(8),J=f(42),K=f(3),T=f(30),U=f(31),S=f(1);f(50);var L=f(13),P=f(32),Q=f(51);f(64);f(54);f(2);var M=A.deleteListener,V=A.listenTo,X=A.registrationNameModules,
W={string:!0,number:!0},N=L({children:null}),ga=L({style:null}),Z=L({__html:null}),da={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",
topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},ca={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},ka={listing:!0,pre:!0,textarea:!0};K({menuitem:!0},ca);var na=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,ja={},fa={}.hasOwnProperty;w.displayName="ReactDOMComponent";w.Mixin={construct:function(a){this._currentElement=a},mountComponent:function(a,c,b){this._rootNodeID=
a;a=this._currentElement.props;switch(this._tag){case "iframe":case "img":case "form":case "video":case "audio":this._wrapperState={listeners:null};c.getReactMountReady().enqueue(l,this);break;case "button":a=G.getNativeProps(this,a,b);break;case "input":D.mountWrapper(this,a,b);a=D.getNativeProps(this,a,b);break;case "option":H.mountWrapper(this,a,b);a=H.getNativeProps(this,a,b);break;case "select":E.mountWrapper(this,a,b);a=E.getNativeProps(this,a,b);b=E.processChildContext(this,a,b);break;case "textarea":F.mountWrapper(this,
a,b),a=F.getNativeProps(this,a,b)}d(this,a);if(c.useCreateElement){var e=b[I.ownerDocumentContextKey].createElement(this._currentElement.type);z.setAttributeForID(e,this._rootNodeID);I.getID(e);this._updateDOMProperties({},a,c,e);this._createInitialChildren(c,a,b,e);b=e}else e=this._createOpenTagMarkupAndPutListeners(c,a),b=this._createContentMarkup(c,a,b),b=!b&&ca[this._tag]?e+"/>":e+">"+b+"</"+this._currentElement.type+">";switch(this._tag){case "input":c.getReactMountReady().enqueue(m,this);case "button":case "select":case "textarea":a.autoFocus&&
c.getReactMountReady().enqueue(q.focusDOMComponent,this)}return b},_createOpenTagMarkupAndPutListeners:function(a,c){var b="<"+this._currentElement.type,e;for(e in c)if(c.hasOwnProperty(e)){var d=c[e];if(null!=d)if(X.hasOwnProperty(e))d&&g(this._rootNodeID,e,d,a);else{e===ga&&(d&&(d=this._previousStyleCopy=K({},c.style)),d=v.createMarkupForStyles(d));var h=null;null!=this._tag&&t(this._tag,c)?e!==N&&(h=z.createMarkupForCustomAttribute(e,d)):h=z.createMarkupForProperty(e,d);h&&(b+=" "+h)}}if(a.renderToStaticMarkup)return b;
e=z.createMarkupForID(this._rootNodeID);return b+" "+e},_createContentMarkup:function(a,c,b){var e="",d=c.dangerouslySetInnerHTML;null!=d?null!=d.__html&&(e=d.__html):(d=W[u(c.children)]?c.children:null,c=null!=d?null:c.children,null!=d?e=U(d):null!=c&&(e=this.mountChildren(c,a,b).join("")));return ka[this._tag]&&"\n"===e.charAt(0)?"\n"+e:e},_createInitialChildren:function(a,c,b,e){var d=c.dangerouslySetInnerHTML;if(null!=d)null!=d.__html&&P(e,d.__html);else if(d=W[u(c.children)]?c.children:null,
c=null!=d?null:c.children,null!=d)Q(e,d);else if(null!=c)for(a=this.mountChildren(c,a,b),b=0;b<a.length;b++)e.appendChild(a[b])},receiveComponent:function(a,c,b){var e=this._currentElement;this._currentElement=a;this.updateComponent(c,e,a,b)},updateComponent:function(a,c,b,e){c=c.props;b=this._currentElement.props;switch(this._tag){case "button":c=G.getNativeProps(this,c);b=G.getNativeProps(this,b);break;case "input":D.updateWrapper(this);c=D.getNativeProps(this,c);b=D.getNativeProps(this,b);break;
case "option":c=H.getNativeProps(this,c);b=H.getNativeProps(this,b);break;case "select":c=E.getNativeProps(this,c);b=E.getNativeProps(this,b);break;case "textarea":F.updateWrapper(this),c=F.getNativeProps(this,c),b=F.getNativeProps(this,b)}d(this,b);this._updateDOMProperties(c,b,a,null);this._updateDOMChildren(c,b,a,e);!T&&this._nodeWithLegacyProperties&&(this._nodeWithLegacyProperties.props=b);"select"===this._tag&&a.getReactMountReady().enqueue(r,this)},_updateDOMProperties:function(a,c,b,e){var d,
h,l;for(d in a)if(!c.hasOwnProperty(d)&&a.hasOwnProperty(d))if(d===ga){var m=this._previousStyleCopy;for(h in m)m.hasOwnProperty(h)&&(l=l||{},l[h]="");this._previousStyleCopy=null}else if(X.hasOwnProperty(d))a[d]&&M(this._rootNodeID,d);else if(x.properties[d]||x.isCustomAttribute(d))e||(e=I.getNode(this._rootNodeID)),z.deleteValueForProperty(e,d);for(d in c){var m=c[d],f=d===ga?this._previousStyleCopy:a[d];if(c.hasOwnProperty(d)&&m!==f)if(d===ga)if(m?m=this._previousStyleCopy=K({},m):this._previousStyleCopy=
null,f){for(h in f)!f.hasOwnProperty(h)||m&&m.hasOwnProperty(h)||(l=l||{},l[h]="");for(h in m)m.hasOwnProperty(h)&&f[h]!==m[h]&&(l=l||{},l[h]=m[h])}else l=m;else if(X.hasOwnProperty(d))m?g(this._rootNodeID,d,m,b):f&&M(this._rootNodeID,d);else if(t(this._tag,c))e||(e=I.getNode(this._rootNodeID)),d===N&&(m=null),z.setValueForAttribute(e,d,m);else if(x.properties[d]||x.isCustomAttribute(d))e||(e=I.getNode(this._rootNodeID)),null!=m?z.setValueForProperty(e,d,m):z.deleteValueForProperty(e,d)}l&&(e||(e=
I.getNode(this._rootNodeID)),v.setValueForStyles(e,l))},_updateDOMChildren:function(a,c,b,e){var d=W[u(a.children)]?a.children:null,g=W[u(c.children)]?c.children:null,h=a.dangerouslySetInnerHTML&&a.dangerouslySetInnerHTML.__html,l=c.dangerouslySetInnerHTML&&c.dangerouslySetInnerHTML.__html;c=null!=g?null:c.children;var m=null!=d||null!=h,f=null!=g||null!=l;null!=(null!=d?null:a.children)&&null==c?this.updateChildren(null,b,e):m&&!f&&this.updateTextContent("");null!=g?d!==g&&this.updateTextContent(""+
g):null!=l?h!==l&&this.updateMarkup(""+l):null!=c&&this.updateChildren(c,b,e)},unmountComponent:function(){switch(this._tag){case "iframe":case "img":case "form":case "video":case "audio":var a=this._wrapperState.listeners;if(a)for(var c=0;c<a.length;c++)a[c].remove();break;case "input":D.unmountWrapper(this);break;case "html":case "head":case "body":S(!1)}this.unmountChildren();A.deleteAllListeners(this._rootNodeID);C.unmountIDFromEnvironment(this._rootNodeID);this._wrapperState=this._rootNodeID=
null;this._nodeWithLegacyProperties&&(this._nodeWithLegacyProperties=this._nodeWithLegacyProperties._reactInternalComponent=null)},getPublicInstance:function(){if(!this._nodeWithLegacyProperties){var d=I.getNode(this._rootNodeID);d._reactInternalComponent=this;d.getDOMNode=n;d.isMounted=b;d.setState=a;d.replaceState=a;d.forceUpdate=a;d.setProps=c;d.replaceProps=e;d.props=this._currentElement.props;this._nodeWithLegacyProperties=d}return this._nodeWithLegacyProperties}};O.measureMethods(w,"ReactDOMComponent",
{mountComponent:"mountComponent",updateComponent:"updateComponent"});K(w.prototype,w.Mixin,k.Mixin);p.exports=w},function(p,k,f){var n=f(6);f(77);k=f(112)({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",
dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hgroup:"hgroup",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",
noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",
track:"track",u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",image:"image",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},function(b){return n.createFactory(b)});p.exports=k},function(p,k,f){function n(){this._rootNodeID&&m.updateWrapper(this)}function b(a){var b=
this._currentElement.props;a=c.executeOnChange(b,a);d.asap(n,this);var g=b.name;if("radio"===b.type&&null!=g){for(var m=b=e.getNode(this._rootNodeID);m.parentNode;)m=m.parentNode;g=m.querySelectorAll("input[name="+JSON.stringify(""+g)+'][type="radio"]');for(m=0;m<g.length;m++){var f=g[m];f!==b&&f.form===b.form&&((f=e.getID(f))?void 0:h(!1),(f=l[f])?void 0:h(!1),d.asap(n,f))}}return a}var a=f(41),c=f(38),e=f(5),d=f(9),g=f(3),h=f(1),l={},m={getNativeProps:function(a,b,e){e=c.getValue(b);var d=c.getChecked(b);
return g({},b,{defaultChecked:void 0,defaultValue:void 0,value:null!=e?e:a._wrapperState.initialValue,checked:null!=d?d:a._wrapperState.initialChecked,onChange:a._wrapperState.onChange})},mountWrapper:function(a,c){var e=c.defaultValue;a._wrapperState={initialChecked:c.defaultChecked||!1,initialValue:null!=e?e:null,onChange:b.bind(a)}},mountReadyWrapper:function(a){l[a._rootNodeID]=a},unmountWrapper:function(a){delete l[a._rootNodeID]},updateWrapper:function(b){var e=b._currentElement.props,d=e.checked;
null!=d&&a.updatePropertyByID(b._rootNodeID,"checked",d||!1);e=c.getValue(e);null!=e&&a.updatePropertyByID(b._rootNodeID,"value",""+e)}};p.exports=m},function(p,k,f){var n=f(68);k=f(73);var b=f(3);f(2);var a=k.valueContextKey;p.exports={mountWrapper:function(c,b,d){d=d[a];var g=null;if(null!=d)if(g=!1,Array.isArray(d))for(var h=0;h<d.length;h++){if(""+d[h]===""+b.value){g=!0;break}}else g=""+d===""+b.value;c._wrapperState={selected:g}},getNativeProps:function(a,e,d){d=b({selected:void 0,children:void 0},
e);null!=a._wrapperState.selected&&(d.selected=a._wrapperState.selected);var g="";n.forEach(e.children,function(a){null!=a&&("string"===typeof a||"number"===typeof a?g+=a:void 0)});g&&(d.children=g);return d}}},function(p,k,f){function n(a){var c=document.selection.createRange(),b=c.text.length,e=c.duplicate();e.moveToElementText(a);e.setEndPoint("EndToStart",c);a=e.text.length;return{start:a,end:a+b}}function b(a){var c=window.getSelection&&window.getSelection();if(!c||0===c.rangeCount)return null;
var b=c.anchorNode,e=c.anchorOffset,d=c.focusNode,f=c.focusOffset,w=c.getRangeAt(0);try{w.startContainer.nodeType,w.endContainer.nodeType}catch(q){return null}var c=c.anchorNode===c.focusNode&&c.anchorOffset===c.focusOffset?0:w.toString().length,u=w.cloneRange();u.selectNodeContents(a);u.setEnd(w.startContainer,w.startOffset);a=u.startContainer===u.endContainer&&u.startOffset===u.endOffset?0:u.toString().length;w=a+c;c=document.createRange();c.setStart(b,e);c.setEnd(d,f);b=c.collapsed;return{start:b?
w:a,end:b?a:w}}function a(a,c){var b=document.selection.createRange().duplicate(),e,d;"undefined"===typeof c.end?d=e=c.start:c.start>c.end?(e=c.end,d=c.start):(e=c.start,d=c.end);b.moveToElementText(a);b.moveStart("character",e);b.setEndPoint("EndToStart",b);b.moveEnd("character",d-e);b.select()}function c(a,c){if(window.getSelection){var b=window.getSelection(),m=a[d()].length,f=Math.min(c.start,m),m="undefined"===typeof c.end?f:Math.min(c.end,m);if(!b.extend&&f>m)var t=m,m=f,f=t;var t=e(a,f),w=
e(a,m);if(t&&w){var u=document.createRange();u.setStart(t.node,t.offset);b.removeAllRanges();f>m?(b.addRange(u),b.extend(w.node,w.offset)):(u.setEnd(w.node,w.offset),b.addRange(u))}}}k=f(4);var e=f(168),d=f(91);f=k.canUseDOM&&"selection"in document&&!("getSelection"in window);p.exports={getOffsets:f?n:b,setOffsets:f?a:c}},function(p,k,f){k=f(76);var n=f(149);f=f(43);k.inject();p.exports={renderToString:n.renderToString,renderToStaticMarkup:n.renderToStaticMarkup,version:f}},function(p,k,f){function n(){this._rootNodeID&&
h.updateWrapper(this)}function b(c){c=a.executeOnChange(this._currentElement.props,c);e.asap(n,this);return c}var a=f(38),c=f(41),e=f(9),d=f(3),g=f(1);f(2);var h={getNativeProps:function(a,c,b){null!=c.dangerouslySetInnerHTML?g(!1):void 0;return d({},c,{defaultValue:void 0,value:void 0,children:a._wrapperState.initialValue,onChange:a._wrapperState.onChange})},mountWrapper:function(c,e){var d=e.defaultValue,h=e.children;null!=h&&(null!=d?g(!1):void 0,Array.isArray(h)&&(1>=h.length?void 0:g(!1),h=h[0]),
d=""+h);null==d&&(d="");h=a.getValue(e);c._wrapperState={initialValue:""+(null!=h?h:d),onChange:b.bind(c)}},updateWrapper:function(b){var e=a.getValue(b._currentElement.props);null!=e&&c.updatePropertyByID(b._rootNodeID,"value",""+e)}};p.exports=h},function(p,k,f){var n=f(20);p.exports={handleTopLevel:function(b,a,c,e,d){b=n.extractEvents(b,a,c,e,d);n.enqueueEvents(b);n.processEventQueue(!1)}}},function(p,k,f){function n(a,c){this.topLevelType=a;this.nativeEvent=c;this.ancestors=[]}function b(a){void 0;
for(var c=g.getFirstReactDOM(m(a.nativeEvent))||window;c;)a.ancestors.push(c),c=g.getID(c),c=d.getReactRootIDFromNodeID(c),c=g.findReactContainerForID(c),c=g.getFirstReactDOM(c);for(var b=0;b<a.ancestors.length;b++){var c=a.ancestors[b],e=g.getID(c)||"";t._handleTopLevel(a.topLevelType,c,e,a.nativeEvent,m(a.nativeEvent))}}function a(a){var c=r(window);a(c)}var c=f(59);k=f(4);var e=f(14),d=f(18),g=f(5),h=f(9),l=f(3),m=f(47),r=f(107);l(n.prototype,{destructor:function(){this.nativeEvent=this.topLevelType=
null;this.ancestors.length=0}});e.addPoolingTo(n,e.twoArgumentPooler);var t={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:k.canUseDOM?window:null,setHandleTopLevel:function(a){t._handleTopLevel=a},setEnabled:function(a){t._enabled=!!a},isEnabled:function(){return t._enabled},trapBubbledEvent:function(a,b,e){return e?c.listen(e,b,t.dispatchEvent.bind(null,a)):null},trapCapturedEvent:function(a,b,e){return e?c.capture(e,b,t.dispatchEvent.bind(null,a)):null},monitorScrollValue:function(b){b=a.bind(null,
b);c.listen(window,"scroll",b)},dispatchEvent:function(a,c){if(t._enabled){var e=n.getPooled(a,c);try{h.batchedUpdates(b,e)}finally{n.release(e)}}}};p.exports=t},function(p,k,f){k=f(17);var n=f(20),b=f(40),a=f(69),c=f(78),e=f(25),d=f(84),g=f(8),h=f(87);f=f(9);p.exports={Component:b.injection,Class:a.injection,DOMProperty:k.injection,EmptyComponent:c.injection,EventPluginHub:n.injection,EventEmitter:e.injection,NativeComponent:d.injection,Perf:g.injection,RootIndex:h.injection,Updates:f.injection}},
function(p,k,f){k=f(68);var n=f(70),b=f(69),a=f(134),c=f(6);f(77);var e=f(86),d=f(43),g=f(3);f=f(169);p.exports={Children:{map:k.map,forEach:k.forEach,count:k.count,toArray:k.toArray,only:f},Component:n,createElement:c.createElement,cloneElement:c.cloneElement,isValidElement:c.isValidElement,PropTypes:e,createClass:b.createClass,createFactory:c.createFactory,createMixin:function(a){return a},DOM:a,version:d,__spread:g}},function(p,k,f){function n(){l.length&&(a.processChildrenUpdates(l,m),b())}function b(){l.length=
0;m.length=0}var a=f(40),c=f(83);f(12);var e=f(15),d=f(130),g=f(166),h=0,l=[],m=[];p.exports={Mixin:{_reconcilerInstantiateChildren:function(a,c,b){return d.instantiateChildren(a,c,b)},_reconcilerUpdateChildren:function(a,c,b,e){c=g(c);return d.updateChildren(a,c,b,e)},mountChildren:function(a,c,b){this._renderedChildren=a=this._reconcilerInstantiateChildren(a,c,b);var d=[],g=0,h;for(h in a)if(a.hasOwnProperty(h)){var l=a[h],f=e.mountComponent(l,this._rootNodeID+h,c,b);l._mountIndex=g++;d.push(f)}return d},
updateTextContent:function(a){h++;var c=!0;try{var e=this._renderedChildren;d.unmountChildren(e);for(var g in e)e.hasOwnProperty(g)&&this._unmountChild(e[g]);this.setTextContent(a);c=!1}finally{h--,h||(c?b():n())}},updateMarkup:function(a){h++;var c=!0;try{var e=this._renderedChildren;d.unmountChildren(e);for(var g in e)e.hasOwnProperty(g)&&this._unmountChildByName(e[g],g);this.setMarkup(a);c=!1}finally{h--,h||(c?b():n())}},updateChildren:function(a,c,e){h++;var d=!0;try{this._updateChildren(a,c,
e),d=!1}finally{h--,h||(d?b():n())}},_updateChildren:function(a,c,b){var e=this._renderedChildren;if((this._renderedChildren=a=this._reconcilerUpdateChildren(e,a,c,b))||e){var d,g=0,h=0;for(d in a)if(a.hasOwnProperty(d)){var l=e&&e[d],f=a[d];l===f?(this.moveChild(l,h,g),g=Math.max(l._mountIndex,g),l._mountIndex=h):(l&&(g=Math.max(l._mountIndex,g),this._unmountChild(l)),this._mountChildByNameAtIndex(f,d,h,c,b));h++}for(d in e)!e.hasOwnProperty(d)||a&&a.hasOwnProperty(d)||this._unmountChild(e[d])}},
unmountChildren:function(){d.unmountChildren(this._renderedChildren);this._renderedChildren=null},moveChild:function(a,b,e){a._mountIndex<e&&l.push({parentID:this._rootNodeID,parentNode:null,type:c.MOVE_EXISTING,markupIndex:null,content:null,fromIndex:a._mountIndex,toIndex:b})},createChild:function(a,b){var e=a._mountIndex;l.push({parentID:this._rootNodeID,parentNode:null,type:c.INSERT_MARKUP,markupIndex:m.push(b)-1,content:null,fromIndex:null,toIndex:e})},removeChild:function(a){l.push({parentID:this._rootNodeID,
parentNode:null,type:c.REMOVE_NODE,markupIndex:null,content:null,fromIndex:a._mountIndex,toIndex:null})},setTextContent:function(a){l.push({parentID:this._rootNodeID,parentNode:null,type:c.TEXT_CONTENT,markupIndex:null,content:a,fromIndex:null,toIndex:null})},setMarkup:function(a){l.push({parentID:this._rootNodeID,parentNode:null,type:c.SET_MARKUP,markupIndex:null,content:a,fromIndex:null,toIndex:null})},_mountChildByNameAtIndex:function(a,c,b,d,g){c=e.mountComponent(a,this._rootNodeID+c,d,g);a._mountIndex=
b;this.createChild(a,c)},_unmountChild:function(a){this.removeChild(a);a._mountIndex=null}}}},function(p,k,f){var n=f(1),b={isValidOwner:function(a){return!(!a||"function"!==typeof a.attachRef||"function"!==typeof a.detachRef)},addComponentAsRefTo:function(a,c,e){b.isValidOwner(e)?void 0:n(!1);e.attachRef(c,a)},removeComponentAsRefFrom:function(a,c,e){b.isValidOwner(e)?void 0:n(!1);e.getPublicInstance().refs[c]===a.getPublicInstance()&&e.detachRef(c)}};p.exports=b},function(p,k,f){function n(a){this.reinitializeTransaction();
this.renderToStaticMarkup=!1;this.reactMountReady=b.getPooled(null);this.useCreateElement=!a&&c.useCreateElement}var b=f(36);k=f(14);var a=f(25),c=f(72),e=f(81),d=f(29);f=f(3);var g=[{initialize:e.getSelectionInformation,close:e.restoreSelection},{initialize:function(){var c=a.isEnabled();a.setEnabled(!1);return c},close:function(c){a.setEnabled(c)}},{initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}}];f(n.prototype,d.Mixin,{getTransactionWrappers:function(){return g},
getReactMountReady:function(){return this.reactMountReady},destructor:function(){b.release(this.reactMountReady);this.reactMountReady=null}});k.addPoolingTo(n);p.exports=n},function(p,k,f){var n=f(145);p.exports={attachRefs:function(b,a){if(null!==a&&!1!==a){var c=a.ref;if(null!=c){var e=a._owner;"function"===typeof c?c(b.getPublicInstance()):n.addComponentAsRefTo(b,c,e)}}},shouldUpdateRefs:function(b,a){return null===b||!1===b||null===a||!1===a||a._owner!==b._owner||a.ref!==b.ref},detachRefs:function(b,
a){if(null!==a&&!1!==a){var c=a.ref;if(null!=c){var e=a._owner;"function"===typeof c?c(null):n.removeComponentAsRefFrom(b,c,e)}}}}},function(p,k){p.exports={isBatchingUpdates:!1,batchedUpdates:function(f){}}},function(p,k,f){var n=f(75),b=f(6),a=f(18),c=f(82),e=f(148),d=f(150),g=f(9),h=f(19),l=f(49),m=f(1);p.exports={renderToString:function(f){b.isValidElement(f)?void 0:m(!1);var t;try{g.injection.injectBatchingStrategy(e);var w=a.createReactRootID();t=d.getPooled(!1);return t.perform(function(){var a=
l(f,null).mountComponent(w,t,h);return c.addChecksumToMarkup(a)},null)}finally{d.release(t),g.injection.injectBatchingStrategy(n)}},renderToStaticMarkup:function(c){b.isValidElement(c)?void 0:m(!1);var f;try{g.injection.injectBatchingStrategy(e);var w=a.createReactRootID();f=d.getPooled(!0);return f.perform(function(){return l(c,null).mountComponent(w,f,h)},null)}finally{d.release(f),g.injection.injectBatchingStrategy(n)}}}},function(p,k,f){function n(a){this.reinitializeTransaction();this.renderToStaticMarkup=
a;this.reactMountReady=b.getPooled(null);this.useCreateElement=!1}k=f(14);var b=f(36),a=f(29),c=f(3),e=[{initialize:function(){this.reactMountReady.reset()},close:f(10)}];c(n.prototype,a.Mixin,{getTransactionWrappers:function(){return e},getReactMountReady:function(){return this.reactMountReady},destructor:function(){b.release(this.reactMountReady);this.reactMountReady=null}});k.addPoolingTo(n);p.exports=n},function(p,k,f){k=f(17).injection.MUST_USE_ATTRIBUTE;p.exports={Properties:{clipPath:k,cx:k,
cy:k,d:k,dx:k,dy:k,fill:k,fillOpacity:k,fontFamily:k,fontSize:k,fx:k,fy:k,gradientTransform:k,gradientUnits:k,markerEnd:k,markerMid:k,markerStart:k,offset:k,opacity:k,patternContentUnits:k,patternUnits:k,points:k,preserveAspectRatio:k,r:k,rx:k,ry:k,spreadMethod:k,stopColor:k,stopOpacity:k,stroke:k,strokeDasharray:k,strokeLinecap:k,strokeOpacity:k,strokeWidth:k,textAnchor:k,transform:k,version:k,viewBox:k,x1:k,x2:k,x:k,xlinkActuate:k,xlinkArcrole:k,xlinkHref:k,xlinkRole:k,xlinkShow:k,xlinkTitle:k,
xlinkType:k,xmlBase:k,xmlLang:k,xmlSpace:k,y1:k,y2:k,y:k},DOMAttributeNamespaces:{xlinkActuate:"http://www.w3.org/1999/xlink",xlinkArcrole:"http://www.w3.org/1999/xlink",xlinkHref:"http://www.w3.org/1999/xlink",xlinkRole:"http://www.w3.org/1999/xlink",xlinkShow:"http://www.w3.org/1999/xlink",xlinkTitle:"http://www.w3.org/1999/xlink",xlinkType:"http://www.w3.org/1999/xlink",xmlBase:"http://www.w3.org/XML/1998/namespace",xmlLang:"http://www.w3.org/XML/1998/namespace",xmlSpace:"http://www.w3.org/XML/1998/namespace"},
DOMAttributeNames:{clipPath:"clip-path",fillOpacity:"fill-opacity",fontFamily:"font-family",fontSize:"font-size",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",patternContentUnits:"patternContentUnits",patternUnits:"patternUnits",preserveAspectRatio:"preserveAspectRatio",spreadMethod:"spreadMethod",stopColor:"stop-color",stopOpacity:"stop-opacity",strokeDasharray:"stroke-dasharray",strokeLinecap:"stroke-linecap",
strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",textAnchor:"text-anchor",viewBox:"viewBox",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlLang:"xml:lang",xmlSpace:"xml:space"}}},function(p,k,f){function n(a,g){if(v||null==w||w!==d())return null;var h;h=w;"selectionStart"in h&&c.hasSelectionCapabilities(h)?h={start:h.selectionStart,end:h.selectionEnd}:
window.getSelection?(h=window.getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}):document.selection?(h=document.selection.createRange(),h={parentElement:h.parentElement(),text:h.text,top:h.boundingTop,left:h.boundingLeft}):h=void 0;return q&&l(q,h)?null:(q=h,h=e.getPooled(t.select,u,a,g),h.type="select",h.target=w,b.accumulateTwoPhaseDispatches(h),h)}k=f(11);var b=f(21),a=f(4),c=f(81),e=f(16),d=f(62),g=f(92),h=f(13),l=f(64),m=k.topLevelTypes,
r=a.canUseDOM&&"documentMode"in document&&11>=document.documentMode,t={select:{phasedRegistrationNames:{bubbled:h({onSelect:null}),captured:h({onSelectCapture:null})},dependencies:[m.topBlur,m.topContextMenu,m.topFocus,m.topKeyDown,m.topMouseDown,m.topMouseUp,m.topSelectionChange]}},w=null,u=null,q=null,v=!1,x=!1,z=h({onSelect:null});p.exports={eventTypes:t,extractEvents:function(a,c,b,e,d){if(!x)return null;switch(a){case m.topFocus:if(g(c)||"true"===c.contentEditable)w=c,u=b,q=null;break;case m.topBlur:q=
u=w=null;break;case m.topMouseDown:v=!0;break;case m.topContextMenu:case m.topMouseUp:return v=!1,n(e,d);case m.topSelectionChange:if(r)break;case m.topKeyDown:case m.topKeyUp:return n(e,d)}return null},didPutListener:function(a,c,b){c===z&&(x=!0)}}},function(p,k){var f=Math.pow(2,53);p.exports={createReactRootIndex:function(){return Math.ceil(Math.random()*f)}}},function(p,k,f){k=f(11);var n=f(59),b=f(21),a=f(5),c=f(155),e=f(16),d=f(158),g=f(160),h=f(28),l=f(157),m=f(161),r=f(23),t=f(162),w=f(10),
u=f(45),q=f(1);f=f(13);var v=k.topLevelTypes;k={abort:{phasedRegistrationNames:{bubbled:f({onAbort:!0}),captured:f({onAbortCapture:!0})}},blur:{phasedRegistrationNames:{bubbled:f({onBlur:!0}),captured:f({onBlurCapture:!0})}},canPlay:{phasedRegistrationNames:{bubbled:f({onCanPlay:!0}),captured:f({onCanPlayCapture:!0})}},canPlayThrough:{phasedRegistrationNames:{bubbled:f({onCanPlayThrough:!0}),captured:f({onCanPlayThroughCapture:!0})}},click:{phasedRegistrationNames:{bubbled:f({onClick:!0}),captured:f({onClickCapture:!0})}},
contextMenu:{phasedRegistrationNames:{bubbled:f({onContextMenu:!0}),captured:f({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:f({onCopy:!0}),captured:f({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:f({onCut:!0}),captured:f({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:f({onDoubleClick:!0}),captured:f({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:f({onDrag:!0}),captured:f({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:f({onDragEnd:!0}),
captured:f({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:f({onDragEnter:!0}),captured:f({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:f({onDragExit:!0}),captured:f({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:f({onDragLeave:!0}),captured:f({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:f({onDragOver:!0}),captured:f({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:f({onDragStart:!0}),
captured:f({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:f({onDrop:!0}),captured:f({onDropCapture:!0})}},durationChange:{phasedRegistrationNames:{bubbled:f({onDurationChange:!0}),captured:f({onDurationChangeCapture:!0})}},emptied:{phasedRegistrationNames:{bubbled:f({onEmptied:!0}),captured:f({onEmptiedCapture:!0})}},encrypted:{phasedRegistrationNames:{bubbled:f({onEncrypted:!0}),captured:f({onEncryptedCapture:!0})}},ended:{phasedRegistrationNames:{bubbled:f({onEnded:!0}),captured:f({onEndedCapture:!0})}},
error:{phasedRegistrationNames:{bubbled:f({onError:!0}),captured:f({onErrorCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:f({onFocus:!0}),captured:f({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:f({onInput:!0}),captured:f({onInputCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:f({onKeyDown:!0}),captured:f({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:f({onKeyPress:!0}),captured:f({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:f({onKeyUp:!0}),
captured:f({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:f({onLoad:!0}),captured:f({onLoadCapture:!0})}},loadedData:{phasedRegistrationNames:{bubbled:f({onLoadedData:!0}),captured:f({onLoadedDataCapture:!0})}},loadedMetadata:{phasedRegistrationNames:{bubbled:f({onLoadedMetadata:!0}),captured:f({onLoadedMetadataCapture:!0})}},loadStart:{phasedRegistrationNames:{bubbled:f({onLoadStart:!0}),captured:f({onLoadStartCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:f({onMouseDown:!0}),
captured:f({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:f({onMouseMove:!0}),captured:f({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:f({onMouseOut:!0}),captured:f({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:f({onMouseOver:!0}),captured:f({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:f({onMouseUp:!0}),captured:f({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:f({onPaste:!0}),captured:f({onPasteCapture:!0})}},
pause:{phasedRegistrationNames:{bubbled:f({onPause:!0}),captured:f({onPauseCapture:!0})}},play:{phasedRegistrationNames:{bubbled:f({onPlay:!0}),captured:f({onPlayCapture:!0})}},playing:{phasedRegistrationNames:{bubbled:f({onPlaying:!0}),captured:f({onPlayingCapture:!0})}},progress:{phasedRegistrationNames:{bubbled:f({onProgress:!0}),captured:f({onProgressCapture:!0})}},rateChange:{phasedRegistrationNames:{bubbled:f({onRateChange:!0}),captured:f({onRateChangeCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:f({onReset:!0}),
captured:f({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:f({onScroll:!0}),captured:f({onScrollCapture:!0})}},seeked:{phasedRegistrationNames:{bubbled:f({onSeeked:!0}),captured:f({onSeekedCapture:!0})}},seeking:{phasedRegistrationNames:{bubbled:f({onSeeking:!0}),captured:f({onSeekingCapture:!0})}},stalled:{phasedRegistrationNames:{bubbled:f({onStalled:!0}),captured:f({onStalledCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:f({onSubmit:!0}),captured:f({onSubmitCapture:!0})}},
suspend:{phasedRegistrationNames:{bubbled:f({onSuspend:!0}),captured:f({onSuspendCapture:!0})}},timeUpdate:{phasedRegistrationNames:{bubbled:f({onTimeUpdate:!0}),captured:f({onTimeUpdateCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:f({onTouchCancel:!0}),captured:f({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:f({onTouchEnd:!0}),captured:f({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:f({onTouchMove:!0}),captured:f({onTouchMoveCapture:!0})}},
touchStart:{phasedRegistrationNames:{bubbled:f({onTouchStart:!0}),captured:f({onTouchStartCapture:!0})}},volumeChange:{phasedRegistrationNames:{bubbled:f({onVolumeChange:!0}),captured:f({onVolumeChangeCapture:!0})}},waiting:{phasedRegistrationNames:{bubbled:f({onWaiting:!0}),captured:f({onWaitingCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:f({onWheel:!0}),captured:f({onWheelCapture:!0})}}};var x={topAbort:k.abort,topBlur:k.blur,topCanPlay:k.canPlay,topCanPlayThrough:k.canPlayThrough,topClick:k.click,
topContextMenu:k.contextMenu,topCopy:k.copy,topCut:k.cut,topDoubleClick:k.doubleClick,topDrag:k.drag,topDragEnd:k.dragEnd,topDragEnter:k.dragEnter,topDragExit:k.dragExit,topDragLeave:k.dragLeave,topDragOver:k.dragOver,topDragStart:k.dragStart,topDrop:k.drop,topDurationChange:k.durationChange,topEmptied:k.emptied,topEncrypted:k.encrypted,topEnded:k.ended,topError:k.error,topFocus:k.focus,topInput:k.input,topKeyDown:k.keyDown,topKeyPress:k.keyPress,topKeyUp:k.keyUp,topLoad:k.load,topLoadedData:k.loadedData,
topLoadedMetadata:k.loadedMetadata,topLoadStart:k.loadStart,topMouseDown:k.mouseDown,topMouseMove:k.mouseMove,topMouseOut:k.mouseOut,topMouseOver:k.mouseOver,topMouseUp:k.mouseUp,topPaste:k.paste,topPause:k.pause,topPlay:k.play,topPlaying:k.playing,topProgress:k.progress,topRateChange:k.rateChange,topReset:k.reset,topScroll:k.scroll,topSeeked:k.seeked,topSeeking:k.seeking,topStalled:k.stalled,topSubmit:k.submit,topSuspend:k.suspend,topTimeUpdate:k.timeUpdate,topTouchCancel:k.touchCancel,topTouchEnd:k.touchEnd,
topTouchMove:k.touchMove,topTouchStart:k.touchStart,topVolumeChange:k.volumeChange,topWaiting:k.waiting,topWheel:k.wheel},z;for(z in x)x[z].dependencies=[z];var B=f({onClick:null}),A={};p.exports={eventTypes:k,extractEvents:function(a,f,w,k,n){f=x[a];if(!f)return null;var p;switch(a){case v.topAbort:case v.topCanPlay:case v.topCanPlayThrough:case v.topDurationChange:case v.topEmptied:case v.topEncrypted:case v.topEnded:case v.topError:case v.topInput:case v.topLoad:case v.topLoadedData:case v.topLoadedMetadata:case v.topLoadStart:case v.topPause:case v.topPlay:case v.topPlaying:case v.topProgress:case v.topRateChange:case v.topReset:case v.topSeeked:case v.topSeeking:case v.topStalled:case v.topSubmit:case v.topSuspend:case v.topTimeUpdate:case v.topVolumeChange:case v.topWaiting:p=
e;break;case v.topKeyPress:if(0===u(k))return null;case v.topKeyDown:case v.topKeyUp:p=g;break;case v.topBlur:case v.topFocus:p=d;break;case v.topClick:if(2===k.button)return null;case v.topContextMenu:case v.topDoubleClick:case v.topMouseDown:case v.topMouseMove:case v.topMouseOut:case v.topMouseOver:case v.topMouseUp:p=h;break;case v.topDrag:case v.topDragEnd:case v.topDragEnter:case v.topDragExit:case v.topDragLeave:case v.topDragOver:case v.topDragStart:case v.topDrop:p=l;break;case v.topTouchCancel:case v.topTouchEnd:case v.topTouchMove:case v.topTouchStart:p=
m;break;case v.topScroll:p=r;break;case v.topWheel:p=t;break;case v.topCopy:case v.topCut:case v.topPaste:p=c}p?void 0:q(!1);a=p.getPooled(f,w,k,n);b.accumulateTwoPhaseDispatches(a);return a},didPutListener:function(c,b,e){b===B&&(b=a.getNode(c),A[c]||(A[c]=n.listen(b,"click",w)))},willDeleteListener:function(a,c){c===B&&(A[a].remove(),delete A[a])}}},function(p,k,f){function n(a,c,e,d){b.call(this,a,c,e,d)}var b=f(16);b.augmentClass(n,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:
window.clipboardData}});p.exports=n},function(p,k,f){function n(a,c,e,d){b.call(this,a,c,e,d)}var b=f(16);b.augmentClass(n,{data:null});p.exports=n},function(p,k,f){function n(a,c,e,d){b.call(this,a,c,e,d)}var b=f(28);b.augmentClass(n,{dataTransfer:null});p.exports=n},function(p,k,f){function n(a,c,e,d){b.call(this,a,c,e,d)}var b=f(23);b.augmentClass(n,{relatedTarget:null});p.exports=n},function(p,k,f){function n(a,c,e,d){b.call(this,a,c,e,d)}var b=f(16);b.augmentClass(n,{data:null});p.exports=n},
function(p,k,f){function n(a,e,d,g){b.call(this,a,e,d,g)}var b=f(23),a=f(45);k=f(167);f=f(46);b.augmentClass(n,{key:k,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:f,charCode:function(c){return"keypress"===c.type?a(c):0},keyCode:function(a){return"keydown"===a.type||"keyup"===a.type?a.keyCode:0},which:function(c){return"keypress"===c.type?a(c):"keydown"===c.type||"keyup"===c.type?c.keyCode:0}});p.exports=n},function(p,k,f){function n(a,
c,e,d){b.call(this,a,c,e,d)}var b=f(23);k={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:f(46)};b.augmentClass(n,k);p.exports=n},function(p,k,f){function n(a,c,e,d){b.call(this,a,c,e,d)}var b=f(28);b.augmentClass(n,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:null,deltaMode:null});
p.exports=n},function(p,k){p.exports=function(f){for(var k=1,b=0,a=0,c=f.length,e=c&-4;a<e;){for(;a<Math.min(a+4096,e);a+=4)b+=(k+=f.charCodeAt(a))+(k+=f.charCodeAt(a+1))+(k+=f.charCodeAt(a+2))+(k+=f.charCodeAt(a+3));k%=65521;b%=65521}for(;a<c;a++)b+=k+=f.charCodeAt(a);return k%65521|b%65521<<16}},function(p,k,f){var n=f(65).isUnitlessNumber;p.exports=function(b,a){if(null==a||"boolean"===typeof a||""===a)return"";if(isNaN(a)||0===a||n.hasOwnProperty(b)&&n[b])return""+a;"string"===typeof a&&(a=a.trim());
return a+"px"}},function(p,k,f){f(3);f(2);p.exports=function(f,b,a,c,e){return e}},function(p,k,f){function n(a,c,b){void 0===a[b]&&null!=c&&(a[b]=c)}var b=f(53);f(2);p.exports=function(a){if(null==a)return a;var c={};b(a,n,c);return c}},function(p,k,f){var n=f(45),b={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a={8:"Backspace",9:"Tab",12:"Clear",
13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};p.exports=function(c){if(c.key){var e=b[c.key]||c.key;if("Unidentified"!==e)return e}return"keypress"===c.type?(c=n(c),13===c?"Enter":
String.fromCharCode(c)):"keydown"===c.type||"keyup"===c.type?a[c.keyCode]||"Unidentified":""}},function(p,k){function f(f){for(;f&&f.firstChild;)f=f.firstChild;return f}p.exports=function(k,b){for(var a=f(k),c=0,e=0;a;){if(3===a.nodeType){e=c+a.textContent.length;if(c<=b&&e>=b)return{node:a,offset:b-c};c=e}a:{for(;a;){if(a.nextSibling){a=a.nextSibling;break a}a=a.parentNode}a=void 0}a=f(a)}}},function(p,k,f){var n=f(6),b=f(1);p.exports=function(a){n.isValidElement(a)?void 0:b(!1);return a}},function(p,
k,f){var n=f(31);p.exports=function(b){return'"'+n(b)+'"'}},function(p,k,f){k=f(5);p.exports=k.renderSubtreeIntoContainer},function(p,k,f){var n=function(b,a){function c(){this.constructor=b}for(var e in a)a.hasOwnProperty(e)&&(b[e]=a[e]);b.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)};p=function(b){function a(a,e,d){b.call(this);this.parent=a;this.outerValue=e;this.outerIndex=d;this.index=0}n(a,b);a.prototype._next=function(a){this.parent.notifyNext(this.outerValue,a,this.outerIndex,
this.index++,this)};a.prototype._error=function(a){this.parent.notifyError(a,this);this.unsubscribe()};a.prototype._complete=function(){this.parent.notifyComplete(this);this.unsubscribe()};return a}(f(33).Subscriber);k.InnerSubscriber=p},function(p,k){k.empty={isUnsubscribed:!0,next:function(f){},error:function(f){throw f;},complete:function(){}}},function(p,k,f){p=f(7);f=f(181);p.Observable.fromEvent=f.fromEvent},function(p,k,f){p=f(7);f=f(183);p.Observable.prototype.merge=f.merge},function(p,k,
f){p=f(7);f=f(184);p.Observable.prototype.skip=f.skip},function(p,k,f){p=f(7);f=f(185);p.Observable.prototype.startWith=f.startWith},function(p,k,f){p=f(7);f=f(186);p.Observable.prototype.switchMap=f.switchMap},function(p,k,f){p=f(7);f=f(187);p.Observable.prototype.takeUntil=f.takeUntil},function(p,k,f){var n=function(a,c){function b(){this.constructor=a}for(var h in c)c.hasOwnProperty(h)&&(a[h]=c[h]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)};p=f(7);var b=f(101),a=f(57),
c=f(94);f=function(e){function d(a,c,b){e.call(this);this.sourceObj=a;this.eventName=c;this.selector=b}n(d,e);d.create=function(a,c,b){return new d(a,c,b)};d.setupSubscription=function(a,b,e,f){var r;if(a&&"[object NodeList]"===a.toString()||a&&"[object HTMLCollection]"===a.toString())for(var t=0,w=a.length;t<w;t++)d.setupSubscription(a[t],b,e,f);else a&&"function"===typeof a.addEventListener&&"function"===typeof a.removeEventListener?(a.addEventListener(b,e),r=function(){return a.removeEventListener(b,
e)}):a&&"function"===typeof a.on&&"function"===typeof a.off?(a.on(b,e),r=function(){return a.off(b,e)}):a&&"function"===typeof a.addListener&&"function"===typeof a.removeListener&&(a.addListener(b,e),r=function(){return a.removeListener(b,e)});f.add(new c.Subscription(r))};d.prototype._subscribe=function(c){var e=this.selector;d.setupSubscription(this.sourceObj,this.eventName,e?function(){for(var d=[],f=0;f<arguments.length;f++)d[f-0]=arguments[f];d=b.tryCatch(e).apply(void 0,d);d===a.errorObject?
c.error(a.errorObject.e):c.next(d)}:function(a){return c.next(a)},c)};return d}(p.Observable);k.FromEventObservable=f},function(p,k,f){p=f(180);k.fromEvent=p.FromEventObservable.create},function(p,k,f){function n(){for(var e=[],d=0;d<arguments.length;d++)e[d-0]=arguments[d];d=null;b.isScheduler(e[e.length-1])&&(d=e.pop());return(new a.ArrayObservable(e,d)).lift(new c.MergeAllOperator(1))}var b=f(34),a=f(56),c=f(97);k.concat=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];return n.apply(void 0,
[this].concat(a))};k.concatStatic=n},function(p,k,f){function n(){for(var e=[],d=0;d<arguments.length;d++)e[d-0]=arguments[d];var d=Number.POSITIVE_INFINITY,g=null,h=e[e.length-1];c.isScheduler(h)?(g=e.pop(),1<e.length&&"number"===typeof e[e.length-1]&&(d=e.pop())):"number"===typeof h&&(d=e.pop());return 1===e.length?e[0]:(new b.ArrayObservable(e,g)).lift(new a.MergeAllOperator(d))}var b=f(56),a=f(97),c=f(34);k.merge=function(){for(var a=[],c=0;c<arguments.length;c++)a[c-0]=arguments[c];a.unshift(this);
return n.apply(this,a)};k.mergeStatic=n},function(p,k,f){var n=function(a,b){function d(){this.constructor=a}for(var g in b)b.hasOwnProperty(g)&&(a[g]=b[g]);a.prototype=null===b?Object.create(b):(d.prototype=b.prototype,new d)};p=f(33);k.skip=function(a){return this.lift(new b(a))};var b=function(){function c(a){this.total=a}c.prototype.call=function(c,b){return b._subscribe(new a(c,this.total))};return c}(),a=function(a){function b(e,g){a.call(this,e);this.total=g;this.count=0}n(b,a);b.prototype._next=
function(a){++this.count>this.total&&this.destination.next(a)};return b}(p.Subscriber)},function(p,k,f){var n=f(56),b=f(96),a=f(95),c=f(182),e=f(34);k.startWith=function(){for(var d=[],g=0;g<arguments.length;g++)d[g-0]=arguments[g];g=d[d.length-1];e.isScheduler(g)?d.pop():g=null;var h=d.length;return 1===h?c.concatStatic(new b.ScalarObservable(d[0],g),this):1<h?c.concatStatic(new n.ArrayObservable(d,g),this):c.concatStatic(new a.EmptyObservable(g),this)}},function(p,k,f){var n=function(a,c){function b(){this.constructor=
a}for(var h in c)c.hasOwnProperty(h)&&(a[h]=c[h]);a.prototype=null===c?Object.create(c):(b.prototype=c.prototype,new b)};p=f(55);var b=f(58);k.switchMap=function(c,b){return this.lift(new a(c,b))};var a=function(){function a(c,b){this.project=c;this.resultSelector=b}a.prototype.call=function(a,b){return b._subscribe(new c(a,this.project,this.resultSelector))};return a}(),c=function(a){function c(b,d,l){a.call(this,b);this.project=d;this.resultSelector=l;this.index=0}n(c,a);c.prototype._next=function(a){var c,
b=this.index++;try{c=this.project(a,b)}catch(e){this.destination.error(e);return}this._innerSub(c,a,b)};c.prototype._innerSub=function(a,c,e){var d=this.innerSubscription;d&&d.unsubscribe();this.add(this.innerSubscription=b.subscribeToResult(this,a,c,e))};c.prototype._complete=function(){var c=this.innerSubscription;c&&!c.isUnsubscribed||a.prototype._complete.call(this)};c.prototype._unsubscribe=function(){this.innerSubscription=null};c.prototype.notifyComplete=function(c){this.remove(c);this.innerSubscription=
null;this.isStopped&&a.prototype._complete.call(this)};c.prototype.notifyNext=function(a,c,b,e,d){this.resultSelector?this._tryNotifyNext(a,c,b,e):this.destination.next(c)};c.prototype._tryNotifyNext=function(a,c,b,e){var d;try{d=this.resultSelector(a,c,b,e)}catch(f){this.destination.error(f);return}this.destination.next(d)};return c}(p.OuterSubscriber)},function(p,k,f){var n=function(a,c){function b(){this.constructor=a}for(var h in c)c.hasOwnProperty(h)&&(a[h]=c[h]);a.prototype=null===c?Object.create(c):
(b.prototype=c.prototype,new b)};p=f(55);var b=f(58);k.takeUntil=function(c){return this.lift(new a(c))};var a=function(){function a(c){this.notifier=c}a.prototype.call=function(a,b){return b._subscribe(new c(a,this.notifier))};return a}(),c=function(a){function c(d,h){a.call(this,d);this.notifier=h;this.add(b.subscribeToResult(this,h))}n(c,a);c.prototype.notifyNext=function(a,c,b,e,d){this.complete()};c.prototype.notifyComplete=function(){};return c}(p.OuterSubscriber)},function(p,k,f){p=f(35);f=
p.root.Symbol;if("function"===typeof f)f.iterator?k.$$iterator=f.iterator:"function"===typeof f["for"]&&(k.$$iterator=f["for"]("iterator"));else if(p.root.Set&&"function"===typeof(new p.root.Set)["@@iterator"])k.$$iterator="@@iterator";else if(p.root.Map){f=Object.getOwnPropertyNames(p.root.Map.prototype);for(var n=0;n<f.length;++n){var b=f[n];if("entries"!==b&&"size"!==b&&p.root.Map.prototype[b]===p.root.Map.prototype.entries){k.$$iterator=b;break}}}else k.$$iterator="@@iterator"},function(p,k){var f=
function(b,a){function c(){this.constructor=b}for(var e in a)a.hasOwnProperty(e)&&(b[e]=a[e]);b.prototype=null===a?Object.create(a):(c.prototype=a.prototype,new c)},n=function(b){function a(a){b.call(this);this.errors=a;this.name="UnsubscriptionError";this.message=a?a.length+" errors occurred during unsubscription:\n"+a.map(function(a,c){return c+1+") "+a.toString()}).join("\n"):""}f(a,b);return a}(Error);k.UnsubscriptionError=n},function(p,k){var f="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?
function(f){return typeof f}:function(f){return f&&"function"===typeof Symbol&&f.constructor===Symbol?"symbol":typeof f};k.isObject=function(k){return null!=k&&"object"===("undefined"===typeof k?"undefined":f(k))}},function(p,k){k.isPromise=function(f){return f&&"function"!==typeof f.subscribe&&"function"===typeof f.then}},function(p,k,f){var n=f(33),b=f(98);k.toSubscriber=function(a,c,e){if(a){if(a instanceof n.Subscriber)return a;if(a[b.$$rxSubscriber])return a[b.$$rxSubscriber]()}return a||c||
e?new n.Subscriber(a,c,e):new n.Subscriber}},function(p,k){p.exports=function(f){var k=f.Symbol;"function"===typeof k?k.observable?f=k.observable:(f=k("observable"),k.observable=f):f="@@observable";return f}},function(p,k,f){var n;"use strict";var b={REVISION:"77"};!(n="function"===typeof b?b.call(k,f,k,p):b,void 0!==n&&(p.exports=n));void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52));void 0===Math.sign&&(Math.sign=function(a){return 0>a?-1:0<a?1:+a});void 0===Function.prototype.name&&Object.defineProperty(Function.prototype,
"name",{get:function(){return this.toString().match(/^\s*function\s*(\S*)\s*\(/)[1]}});void 0===Object.assign&&function(){Object.assign=function(a){if(void 0===a||null===a)throw new TypeError("Cannot convert undefined or null to object");for(var c=Object(a),b=1;b<arguments.length;b++){var d=arguments[b];if(void 0!==d&&null!==d)for(var g in d)Object.prototype.hasOwnProperty.call(d,g)&&(c[g]=d[g])}return c}}();Object.assign(b,{MOUSE:{LEFT:0,MIDDLE:1,RIGHT:2},CullFaceNone:0,CullFaceBack:1,CullFaceFront:2,
CullFaceFrontBack:3,FrontFaceDirectionCW:0,FrontFaceDirectionCCW:1,BasicShadowMap:0,PCFShadowMap:1,PCFSoftShadowMap:2,FrontSide:0,BackSide:1,DoubleSide:2,FlatShading:1,SmoothShading:2,NoColors:0,FaceColors:1,VertexColors:2,NoBlending:0,NormalBlending:1,AdditiveBlending:2,SubtractiveBlending:3,MultiplyBlending:4,CustomBlending:5,AddEquation:100,SubtractEquation:101,ReverseSubtractEquation:102,MinEquation:103,MaxEquation:104,ZeroFactor:200,OneFactor:201,SrcColorFactor:202,OneMinusSrcColorFactor:203,
SrcAlphaFactor:204,OneMinusSrcAlphaFactor:205,DstAlphaFactor:206,OneMinusDstAlphaFactor:207,DstColorFactor:208,OneMinusDstColorFactor:209,SrcAlphaSaturateFactor:210,NeverDepth:0,AlwaysDepth:1,LessDepth:2,LessEqualDepth:3,EqualDepth:4,GreaterEqualDepth:5,GreaterDepth:6,NotEqualDepth:7,MultiplyOperation:0,MixOperation:1,AddOperation:2,NoToneMapping:0,LinearToneMapping:1,ReinhardToneMapping:2,Uncharted2ToneMapping:3,CineonToneMapping:4,UVMapping:300,CubeReflectionMapping:301,CubeRefractionMapping:302,
EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,SphericalReflectionMapping:305,CubeUVReflectionMapping:306,CubeUVRefractionMapping:307,RepeatWrapping:1E3,ClampToEdgeWrapping:1001,MirroredRepeatWrapping:1002,NearestFilter:1003,NearestMipMapNearestFilter:1004,NearestMipMapLinearFilter:1005,LinearFilter:1006,LinearMipMapNearestFilter:1007,LinearMipMapLinearFilter:1008,UnsignedByteType:1009,ByteType:1010,ShortType:1011,UnsignedShortType:1012,IntType:1013,UnsignedIntType:1014,
FloatType:1015,HalfFloatType:1025,UnsignedShort4444Type:1016,UnsignedShort5551Type:1017,UnsignedShort565Type:1018,AlphaFormat:1019,RGBFormat:1020,RGBAFormat:1021,LuminanceFormat:1022,LuminanceAlphaFormat:1023,RGBEFormat:b.RGBAFormat,DepthFormat:1026,RGB_S3TC_DXT1_Format:2001,RGBA_S3TC_DXT1_Format:2002,RGBA_S3TC_DXT3_Format:2003,RGBA_S3TC_DXT5_Format:2004,RGB_PVRTC_4BPPV1_Format:2100,RGB_PVRTC_2BPPV1_Format:2101,RGBA_PVRTC_4BPPV1_Format:2102,RGBA_PVRTC_2BPPV1_Format:2103,RGB_ETC1_Format:2151,LoopOnce:2200,
LoopRepeat:2201,LoopPingPong:2202,InterpolateDiscrete:2300,InterpolateLinear:2301,InterpolateSmooth:2302,ZeroCurvatureEnding:2400,ZeroSlopeEnding:2401,WrapAroundEnding:2402,TrianglesDrawMode:0,TriangleStripDrawMode:1,TriangleFanDrawMode:2,LinearEncoding:3E3,sRGBEncoding:3001,GammaEncoding:3007,RGBEEncoding:3002,LogLuvEncoding:3003,RGBM7Encoding:3004,RGBM16Encoding:3005,RGBDEncoding:3006,BasicDepthPacking:3200,RGBADepthPacking:3201});b.Color=function(a,c,b){return void 0===c&&void 0===b?this.set(a):
this.setRGB(a,c,b)};b.Color.prototype={constructor:b.Color,r:1,g:1,b:1,set:function(a){a instanceof b.Color?this.copy(a):"number"===typeof a?this.setHex(a):"string"===typeof a&&this.setStyle(a);return this},setScalar:function(a){this.b=this.g=this.r=a},setHex:function(a){a=Math.floor(a);this.r=(a>>16&255)/255;this.g=(a>>8&255)/255;this.b=(a&255)/255;return this},setRGB:function(a,c,b){this.r=a;this.g=c;this.b=b;return this},setHSL:function(){function a(a,b,d){0>d&&(d+=1);1<d&&--d;return d<1/6?a+6*
(b-a)*d:.5>d?b:d<2/3?a+6*(b-a)*(2/3-d):a}return function(c,e,d){c=b.Math.euclideanModulo(c,1);e=b.Math.clamp(e,0,1);d=b.Math.clamp(d,0,1);0===e?this.r=this.g=this.b=d:(e=.5>=d?d*(1+e):d+e-d*e,d=2*d-e,this.r=a(d,e,c+1/3),this.g=a(d,e,c),this.b=a(d,e,c-1/3));return this}}(),setStyle:function(a){function c(c){void 0!==c&&1>parseFloat(c)&&console.warn("THREE.Color: Alpha component of "+a+" will be ignored.")}var e;if(e=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(a)){var d=e[2];switch(e[1]){case "rgb":case "rgba":if(e=
/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(d))return this.r=Math.min(255,parseInt(e[1],10))/255,this.g=Math.min(255,parseInt(e[2],10))/255,this.b=Math.min(255,parseInt(e[3],10))/255,c(e[5]),this;if(e=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(d))return this.r=Math.min(100,parseInt(e[1],10))/100,this.g=Math.min(100,parseInt(e[2],10))/100,this.b=Math.min(100,parseInt(e[3],10))/100,c(e[5]),this;break;case "hsl":case "hsla":if(e=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(d)){var d=
parseFloat(e[1])/360,g=parseInt(e[2],10)/100,h=parseInt(e[3],10)/100;c(e[5]);return this.setHSL(d,g,h)}}}else if(e=/^\#([A-Fa-f0-9]+)$/.exec(a)){e=e[1];d=e.length;if(3===d)return this.r=parseInt(e.charAt(0)+e.charAt(0),16)/255,this.g=parseInt(e.charAt(1)+e.charAt(1),16)/255,this.b=parseInt(e.charAt(2)+e.charAt(2),16)/255,this;if(6===d)return this.r=parseInt(e.charAt(0)+e.charAt(1),16)/255,this.g=parseInt(e.charAt(2)+e.charAt(3),16)/255,this.b=parseInt(e.charAt(4)+e.charAt(5),16)/255,this}a&&0<a.length&&
(e=b.ColorKeywords[a],void 0!==e?this.setHex(e):console.warn("THREE.Color: Unknown color "+a));return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(a){this.r=a.r;this.g=a.g;this.b=a.b;return this},copyGammaToLinear:function(a,c){void 0===c&&(c=2);this.r=Math.pow(a.r,c);this.g=Math.pow(a.g,c);this.b=Math.pow(a.b,c);return this},copyLinearToGamma:function(a,c){void 0===c&&(c=2);var b=0<c?1/c:1;this.r=Math.pow(a.r,b);this.g=Math.pow(a.g,b);this.b=Math.pow(a.b,
b);return this},convertGammaToLinear:function(){var a=this.r,c=this.g,b=this.b;this.r=a*a;this.g=c*c;this.b=b*b;return this},convertLinearToGamma:function(){this.r=Math.sqrt(this.r);this.g=Math.sqrt(this.g);this.b=Math.sqrt(this.b);return this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(a){a=a||{h:0,s:0,l:0};var c=this.r,b=this.g,d=this.b,g=Math.max(c,b,d),h=Math.min(c,b,d),l,f=
(h+g)/2;if(h===g)h=l=0;else{var r=g-h,h=.5>=f?r/(g+h):r/(2-g-h);switch(g){case c:l=(b-d)/r+(b<d?6:0);break;case b:l=(d-c)/r+2;break;case d:l=(c-b)/r+4}l/=6}a.h=l;a.s=h;a.l=f;return a},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(a,c,b){var d=this.getHSL();d.h+=a;d.s+=c;d.l+=b;this.setHSL(d.h,d.s,d.l);return this},add:function(a){this.r+=a.r;this.g+=a.g;this.b+=a.b;return this},addColors:function(a,c){this.r=a.r+c.r;this.g=a.g+c.g;this.b=
a.b+c.b;return this},addScalar:function(a){this.r+=a;this.g+=a;this.b+=a;return this},multiply:function(a){this.r*=a.r;this.g*=a.g;this.b*=a.b;return this},multiplyScalar:function(a){this.r*=a;this.g*=a;this.b*=a;return this},lerp:function(a,c){this.r+=(a.r-this.r)*c;this.g+=(a.g-this.g)*c;this.b+=(a.b-this.b)*c;return this},equals:function(a){return a.r===this.r&&a.g===this.g&&a.b===this.b},fromArray:function(a,c){void 0===c&&(c=0);this.r=a[c];this.g=a[c+1];this.b=a[c+2];return this},toArray:function(a,
c){void 0===a&&(a=[]);void 0===c&&(c=0);a[c]=this.r;a[c+1]=this.g;a[c+2]=this.b;return a}};b.ColorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,
darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,
gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,
lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,
orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,
springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};b.Quaternion=function(a,c,b,d){this._x=a||0;this._y=c||0;this._z=b||0;this._w=void 0!==d?d:1};b.Quaternion.prototype={constructor:b.Quaternion,get x(){return this._x},set x(a){this._x=a;this.onChangeCallback()},get y(){return this._y},set y(a){this._y=a;this.onChangeCallback()},get z(){return this._z},
set z(a){this._z=a;this.onChangeCallback()},get w(){return this._w},set w(a){this._w=a;this.onChangeCallback()},set:function(a,c,b,d){this._x=a;this._y=c;this._z=b;this._w=d;this.onChangeCallback();return this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(a){this._x=a.x;this._y=a.y;this._z=a.z;this._w=a.w;this.onChangeCallback();return this},setFromEuler:function(a,c){if(!1===a instanceof b.Euler)throw Error("THREE.Quaternion: .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.");
var e=Math.cos(a._x/2),d=Math.cos(a._y/2),g=Math.cos(a._z/2),h=Math.sin(a._x/2),l=Math.sin(a._y/2),f=Math.sin(a._z/2),r=a.order;"XYZ"===r?(this._x=h*d*g+e*l*f,this._y=e*l*g-h*d*f,this._z=e*d*f+h*l*g,this._w=e*d*g-h*l*f):"YXZ"===r?(this._x=h*d*g+e*l*f,this._y=e*l*g-h*d*f,this._z=e*d*f-h*l*g,this._w=e*d*g+h*l*f):"ZXY"===r?(this._x=h*d*g-e*l*f,this._y=e*l*g+h*d*f,this._z=e*d*f+h*l*g,this._w=e*d*g-h*l*f):"ZYX"===r?(this._x=h*d*g-e*l*f,this._y=e*l*g+h*d*f,this._z=e*d*f-h*l*g,this._w=e*d*g+h*l*f):"YZX"===
r?(this._x=h*d*g+e*l*f,this._y=e*l*g+h*d*f,this._z=e*d*f-h*l*g,this._w=e*d*g-h*l*f):"XZY"===r&&(this._x=h*d*g-e*l*f,this._y=e*l*g-h*d*f,this._z=e*d*f+h*l*g,this._w=e*d*g+h*l*f);if(!1!==c)this.onChangeCallback();return this},setFromAxisAngle:function(a,c){var b=c/2,d=Math.sin(b);this._x=a.x*d;this._y=a.y*d;this._z=a.z*d;this._w=Math.cos(b);this.onChangeCallback();return this},setFromRotationMatrix:function(a){var c=a.elements,b=c[0];a=c[4];var d=c[8],g=c[1],h=c[5],l=c[9],f=c[2],r=c[6],c=c[10],t=b+
h+c;0<t?(b=.5/Math.sqrt(t+1),this._w=.25/b,this._x=(r-l)*b,this._y=(d-f)*b,this._z=(g-a)*b):b>h&&b>c?(b=2*Math.sqrt(1+b-h-c),this._w=(r-l)/b,this._x=.25*b,this._y=(a+g)/b,this._z=(d+f)/b):h>c?(b=2*Math.sqrt(1+h-b-c),this._w=(d-f)/b,this._x=(a+g)/b,this._y=.25*b,this._z=(l+r)/b):(b=2*Math.sqrt(1+c-b-h),this._w=(g-a)/b,this._x=(d+f)/b,this._y=(l+r)/b,this._z=.25*b);this.onChangeCallback();return this},setFromUnitVectors:function(){var a,c;return function(e,d){void 0===a&&(a=new b.Vector3);c=e.dot(d)+
1;1E-6>c?(c=0,Math.abs(e.x)>Math.abs(e.z)?a.set(-e.y,e.x,0):a.set(0,-e.z,e.y)):a.crossVectors(e,d);this._x=a.x;this._y=a.y;this._z=a.z;this._w=c;return this.normalize()}}(),inverse:function(){return this.conjugate().normalize()},conjugate:function(){this._x*=-1;this._y*=-1;this._z*=-1;this.onChangeCallback();return this},dot:function(a){return this._x*a._x+this._y*a._y+this._z*a._z+this._w*a._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*
this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var a=this.length();0===a?(this._z=this._y=this._x=0,this._w=1):(a=1/a,this._x*=a,this._y*=a,this._z*=a,this._w*=a);this.onChangeCallback();return this},multiply:function(a,c){return void 0!==c?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(a,c)):this.multiplyQuaternions(this,a)},premultiply:function(a){return this.multiplyQuaternions(a,
this)},multiplyQuaternions:function(a,c){var b=a._x,d=a._y,g=a._z,h=a._w,l=c._x,f=c._y,r=c._z,t=c._w;this._x=b*t+h*l+d*r-g*f;this._y=d*t+h*f+g*l-b*r;this._z=g*t+h*r+b*f-d*l;this._w=h*t-b*l-d*f-g*r;this.onChangeCallback();return this},slerp:function(a,c){if(0===c)return this;if(1===c)return this.copy(a);var b=this._x,d=this._y,g=this._z,h=this._w,l=h*a._w+b*a._x+d*a._y+g*a._z;0>l?(this._w=-a._w,this._x=-a._x,this._y=-a._y,this._z=-a._z,l=-l):this.copy(a);if(1<=l)return this._w=h,this._x=b,this._y=
d,this._z=g,this;var f=Math.sqrt(1-l*l);if(.001>Math.abs(f))return this._w=.5*(h+this._w),this._x=.5*(b+this._x),this._y=.5*(d+this._y),this._z=.5*(g+this._z),this;var r=Math.atan2(f,l),l=Math.sin((1-c)*r)/f,f=Math.sin(c*r)/f;this._w=h*l+this._w*f;this._x=b*l+this._x*f;this._y=d*l+this._y*f;this._z=g*l+this._z*f;this.onChangeCallback();return this},equals:function(a){return a._x===this._x&&a._y===this._y&&a._z===this._z&&a._w===this._w},fromArray:function(a,c){void 0===c&&(c=0);this._x=a[c];this._y=
a[c+1];this._z=a[c+2];this._w=a[c+3];this.onChangeCallback();return this},toArray:function(a,c){void 0===a&&(a=[]);void 0===c&&(c=0);a[c]=this._x;a[c+1]=this._y;a[c+2]=this._z;a[c+3]=this._w;return a},onChange:function(a){this.onChangeCallback=a;return this},onChangeCallback:function(){}};Object.assign(b.Quaternion,{slerp:function(a,c,b,d){return b.copy(a).slerp(c,d)},slerpFlat:function(a,c,b,d,g,h,l){var f=b[d+0],r=b[d+1],t=b[d+2];b=b[d+3];d=g[h+0];var w=g[h+1],u=g[h+2];g=g[h+3];if(b!==g||f!==d||
r!==w||t!==u){h=1-l;var q=f*d+r*w+t*u+b*g,v=0<=q?1:-1,k=1-q*q;k>Number.EPSILON&&(k=Math.sqrt(k),q=Math.atan2(k,q*v),h=Math.sin(h*q)/k,l=Math.sin(l*q)/k);v*=l;f=f*h+d*v;r=r*h+w*v;t=t*h+u*v;b=b*h+g*v;h===1-l&&(l=1/Math.sqrt(f*f+r*r+t*t+b*b),f*=l,r*=l,t*=l,b*=l)}a[c]=f;a[c+1]=r;a[c+2]=t;a[c+3]=b}});b.Vector2=function(a,c){this.x=a||0;this.y=c||0};b.Vector2.prototype={constructor:b.Vector2,get width(){return this.x},set width(a){this.x=a},get height(){return this.y},set height(a){this.y=a},set:function(a,
c){this.x=a;this.y=c;return this},setScalar:function(a){this.y=this.x=a;return this},setX:function(a){this.x=a;return this},setY:function(a){this.y=a;return this},setComponent:function(a,c){switch(a){case 0:this.x=c;break;case 1:this.y=c;break;default:throw Error("index is out of range: "+a);}},getComponent:function(a){switch(a){case 0:return this.x;case 1:return this.y;default:throw Error("index is out of range: "+a);}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(a){this.x=
a.x;this.y=a.y;return this},add:function(a,c){if(void 0!==c)return console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(a,c);this.x+=a.x;this.y+=a.y;return this},addScalar:function(a){this.x+=a;this.y+=a;return this},addVectors:function(a,c){this.x=a.x+c.x;this.y=a.y+c.y;return this},addScaledVector:function(a,c){this.x+=a.x*c;this.y+=a.y*c;return this},sub:function(a,c){if(void 0!==c)return console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),
this.subVectors(a,c);this.x-=a.x;this.y-=a.y;return this},subScalar:function(a){this.x-=a;this.y-=a;return this},subVectors:function(a,c){this.x=a.x-c.x;this.y=a.y-c.y;return this},multiply:function(a){this.x*=a.x;this.y*=a.y;return this},multiplyScalar:function(a){isFinite(a)?(this.x*=a,this.y*=a):this.y=this.x=0;return this},divide:function(a){this.x/=a.x;this.y/=a.y;return this},divideScalar:function(a){return this.multiplyScalar(1/a)},min:function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,
a.y);return this},max:function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);return this},clamp:function(a,c){this.x=Math.max(a.x,Math.min(c.x,this.x));this.y=Math.max(a.y,Math.min(c.y,this.y));return this},clampScalar:function(){var a,c;return function(e,d){void 0===a&&(a=new b.Vector2,c=new b.Vector2);a.set(e,e);c.set(d,d);return this.clamp(a,c)}}(),clampLength:function(a,c){var b=this.length();return this.multiplyScalar(Math.max(a,Math.min(c,b))/b)},floor:function(){this.x=Math.floor(this.x);
this.y=Math.floor(this.y);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this},roundToZero:function(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);return this},negate:function(){this.x=-this.x;this.y=-this.y;return this},dot:function(a){return this.x*a.x+this.y*a.y},lengthSq:function(){return this.x*this.x+this.y*this.y},
length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length())},angle:function(){var a=Math.atan2(this.y,this.x);0>a&&(a+=2*Math.PI);return a},distanceTo:function(a){return Math.sqrt(this.distanceToSquared(a))},distanceToSquared:function(a){var c=this.x-a.x;a=this.y-a.y;return c*c+a*a},setLength:function(a){return this.multiplyScalar(a/this.length())},lerp:function(a,
c){this.x+=(a.x-this.x)*c;this.y+=(a.y-this.y)*c;return this},lerpVectors:function(a,c,b){return this.subVectors(c,a).multiplyScalar(b).add(a)},equals:function(a){return a.x===this.x&&a.y===this.y},fromArray:function(a,c){void 0===c&&(c=0);this.x=a[c];this.y=a[c+1];return this},toArray:function(a,c){void 0===a&&(a=[]);void 0===c&&(c=0);a[c]=this.x;a[c+1]=this.y;return a},fromAttribute:function(a,c,b){void 0===b&&(b=0);c=c*a.itemSize+b;this.x=a.array[c];this.y=a.array[c+1];return this},rotateAround:function(a,
c){var b=Math.cos(c),d=Math.sin(c),g=this.x-a.x,h=this.y-a.y;this.x=g*b-h*d+a.x;this.y=g*d+h*b+a.y;return this}};b.Vector3=function(a,c,b){this.x=a||0;this.y=c||0;this.z=b||0};b.Vector3.prototype={constructor:b.Vector3,set:function(a,c,b){this.x=a;this.y=c;this.z=b;return this},setScalar:function(a){this.z=this.y=this.x=a;return this},setX:function(a){this.x=a;return this},setY:function(a){this.y=a;return this},setZ:function(a){this.z=a;return this},setComponent:function(a,c){switch(a){case 0:this.x=
c;break;case 1:this.y=c;break;case 2:this.z=c;break;default:throw Error("index is out of range: "+a);}},getComponent:function(a){switch(a){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw Error("index is out of range: "+a);}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(a){this.x=a.x;this.y=a.y;this.z=a.z;return this},add:function(a,c){if(void 0!==c)return console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),
this.addVectors(a,c);this.x+=a.x;this.y+=a.y;this.z+=a.z;return this},addScalar:function(a){this.x+=a;this.y+=a;this.z+=a;return this},addVectors:function(a,c){this.x=a.x+c.x;this.y=a.y+c.y;this.z=a.z+c.z;return this},addScaledVector:function(a,c){this.x+=a.x*c;this.y+=a.y*c;this.z+=a.z*c;return this},sub:function(a,c){if(void 0!==c)return console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(a,c);this.x-=a.x;this.y-=a.y;this.z-=a.z;
return this},subScalar:function(a){this.x-=a;this.y-=a;this.z-=a;return this},subVectors:function(a,c){this.x=a.x-c.x;this.y=a.y-c.y;this.z=a.z-c.z;return this},multiply:function(a,c){if(void 0!==c)return console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(a,c);this.x*=a.x;this.y*=a.y;this.z*=a.z;return this},multiplyScalar:function(a){isFinite(a)?(this.x*=a,this.y*=a,this.z*=a):this.z=this.y=this.x=0;return this},multiplyVectors:function(a,
c){this.x=a.x*c.x;this.y=a.y*c.y;this.z=a.z*c.z;return this},applyEuler:function(){var a;return function(c){!1===c instanceof b.Euler&&console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.");void 0===a&&(a=new b.Quaternion);return this.applyQuaternion(a.setFromEuler(c))}}(),applyAxisAngle:function(){var a;return function(c,e){void 0===a&&(a=new b.Quaternion);return this.applyQuaternion(a.setFromAxisAngle(c,e))}}(),applyMatrix3:function(a){var c=
this.x,b=this.y,d=this.z;a=a.elements;this.x=a[0]*c+a[3]*b+a[6]*d;this.y=a[1]*c+a[4]*b+a[7]*d;this.z=a[2]*c+a[5]*b+a[8]*d;return this},applyMatrix4:function(a){var c=this.x,b=this.y,d=this.z;a=a.elements;this.x=a[0]*c+a[4]*b+a[8]*d+a[12];this.y=a[1]*c+a[5]*b+a[9]*d+a[13];this.z=a[2]*c+a[6]*b+a[10]*d+a[14];return this},applyProjection:function(a){var c=this.x,b=this.y,d=this.z;a=a.elements;var g=1/(a[3]*c+a[7]*b+a[11]*d+a[15]);this.x=(a[0]*c+a[4]*b+a[8]*d+a[12])*g;this.y=(a[1]*c+a[5]*b+a[9]*d+a[13])*
g;this.z=(a[2]*c+a[6]*b+a[10]*d+a[14])*g;return this},applyQuaternion:function(a){var c=this.x,b=this.y,d=this.z,g=a.x,h=a.y,l=a.z;a=a.w;var f=a*c+h*d-l*b,r=a*b+l*c-g*d,t=a*d+g*b-h*c,c=-g*c-h*b-l*d;this.x=f*a+c*-g+r*-l-t*-h;this.y=r*a+c*-h+t*-g-f*-l;this.z=t*a+c*-l+f*-h-r*-g;return this},project:function(){var a;return function(c){void 0===a&&(a=new b.Matrix4);a.multiplyMatrices(c.projectionMatrix,a.getInverse(c.matrixWorld));return this.applyProjection(a)}}(),unproject:function(){var a;return function(c){void 0===
a&&(a=new b.Matrix4);a.multiplyMatrices(c.matrixWorld,a.getInverse(c.projectionMatrix));return this.applyProjection(a)}}(),transformDirection:function(a){var c=this.x,b=this.y,d=this.z;a=a.elements;this.x=a[0]*c+a[4]*b+a[8]*d;this.y=a[1]*c+a[5]*b+a[9]*d;this.z=a[2]*c+a[6]*b+a[10]*d;return this.normalize()},divide:function(a){this.x/=a.x;this.y/=a.y;this.z/=a.z;return this},divideScalar:function(a){return this.multiplyScalar(1/a)},min:function(a){this.x=Math.min(this.x,a.x);this.y=Math.min(this.y,
a.y);this.z=Math.min(this.z,a.z);return this},max:function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);this.z=Math.max(this.z,a.z);return this},clamp:function(a,c){this.x=Math.max(a.x,Math.min(c.x,this.x));this.y=Math.max(a.y,Math.min(c.y,this.y));this.z=Math.max(a.z,Math.min(c.z,this.z));return this},clampScalar:function(){var a,c;return function(e,d){void 0===a&&(a=new b.Vector3,c=new b.Vector3);a.set(e,e,e);c.set(d,d,d);return this.clamp(a,c)}}(),clampLength:function(a,c){var b=
this.length();return this.multiplyScalar(Math.max(a,Math.min(c,b))/b)},floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);return this},roundToZero:function(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):
Math.floor(this.y);this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z);return this},negate:function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;return this},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},
setLength:function(a){return this.multiplyScalar(a/this.length())},lerp:function(a,c){this.x+=(a.x-this.x)*c;this.y+=(a.y-this.y)*c;this.z+=(a.z-this.z)*c;return this},lerpVectors:function(a,c,b){return this.subVectors(c,a).multiplyScalar(b).add(a)},cross:function(a,c){if(void 0!==c)return console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(a,c);var b=this.x,d=this.y,g=this.z;this.x=d*a.z-g*a.y;this.y=g*a.x-b*a.z;this.z=b*a.y-
d*a.x;return this},crossVectors:function(a,c){var b=a.x,d=a.y,g=a.z,h=c.x,l=c.y,f=c.z;this.x=d*f-g*l;this.y=g*h-b*f;this.z=b*l-d*h;return this},projectOnVector:function(){var a,c;return function(e){void 0===a&&(a=new b.Vector3);a.copy(e).normalize();c=this.dot(a);return this.copy(a).multiplyScalar(c)}}(),projectOnPlane:function(){var a;return function(c){void 0===a&&(a=new b.Vector3);a.copy(this).projectOnVector(c);return this.sub(a)}}(),reflect:function(){var a;return function(c){void 0===a&&(a=
new b.Vector3);return this.sub(a.copy(c).multiplyScalar(2*this.dot(c)))}}(),angleTo:function(a){a=this.dot(a)/Math.sqrt(this.lengthSq()*a.lengthSq());return Math.acos(b.Math.clamp(a,-1,1))},distanceTo:function(a){return Math.sqrt(this.distanceToSquared(a))},distanceToSquared:function(a){var c=this.x-a.x,b=this.y-a.y;a=this.z-a.z;return c*c+b*b+a*a},setFromSpherical:function(a){var c=Math.sin(a.phi)*a.radius;this.x=c*Math.sin(a.theta);this.y=Math.cos(a.phi)*a.radius;this.z=c*Math.cos(a.theta);return this},
setFromMatrixPosition:function(a){return this.setFromMatrixColumn(a,3)},setFromMatrixScale:function(a){var c=this.setFromMatrixColumn(a,0).length(),b=this.setFromMatrixColumn(a,1).length();a=this.setFromMatrixColumn(a,2).length();this.x=c;this.y=b;this.z=a;return this},setFromMatrixColumn:function(a,c){if("number"===typeof a){console.warn("THREE.Vector3: setFromMatrixColumn now expects ( matrix, index ).");var b=a;a=c;c=b}return this.fromArray(a.elements,4*c)},equals:function(a){return a.x===this.x&&
a.y===this.y&&a.z===this.z},fromArray:function(a,c){void 0===c&&(c=0);this.x=a[c];this.y=a[c+1];this.z=a[c+2];return this},toArray:function(a,c){void 0===a&&(a=[]);void 0===c&&(c=0);a[c]=this.x;a[c+1]=this.y;a[c+2]=this.z;return a},fromAttribute:function(a,c,b){void 0===b&&(b=0);c=c*a.itemSize+b;this.x=a.array[c];this.y=a.array[c+1];this.z=a.array[c+2];return this}};b.Vector4=function(a,c,b,d){this.x=a||0;this.y=c||0;this.z=b||0;this.w=void 0!==d?d:1};b.Vector4.prototype={constructor:b.Vector4,set:function(a,
c,b,d){this.x=a;this.y=c;this.z=b;this.w=d;return this},setScalar:function(a){this.w=this.z=this.y=this.x=a;return this},setX:function(a){this.x=a;return this},setY:function(a){this.y=a;return this},setZ:function(a){this.z=a;return this},setW:function(a){this.w=a;return this},setComponent:function(a,c){switch(a){case 0:this.x=c;break;case 1:this.y=c;break;case 2:this.z=c;break;case 3:this.w=c;break;default:throw Error("index is out of range: "+a);}},getComponent:function(a){switch(a){case 0:return this.x;
case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw Error("index is out of range: "+a);}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(a){this.x=a.x;this.y=a.y;this.z=a.z;this.w=void 0!==a.w?a.w:1;return this},add:function(a,c){if(void 0!==c)return console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(a,c);this.x+=a.x;this.y+=a.y;this.z+=a.z;this.w+=a.w;return this},
addScalar:function(a){this.x+=a;this.y+=a;this.z+=a;this.w+=a;return this},addVectors:function(a,c){this.x=a.x+c.x;this.y=a.y+c.y;this.z=a.z+c.z;this.w=a.w+c.w;return this},addScaledVector:function(a,c){this.x+=a.x*c;this.y+=a.y*c;this.z+=a.z*c;this.w+=a.w*c;return this},sub:function(a,c){if(void 0!==c)return console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(a,c);this.x-=a.x;this.y-=a.y;this.z-=a.z;this.w-=a.w;return this},subScalar:function(a){this.x-=
a;this.y-=a;this.z-=a;this.w-=a;return this},subVectors:function(a,c){this.x=a.x-c.x;this.y=a.y-c.y;this.z=a.z-c.z;this.w=a.w-c.w;return this},multiplyScalar:function(a){isFinite(a)?(this.x*=a,this.y*=a,this.z*=a,this.w*=a):this.w=this.z=this.y=this.x=0;return this},applyMatrix4:function(a){var c=this.x,b=this.y,d=this.z,g=this.w;a=a.elements;this.x=a[0]*c+a[4]*b+a[8]*d+a[12]*g;this.y=a[1]*c+a[5]*b+a[9]*d+a[13]*g;this.z=a[2]*c+a[6]*b+a[10]*d+a[14]*g;this.w=a[3]*c+a[7]*b+a[11]*d+a[15]*g;return this},
divideScalar:function(a){return this.multiplyScalar(1/a)},setAxisAngleFromQuaternion:function(a){this.w=2*Math.acos(a.w);var c=Math.sqrt(1-a.w*a.w);1E-4>c?(this.x=1,this.z=this.y=0):(this.x=a.x/c,this.y=a.y/c,this.z=a.z/c);return this},setAxisAngleFromRotationMatrix:function(a){var c,b,d;a=a.elements;var g=a[0];d=a[4];var h=a[8],l=a[1],f=a[5],r=a[9];b=a[2];c=a[6];var t=a[10];if(.01>Math.abs(d-l)&&.01>Math.abs(h-b)&&.01>Math.abs(r-c)){if(.1>Math.abs(d+l)&&.1>Math.abs(h+b)&&.1>Math.abs(r+c)&&.1>Math.abs(g+
f+t-3))return this.set(1,0,0,0),this;a=Math.PI;g=(g+1)/2;f=(f+1)/2;t=(t+1)/2;d=(d+l)/4;h=(h+b)/4;r=(r+c)/4;g>f&&g>t?.01>g?(c=0,d=b=.707106781):(c=Math.sqrt(g),b=d/c,d=h/c):f>t?.01>f?(c=.707106781,b=0,d=.707106781):(b=Math.sqrt(f),c=d/b,d=r/b):.01>t?(b=c=.707106781,d=0):(d=Math.sqrt(t),c=h/d,b=r/d);this.set(c,b,d,a);return this}a=Math.sqrt((c-r)*(c-r)+(h-b)*(h-b)+(l-d)*(l-d));.001>Math.abs(a)&&(a=1);this.x=(c-r)/a;this.y=(h-b)/a;this.z=(l-d)/a;this.w=Math.acos((g+f+t-1)/2);return this},min:function(a){this.x=
Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);this.z=Math.min(this.z,a.z);this.w=Math.min(this.w,a.w);return this},max:function(a){this.x=Math.max(this.x,a.x);this.y=Math.max(this.y,a.y);this.z=Math.max(this.z,a.z);this.w=Math.max(this.w,a.w);return this},clamp:function(a,c){this.x=Math.max(a.x,Math.min(c.x,this.x));this.y=Math.max(a.y,Math.min(c.y,this.y));this.z=Math.max(a.z,Math.min(c.z,this.z));this.w=Math.max(a.w,Math.min(c.w,this.w));return this},clampScalar:function(){var a,c;return function(e,
d){void 0===a&&(a=new b.Vector4,c=new b.Vector4);a.set(e,e,e,e);c.set(d,d,d,d);return this.clamp(a,c)}}(),floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);this.z=Math.floor(this.z);this.w=Math.floor(this.w);return this},ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);this.z=Math.ceil(this.z);this.w=Math.ceil(this.w);return this},round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.z=Math.round(this.z);this.w=Math.round(this.w);return this},
roundToZero:function(){this.x=0>this.x?Math.ceil(this.x):Math.floor(this.x);this.y=0>this.y?Math.ceil(this.y):Math.floor(this.y);this.z=0>this.z?Math.ceil(this.z):Math.floor(this.z);this.w=0>this.w?Math.ceil(this.w):Math.floor(this.w);return this},negate:function(){this.x=-this.x;this.y=-this.y;this.z=-this.z;this.w=-this.w;return this},dot:function(a){return this.x*a.x+this.y*a.y+this.z*a.z+this.w*a.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*
this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},setLength:function(a){return this.multiplyScalar(a/this.length())},lerp:function(a,c){this.x+=(a.x-this.x)*c;this.y+=(a.y-this.y)*c;this.z+=(a.z-this.z)*c;this.w+=(a.w-this.w)*c;return this},lerpVectors:function(a,c,b){return this.subVectors(c,a).multiplyScalar(b).add(a)},equals:function(a){return a.x===
this.x&&a.y===this.y&&a.z===this.z&&a.w===this.w},fromArray:function(a,c){void 0===c&&(c=0);this.x=a[c];this.y=a[c+1];this.z=a[c+2];this.w=a[c+3];return this},toArray:function(a,c){void 0===a&&(a=[]);void 0===c&&(c=0);a[c]=this.x;a[c+1]=this.y;a[c+2]=this.z;a[c+3]=this.w;return a},fromAttribute:function(a,c,b){void 0===b&&(b=0);c=c*a.itemSize+b;this.x=a.array[c];this.y=a.array[c+1];this.z=a.array[c+2];this.w=a.array[c+3];return this}};b.Euler=function(a,c,e,d){this._x=a||0;this._y=c||0;this._z=e||
0;this._order=d||b.Euler.DefaultOrder};b.Euler.RotationOrders="XYZ YZX ZXY XZY YXZ ZYX".split(" ");b.Euler.DefaultOrder="XYZ";b.Euler.prototype={constructor:b.Euler,get x(){return this._x},set x(a){this._x=a;this.onChangeCallback()},get y(){return this._y},set y(a){this._y=a;this.onChangeCallback()},get z(){return this._z},set z(a){this._z=a;this.onChangeCallback()},get order(){return this._order},set order(a){this._order=a;this.onChangeCallback()},set:function(a,c,b,d){this._x=a;this._y=c;this._z=
b;this._order=d||this._order;this.onChangeCallback();return this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(a){this._x=a._x;this._y=a._y;this._z=a._z;this._order=a._order;this.onChangeCallback();return this},setFromRotationMatrix:function(a,c,e){var d=b.Math.clamp,g=a.elements;a=g[0];var h=g[4],l=g[8],f=g[1],r=g[5],t=g[9],w=g[2],u=g[6],g=g[10];c=c||this._order;"XYZ"===c?(this._y=Math.asin(d(l,-1,1)),.99999>Math.abs(l)?(this._x=Math.atan2(-t,g),
this._z=Math.atan2(-h,a)):(this._x=Math.atan2(u,r),this._z=0)):"YXZ"===c?(this._x=Math.asin(-d(t,-1,1)),.99999>Math.abs(t)?(this._y=Math.atan2(l,g),this._z=Math.atan2(f,r)):(this._y=Math.atan2(-w,a),this._z=0)):"ZXY"===c?(this._x=Math.asin(d(u,-1,1)),.99999>Math.abs(u)?(this._y=Math.atan2(-w,g),this._z=Math.atan2(-h,r)):(this._y=0,this._z=Math.atan2(f,a))):"ZYX"===c?(this._y=Math.asin(-d(w,-1,1)),.99999>Math.abs(w)?(this._x=Math.atan2(u,g),this._z=Math.atan2(f,a)):(this._x=0,this._z=Math.atan2(-h,
r))):"YZX"===c?(this._z=Math.asin(d(f,-1,1)),.99999>Math.abs(f)?(this._x=Math.atan2(-t,r),this._y=Math.atan2(-w,a)):(this._x=0,this._y=Math.atan2(l,g))):"XZY"===c?(this._z=Math.asin(-d(h,-1,1)),.99999>Math.abs(h)?(this._x=Math.atan2(u,r),this._y=Math.atan2(l,a)):(this._x=Math.atan2(-t,g),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+c);this._order=c;if(!1!==e)this.onChangeCallback();return this},setFromQuaternion:function(){var a;return function(c,e,d){void 0===
a&&(a=new b.Matrix4);a.makeRotationFromQuaternion(c);return this.setFromRotationMatrix(a,e,d)}}(),setFromVector3:function(a,c){return this.set(a.x,a.y,a.z,c||this._order)},reorder:function(){var a=new b.Quaternion;return function(c){a.setFromEuler(this);return this.setFromQuaternion(a,c)}}(),equals:function(a){return a._x===this._x&&a._y===this._y&&a._z===this._z&&a._order===this._order},fromArray:function(a){this._x=a[0];this._y=a[1];this._z=a[2];void 0!==a[3]&&(this._order=a[3]);this.onChangeCallback();
return this},toArray:function(a,c){void 0===a&&(a=[]);void 0===c&&(c=0);a[c]=this._x;a[c+1]=this._y;a[c+2]=this._z;a[c+3]=this._order;return a},toVector3:function(a){return a?a.set(this._x,this._y,this._z):new b.Vector3(this._x,this._y,this._z)},onChange:function(a){this.onChangeCallback=a;return this},onChangeCallback:function(){}};b.Line3=function(a,c){this.start=void 0!==a?a:new b.Vector3;this.end=void 0!==c?c:new b.Vector3};b.Line3.prototype={constructor:b.Line3,set:function(a,c){this.start.copy(a);
this.end.copy(c);return this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.start.copy(a.start);this.end.copy(a.end);return this},center:function(a){return(a||new b.Vector3).addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(a){return(a||new b.Vector3).subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(a,c){var e=c||new b.Vector3;
return this.delta(e).multiplyScalar(a).add(this.start)},closestPointToPointParameter:function(){var a=new b.Vector3,c=new b.Vector3;return function(e,d){a.subVectors(e,this.start);c.subVectors(this.end,this.start);var g=c.dot(c),g=c.dot(a)/g;d&&(g=b.Math.clamp(g,0,1));return g}}(),closestPointToPoint:function(a,c,e){a=this.closestPointToPointParameter(a,c);e=e||new b.Vector3;return this.delta(e).multiplyScalar(a).add(this.start)},applyMatrix4:function(a){this.start.applyMatrix4(a);this.end.applyMatrix4(a);
return this},equals:function(a){return a.start.equals(this.start)&&a.end.equals(this.end)}};b.Box2=function(a,c){this.min=void 0!==a?a:new b.Vector2(Infinity,Infinity);this.max=void 0!==c?c:new b.Vector2(-Infinity,-Infinity)};b.Box2.prototype={constructor:b.Box2,set:function(a,c){this.min.copy(a);this.max.copy(c);return this},setFromPoints:function(a){this.makeEmpty();for(var c=0,b=a.length;c<b;c++)this.expandByPoint(a[c]);return this},setFromCenterAndSize:function(){var a=new b.Vector2;return function(c,
b){var d=a.copy(b).multiplyScalar(.5);this.min.copy(c).sub(d);this.max.copy(c).add(d);return this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.min.copy(a.min);this.max.copy(a.max);return this},makeEmpty:function(){this.min.x=this.min.y=Infinity;this.max.x=this.max.y=-Infinity;return this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},center:function(a){return(a||new b.Vector2).addVectors(this.min,this.max).multiplyScalar(.5)},size:function(a){return(a||
new b.Vector2).subVectors(this.max,this.min)},expandByPoint:function(a){this.min.min(a);this.max.max(a);return this},expandByVector:function(a){this.min.sub(a);this.max.add(a);return this},expandByScalar:function(a){this.min.addScalar(-a);this.max.addScalar(a);return this},containsPoint:function(a){return a.x<this.min.x||a.x>this.max.x||a.y<this.min.y||a.y>this.max.y?!1:!0},containsBox:function(a){return this.min.x<=a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=this.max.y?!0:!1},getParameter:function(a,
c){return(c||new b.Vector2).set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(a){return a.max.x<this.min.x||a.min.x>this.max.x||a.max.y<this.min.y||a.min.y>this.max.y?!1:!0},clampPoint:function(a,c){return(c||new b.Vector2).copy(a).clamp(this.min,this.max)},distanceToPoint:function(){var a=new b.Vector2;return function(c){return a.copy(c).clamp(this.min,this.max).sub(c).length()}}(),intersect:function(a){this.min.max(a.min);this.max.min(a.max);
return this},union:function(a){this.min.min(a.min);this.max.max(a.max);return this},translate:function(a){this.min.add(a);this.max.add(a);return this},equals:function(a){return a.min.equals(this.min)&&a.max.equals(this.max)}};b.Box3=function(a,c){this.min=void 0!==a?a:new b.Vector3(Infinity,Infinity,Infinity);this.max=void 0!==c?c:new b.Vector3(-Infinity,-Infinity,-Infinity)};b.Box3.prototype={constructor:b.Box3,set:function(a,c){this.min.copy(a);this.max.copy(c);return this},setFromArray:function(a){for(var c=
Infinity,b=Infinity,d=Infinity,g=-Infinity,h=-Infinity,l=-Infinity,f=0,r=a.length;f<r;f+=3){var t=a[f],w=a[f+1],u=a[f+2];t<c&&(c=t);w<b&&(b=w);u<d&&(d=u);t>g&&(g=t);w>h&&(h=w);u>l&&(l=u)}this.min.set(c,b,d);this.max.set(g,h,l)},setFromPoints:function(a){this.makeEmpty();for(var c=0,b=a.length;c<b;c++)this.expandByPoint(a[c]);return this},setFromCenterAndSize:function(){var a=new b.Vector3;return function(c,b){var d=a.copy(b).multiplyScalar(.5);this.min.copy(c).sub(d);this.max.copy(c).add(d);return this}}(),
setFromObject:function(){var a=new b.Vector3;return function(c){var e=this;c.updateMatrixWorld(!0);this.makeEmpty();c.traverse(function(c){var g=c.geometry;if(void 0!==g)if(g instanceof b.Geometry)for(var h=g.vertices,g=0,l=h.length;g<l;g++)a.copy(h[g]),a.applyMatrix4(c.matrixWorld),e.expandByPoint(a);else if(g instanceof b.BufferGeometry&&void 0!==g.attributes.position)for(h=g.attributes.position.array,g=0,l=h.length;g<l;g+=3)a.fromArray(h,g),a.applyMatrix4(c.matrixWorld),e.expandByPoint(a)});return this}}(),
clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.min.copy(a.min);this.max.copy(a.max);return this},makeEmpty:function(){this.min.x=this.min.y=this.min.z=Infinity;this.max.x=this.max.y=this.max.z=-Infinity;return this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},center:function(a){return(a||new b.Vector3).addVectors(this.min,this.max).multiplyScalar(.5)},size:function(a){return(a||new b.Vector3).subVectors(this.max,this.min)},
expandByPoint:function(a){this.min.min(a);this.max.max(a);return this},expandByVector:function(a){this.min.sub(a);this.max.add(a);return this},expandByScalar:function(a){this.min.addScalar(-a);this.max.addScalar(a);return this},containsPoint:function(a){return a.x<this.min.x||a.x>this.max.x||a.y<this.min.y||a.y>this.max.y||a.z<this.min.z||a.z>this.max.z?!1:!0},containsBox:function(a){return this.min.x<=a.min.x&&a.max.x<=this.max.x&&this.min.y<=a.min.y&&a.max.y<=this.max.y&&this.min.z<=a.min.z&&a.max.z<=
this.max.z?!0:!1},getParameter:function(a,c){return(c||new b.Vector3).set((a.x-this.min.x)/(this.max.x-this.min.x),(a.y-this.min.y)/(this.max.y-this.min.y),(a.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(a){return a.max.x<this.min.x||a.min.x>this.max.x||a.max.y<this.min.y||a.min.y>this.max.y||a.max.z<this.min.z||a.min.z>this.max.z?!1:!0},intersectsSphere:function(){var a;return function(c){void 0===a&&(a=new b.Vector3);this.clampPoint(c.center,a);return a.distanceToSquared(c.center)<=
c.radius*c.radius}}(),intersectsPlane:function(a){var c,b;0<a.normal.x?(c=a.normal.x*this.min.x,b=a.normal.x*this.max.x):(c=a.normal.x*this.max.x,b=a.normal.x*this.min.x);0<a.normal.y?(c+=a.normal.y*this.min.y,b+=a.normal.y*this.max.y):(c+=a.normal.y*this.max.y,b+=a.normal.y*this.min.y);0<a.normal.z?(c+=a.normal.z*this.min.z,b+=a.normal.z*this.max.z):(c+=a.normal.z*this.max.z,b+=a.normal.z*this.min.z);return c<=a.constant&&b>=a.constant},clampPoint:function(a,c){return(c||new b.Vector3).copy(a).clamp(this.min,
this.max)},distanceToPoint:function(){var a=new b.Vector3;return function(c){return a.copy(c).clamp(this.min,this.max).sub(c).length()}}(),getBoundingSphere:function(){var a=new b.Vector3;return function(c){c=c||new b.Sphere;c.center=this.center();c.radius=.5*this.size(a).length();return c}}(),intersect:function(a){this.min.max(a.min);this.max.min(a.max);this.isEmpty()&&this.makeEmpty();return this},union:function(a){this.min.min(a.min);this.max.max(a.max);return this},applyMatrix4:function(){var a=
[new b.Vector3,new b.Vector3,new b.Vector3,new b.Vector3,new b.Vector3,new b.Vector3,new b.Vector3,new b.Vector3];return function(c){if(this.isEmpty())return this;a[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(c);a[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(c);a[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(c);a[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(c);a[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(c);a[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(c);
a[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(c);a[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(c);this.setFromPoints(a);return this}}(),translate:function(a){this.min.add(a);this.max.add(a);return this},equals:function(a){return a.min.equals(this.min)&&a.max.equals(this.max)}};b.Matrix3=function(){this.elements=new Float32Array([1,0,0,0,1,0,0,0,1]);0<arguments.length&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")};b.Matrix3.prototype=
{constructor:b.Matrix3,set:function(a,c,b,d,g,h,l,f,r){var t=this.elements;t[0]=a;t[1]=d;t[2]=l;t[3]=c;t[4]=g;t[5]=f;t[6]=b;t[7]=h;t[8]=r;return this},identity:function(){this.set(1,0,0,0,1,0,0,0,1);return this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(a){a=a.elements;this.set(a[0],a[3],a[6],a[1],a[4],a[7],a[2],a[5],a[8]);return this},setFromMatrix4:function(a){a=a.elements;this.set(a[0],a[4],a[8],a[1],a[5],a[9],a[2],a[6],a[10]);return this},applyToVector3Array:function(){var a;
return function(c,e,d){void 0===a&&(a=new b.Vector3);void 0===e&&(e=0);void 0===d&&(d=c.length);for(var g=0;g<d;g+=3,e+=3)a.fromArray(c,e),a.applyMatrix3(this),a.toArray(c,e);return c}}(),applyToBuffer:function(){var a;return function(c,e,d){void 0===a&&(a=new b.Vector3);void 0===e&&(e=0);void 0===d&&(d=c.length/c.itemSize);for(var g=0;g<d;g++,e++)a.x=c.getX(e),a.y=c.getY(e),a.z=c.getZ(e),a.applyMatrix3(this),c.setXYZ(a.x,a.y,a.z);return c}}(),multiplyScalar:function(a){var c=this.elements;c[0]*=
a;c[3]*=a;c[6]*=a;c[1]*=a;c[4]*=a;c[7]*=a;c[2]*=a;c[5]*=a;c[8]*=a;return this},determinant:function(){var a=this.elements,c=a[0],b=a[1],d=a[2],g=a[3],h=a[4],l=a[5],f=a[6],r=a[7],a=a[8];return c*h*a-c*l*r-b*g*a+b*l*f+d*g*r-d*h*f},getInverse:function(a,c){a instanceof b.Matrix4&&console.error("THREE.Matrix3.getInverse no longer takes a Matrix4 argument.");var e=a.elements,d=this.elements,g=e[0],h=e[1],l=e[2],f=e[3],r=e[4],t=e[5],w=e[6],u=e[7],e=e[8],q=e*r-t*u,v=t*w-e*f,k=u*f-r*w,p=g*q+h*v+l*k;if(0===
p){if(c)throw Error("THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0");console.warn("THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0");return this.identity()}p=1/p;d[0]=q*p;d[1]=(l*u-e*h)*p;d[2]=(t*h-l*r)*p;d[3]=v*p;d[4]=(e*g-l*w)*p;d[5]=(l*f-t*g)*p;d[6]=k*p;d[7]=(h*w-u*g)*p;d[8]=(r*g-h*f)*p;return this},transpose:function(){var a,c=this.elements;a=c[1];c[1]=c[3];c[3]=a;a=c[2];c[2]=c[6];c[6]=a;a=c[5];c[5]=c[7];c[7]=a;return this},flattenToArrayOffset:function(a,
c){console.warn("THREE.Matrix3: .flattenToArrayOffset is deprecated - just use .toArray instead.");return this.toArray(a,c)},getNormalMatrix:function(a){return this.setFromMatrix4(a).getInverse(this).transpose()},transposeIntoArray:function(a){var c=this.elements;a[0]=c[0];a[1]=c[3];a[2]=c[6];a[3]=c[1];a[4]=c[4];a[5]=c[7];a[6]=c[2];a[7]=c[5];a[8]=c[8];return this},fromArray:function(a){this.elements.set(a);return this},toArray:function(a,c){void 0===a&&(a=[]);void 0===c&&(c=0);var b=this.elements;
a[c]=b[0];a[c+1]=b[1];a[c+2]=b[2];a[c+3]=b[3];a[c+4]=b[4];a[c+5]=b[5];a[c+6]=b[6];a[c+7]=b[7];a[c+8]=b[8];return a}};b.Matrix4=function(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);0<arguments.length&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")};b.Matrix4.prototype={constructor:b.Matrix4,set:function(a,c,b,d,g,h,l,f,r,t,w,u,q,v,k,p){var n=this.elements;n[0]=a;n[4]=c;n[8]=b;n[12]=d;n[1]=g;n[5]=h;n[9]=l;n[13]=f;n[2]=r;n[6]=t;
n[10]=w;n[14]=u;n[3]=q;n[7]=v;n[11]=k;n[15]=p;return this},identity:function(){this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return this},clone:function(){return(new b.Matrix4).fromArray(this.elements)},copy:function(a){this.elements.set(a.elements);return this},copyPosition:function(a){var c=this.elements;a=a.elements;c[12]=a[12];c[13]=a[13];c[14]=a[14];return this},extractBasis:function(a,c,b){a.setFromMatrixColumn(this,0);c.setFromMatrixColumn(this,1);b.setFromMatrixColumn(this,2);return this},makeBasis:function(a,
c,b){this.set(a.x,c.x,b.x,0,a.y,c.y,b.y,0,a.z,c.z,b.z,0,0,0,0,1);return this},extractRotation:function(){var a;return function(c){void 0===a&&(a=new b.Vector3);var e=this.elements,d=c.elements,g=1/a.setFromMatrixColumn(c,0).length(),h=1/a.setFromMatrixColumn(c,1).length();c=1/a.setFromMatrixColumn(c,2).length();e[0]=d[0]*g;e[1]=d[1]*g;e[2]=d[2]*g;e[4]=d[4]*h;e[5]=d[5]*h;e[6]=d[6]*h;e[8]=d[8]*c;e[9]=d[9]*c;e[10]=d[10]*c;return this}}(),makeRotationFromEuler:function(a){!1===a instanceof b.Euler&&console.error("THREE.Matrix: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");
var c=this.elements,e=a.x,d=a.y,g=a.z,h=Math.cos(e),e=Math.sin(e),l=Math.cos(d),d=Math.sin(d),f=Math.cos(g),g=Math.sin(g);if("XYZ"===a.order){a=h*f;var r=h*g,t=e*f,w=e*g;c[0]=l*f;c[4]=-l*g;c[8]=d;c[1]=r+t*d;c[5]=a-w*d;c[9]=-e*l;c[2]=w-a*d;c[6]=t+r*d;c[10]=h*l}else"YXZ"===a.order?(a=l*f,r=l*g,t=d*f,w=d*g,c[0]=a+w*e,c[4]=t*e-r,c[8]=h*d,c[1]=h*g,c[5]=h*f,c[9]=-e,c[2]=r*e-t,c[6]=w+a*e,c[10]=h*l):"ZXY"===a.order?(a=l*f,r=l*g,t=d*f,w=d*g,c[0]=a-w*e,c[4]=-h*g,c[8]=t+r*e,c[1]=r+t*e,c[5]=h*f,c[9]=w-a*e,c[2]=
-h*d,c[6]=e,c[10]=h*l):"ZYX"===a.order?(a=h*f,r=h*g,t=e*f,w=e*g,c[0]=l*f,c[4]=t*d-r,c[8]=a*d+w,c[1]=l*g,c[5]=w*d+a,c[9]=r*d-t,c[2]=-d,c[6]=e*l,c[10]=h*l):"YZX"===a.order?(a=h*l,r=h*d,t=e*l,w=e*d,c[0]=l*f,c[4]=w-a*g,c[8]=t*g+r,c[1]=g,c[5]=h*f,c[9]=-e*f,c[2]=-d*f,c[6]=r*g+t,c[10]=a-w*g):"XZY"===a.order&&(a=h*l,r=h*d,t=e*l,w=e*d,c[0]=l*f,c[4]=-g,c[8]=d*f,c[1]=a*g+w,c[5]=h*f,c[9]=r*g-t,c[2]=t*g-r,c[6]=e*f,c[10]=w*g+a);c[3]=0;c[7]=0;c[11]=0;c[12]=0;c[13]=0;c[14]=0;c[15]=1;return this},makeRotationFromQuaternion:function(a){var c=
this.elements,b=a.x,d=a.y,g=a.z,h=a.w,l=b+b,f=d+d,r=g+g;a=b*l;var t=b*f,b=b*r,w=d*f,d=d*r,g=g*r,l=h*l,f=h*f,h=h*r;c[0]=1-(w+g);c[4]=t-h;c[8]=b+f;c[1]=t+h;c[5]=1-(a+g);c[9]=d-l;c[2]=b-f;c[6]=d+l;c[10]=1-(a+w);c[3]=0;c[7]=0;c[11]=0;c[12]=0;c[13]=0;c[14]=0;c[15]=1;return this},lookAt:function(){var a,c,e;return function(d,g,h){void 0===a&&(a=new b.Vector3,c=new b.Vector3,e=new b.Vector3);var l=this.elements;e.subVectors(d,g).normalize();0===e.lengthSq()&&(e.z=1);a.crossVectors(h,e).normalize();0===a.lengthSq()&&
(e.z+=1E-4,a.crossVectors(h,e).normalize());c.crossVectors(e,a);l[0]=a.x;l[4]=c.x;l[8]=e.x;l[1]=a.y;l[5]=c.y;l[9]=e.y;l[2]=a.z;l[6]=c.z;l[10]=e.z;return this}}(),multiply:function(a,c){return void 0!==c?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(a,c)):this.multiplyMatrices(this,a)},premultiply:function(a){return this.multiplyMatrices(a,this)},multiplyMatrices:function(a,c){var b=a.elements,d=c.elements,g=
this.elements,h=b[0],l=b[4],f=b[8],r=b[12],t=b[1],w=b[5],u=b[9],q=b[13],v=b[2],k=b[6],p=b[10],n=b[14],A=b[3],C=b[7],G=b[11],b=b[15],D=d[0],H=d[4],E=d[8],F=d[12],I=d[1],O=d[5],J=d[9],K=d[13],T=d[2],U=d[6],S=d[10],L=d[14],P=d[3],Q=d[7],M=d[11],d=d[15];g[0]=h*D+l*I+f*T+r*P;g[4]=h*H+l*O+f*U+r*Q;g[8]=h*E+l*J+f*S+r*M;g[12]=h*F+l*K+f*L+r*d;g[1]=t*D+w*I+u*T+q*P;g[5]=t*H+w*O+u*U+q*Q;g[9]=t*E+w*J+u*S+q*M;g[13]=t*F+w*K+u*L+q*d;g[2]=v*D+k*I+p*T+n*P;g[6]=v*H+k*O+p*U+n*Q;g[10]=v*E+k*J+p*S+n*M;g[14]=v*F+k*K+p*L+
n*d;g[3]=A*D+C*I+G*T+b*P;g[7]=A*H+C*O+G*U+b*Q;g[11]=A*E+C*J+G*S+b*M;g[15]=A*F+C*K+G*L+b*d;return this},multiplyToArray:function(a,c,b){var d=this.elements;this.multiplyMatrices(a,c);b[0]=d[0];b[1]=d[1];b[2]=d[2];b[3]=d[3];b[4]=d[4];b[5]=d[5];b[6]=d[6];b[7]=d[7];b[8]=d[8];b[9]=d[9];b[10]=d[10];b[11]=d[11];b[12]=d[12];b[13]=d[13];b[14]=d[14];b[15]=d[15];return this},multiplyScalar:function(a){var c=this.elements;c[0]*=a;c[4]*=a;c[8]*=a;c[12]*=a;c[1]*=a;c[5]*=a;c[9]*=a;c[13]*=a;c[2]*=a;c[6]*=a;c[10]*=
a;c[14]*=a;c[3]*=a;c[7]*=a;c[11]*=a;c[15]*=a;return this},applyToVector3Array:function(){var a;return function(c,e,d){void 0===a&&(a=new b.Vector3);void 0===e&&(e=0);void 0===d&&(d=c.length);for(var g=0;g<d;g+=3,e+=3)a.fromArray(c,e),a.applyMatrix4(this),a.toArray(c,e);return c}}(),applyToBuffer:function(){var a;return function(c,e,d){void 0===a&&(a=new b.Vector3);void 0===e&&(e=0);void 0===d&&(d=c.length/c.itemSize);for(var g=0;g<d;g++,e++)a.x=c.getX(e),a.y=c.getY(e),a.z=c.getZ(e),a.applyMatrix4(this),
c.setXYZ(a.x,a.y,a.z);return c}}(),determinant:function(){var a=this.elements,c=a[0],b=a[4],d=a[8],g=a[12],h=a[1],l=a[5],f=a[9],r=a[13],t=a[2],w=a[6],u=a[10],q=a[14];return a[3]*(+g*f*w-d*r*w-g*l*u+b*r*u+d*l*q-b*f*q)+a[7]*(+c*f*q-c*r*u+g*h*u-d*h*q+d*r*t-g*f*t)+a[11]*(+c*r*w-c*l*q-g*h*w+b*h*q+g*l*t-b*r*t)+a[15]*(-d*l*t-c*f*w+c*l*u+d*h*w-b*h*u+b*f*t)},transpose:function(){var a=this.elements,c;c=a[1];a[1]=a[4];a[4]=c;c=a[2];a[2]=a[8];a[8]=c;c=a[6];a[6]=a[9];a[9]=c;c=a[3];a[3]=a[12];a[12]=c;c=a[7];a[7]=
a[13];a[13]=c;c=a[11];a[11]=a[14];a[14]=c;return this},flattenToArrayOffset:function(a,c){console.warn("THREE.Matrix3: .flattenToArrayOffset is deprecated - just use .toArray instead.");return this.toArray(a,c)},getPosition:function(){var a;return function(){void 0===a&&(a=new b.Vector3);console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.");return a.setFromMatrixColumn(this,3)}}(),setPosition:function(a){var c=this.elements;c[12]=a.x;
c[13]=a.y;c[14]=a.z;return this},getInverse:function(a,c){var b=this.elements,d=a.elements,g=d[0],h=d[1],l=d[2],f=d[3],r=d[4],t=d[5],w=d[6],u=d[7],q=d[8],k=d[9],x=d[10],p=d[11],n=d[12],A=d[13],C=d[14],d=d[15],G=k*C*u-A*x*u+A*w*p-t*C*p-k*w*d+t*x*d,D=n*x*u-q*C*u-n*w*p+r*C*p+q*w*d-r*x*d,H=q*A*u-n*k*u+n*t*p-r*A*p-q*t*d+r*k*d,E=n*k*w-q*A*w-n*t*x+r*A*x+q*t*C-r*k*C,F=g*G+h*D+l*H+f*E;if(0===F){if(c)throw Error("THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0");console.warn("THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0");
return this.identity()}F=1/F;b[0]=G*F;b[1]=(A*x*f-k*C*f-A*l*p+h*C*p+k*l*d-h*x*d)*F;b[2]=(t*C*f-A*w*f+A*l*u-h*C*u-t*l*d+h*w*d)*F;b[3]=(k*w*f-t*x*f-k*l*u+h*x*u+t*l*p-h*w*p)*F;b[4]=D*F;b[5]=(q*C*f-n*x*f+n*l*p-g*C*p-q*l*d+g*x*d)*F;b[6]=(n*w*f-r*C*f-n*l*u+g*C*u+r*l*d-g*w*d)*F;b[7]=(r*x*f-q*w*f+q*l*u-g*x*u-r*l*p+g*w*p)*F;b[8]=H*F;b[9]=(n*k*f-q*A*f-n*h*p+g*A*p+q*h*d-g*k*d)*F;b[10]=(r*A*f-n*t*f+n*h*u-g*A*u-r*h*d+g*t*d)*F;b[11]=(q*t*f-r*k*f-q*h*u+g*k*u+r*h*p-g*t*p)*F;b[12]=E*F;b[13]=(q*A*l-n*k*l+n*h*x-g*A*
x-q*h*C+g*k*C)*F;b[14]=(n*t*l-r*A*l-n*h*w+g*A*w+r*h*C-g*t*C)*F;b[15]=(r*k*l-q*t*l+q*h*w-g*k*w-r*h*x+g*t*x)*F;return this},scale:function(a){var c=this.elements,b=a.x,d=a.y;a=a.z;c[0]*=b;c[4]*=d;c[8]*=a;c[1]*=b;c[5]*=d;c[9]*=a;c[2]*=b;c[6]*=d;c[10]*=a;c[3]*=b;c[7]*=d;c[11]*=a;return this},getMaxScaleOnAxis:function(){var a=this.elements;return Math.sqrt(Math.max(a[0]*a[0]+a[1]*a[1]+a[2]*a[2],a[4]*a[4]+a[5]*a[5]+a[6]*a[6],a[8]*a[8]+a[9]*a[9]+a[10]*a[10]))},makeTranslation:function(a,c,b){this.set(1,
0,0,a,0,1,0,c,0,0,1,b,0,0,0,1);return this},makeRotationX:function(a){var c=Math.cos(a);a=Math.sin(a);this.set(1,0,0,0,0,c,-a,0,0,a,c,0,0,0,0,1);return this},makeRotationY:function(a){var c=Math.cos(a);a=Math.sin(a);this.set(c,0,a,0,0,1,0,0,-a,0,c,0,0,0,0,1);return this},makeRotationZ:function(a){var c=Math.cos(a);a=Math.sin(a);this.set(c,-a,0,0,a,c,0,0,0,0,1,0,0,0,0,1);return this},makeRotationAxis:function(a,c){var b=Math.cos(c),d=Math.sin(c),g=1-b,h=a.x,l=a.y,f=a.z,r=g*h,t=g*l;this.set(r*h+b,r*
l-d*f,r*f+d*l,0,r*l+d*f,t*l+b,t*f-d*h,0,r*f-d*l,t*f+d*h,g*f*f+b,0,0,0,0,1);return this},makeScale:function(a,c,b){this.set(a,0,0,0,0,c,0,0,0,0,b,0,0,0,0,1);return this},compose:function(a,c,b){this.makeRotationFromQuaternion(c);this.scale(b);this.setPosition(a);return this},decompose:function(){var a,c;return function(e,d,g){void 0===a&&(a=new b.Vector3,c=new b.Matrix4);var h=this.elements,l=a.set(h[0],h[1],h[2]).length(),f=a.set(h[4],h[5],h[6]).length(),r=a.set(h[8],h[9],h[10]).length();0>this.determinant()&&
(l=-l);e.x=h[12];e.y=h[13];e.z=h[14];c.elements.set(this.elements);e=1/l;var h=1/f,t=1/r;c.elements[0]*=e;c.elements[1]*=e;c.elements[2]*=e;c.elements[4]*=h;c.elements[5]*=h;c.elements[6]*=h;c.elements[8]*=t;c.elements[9]*=t;c.elements[10]*=t;d.setFromRotationMatrix(c);g.x=l;g.y=f;g.z=r;return this}}(),makeFrustum:function(a,c,b,d,g,h){var l=this.elements;l[0]=2*g/(c-a);l[4]=0;l[8]=(c+a)/(c-a);l[12]=0;l[1]=0;l[5]=2*g/(d-b);l[9]=(d+b)/(d-b);l[13]=0;l[2]=0;l[6]=0;l[10]=-(h+g)/(h-g);l[14]=-2*h*g/(h-
g);l[3]=0;l[7]=0;l[11]=-1;l[15]=0;return this},makePerspective:function(a,c,e,d){a=e*Math.tan(b.Math.DEG2RAD*a*.5);var g=-a;return this.makeFrustum(g*c,a*c,g,a,e,d)},makeOrthographic:function(a,c,b,d,g,h){var l=this.elements,f=1/(c-a),r=1/(b-d),t=1/(h-g);l[0]=2*f;l[4]=0;l[8]=0;l[12]=-((c+a)*f);l[1]=0;l[5]=2*r;l[9]=0;l[13]=-((b+d)*r);l[2]=0;l[6]=0;l[10]=-2*t;l[14]=-((h+g)*t);l[3]=0;l[7]=0;l[11]=0;l[15]=1;return this},equals:function(a){var c=this.elements;a=a.elements;for(var b=0;16>b;b++)if(c[b]!==
a[b])return!1;return!0},fromArray:function(a){this.elements.set(a);return this},toArray:function(a,c){void 0===a&&(a=[]);void 0===c&&(c=0);var b=this.elements;a[c]=b[0];a[c+1]=b[1];a[c+2]=b[2];a[c+3]=b[3];a[c+4]=b[4];a[c+5]=b[5];a[c+6]=b[6];a[c+7]=b[7];a[c+8]=b[8];a[c+9]=b[9];a[c+10]=b[10];a[c+11]=b[11];a[c+12]=b[12];a[c+13]=b[13];a[c+14]=b[14];a[c+15]=b[15];return a}};b.Ray=function(a,c){this.origin=void 0!==a?a:new b.Vector3;this.direction=void 0!==c?c:new b.Vector3};b.Ray.prototype={constructor:b.Ray,
set:function(a,c){this.origin.copy(a);this.direction.copy(c);return this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.origin.copy(a.origin);this.direction.copy(a.direction);return this},at:function(a,c){return(c||new b.Vector3).copy(this.direction).multiplyScalar(a).add(this.origin)},lookAt:function(a){this.direction.copy(a).sub(this.origin).normalize();return this},recast:function(){var a=new b.Vector3;return function(c){this.origin.copy(this.at(c,a));return this}}(),
closestPointToPoint:function(a,c){var e=c||new b.Vector3;e.subVectors(a,this.origin);var d=e.dot(this.direction);return 0>d?e.copy(this.origin):e.copy(this.direction).multiplyScalar(d).add(this.origin)},distanceToPoint:function(a){return Math.sqrt(this.distanceSqToPoint(a))},distanceSqToPoint:function(){var a=new b.Vector3;return function(c){var b=a.subVectors(c,this.origin).dot(this.direction);if(0>b)return this.origin.distanceToSquared(c);a.copy(this.direction).multiplyScalar(b).add(this.origin);
return a.distanceToSquared(c)}}(),distanceSqToSegment:function(){var a=new b.Vector3,c=new b.Vector3,e=new b.Vector3;return function(b,g,h,l){a.copy(b).add(g).multiplyScalar(.5);c.copy(g).sub(b).normalize();e.copy(this.origin).sub(a);var f=.5*b.distanceTo(g),r=-this.direction.dot(c),t=e.dot(this.direction),w=-e.dot(c),k=e.lengthSq(),q=Math.abs(1-r*r),v;0<q?(b=r*w-t,g=r*t-w,v=f*q,0<=b?g>=-v?g<=v?(f=1/q,b*=f,g*=f,r=b*(b+r*g+2*t)+g*(r*b+g+2*w)+k):(g=f,b=Math.max(0,-(r*g+t)),r=-b*b+g*(g+2*w)+k):(g=-f,
b=Math.max(0,-(r*g+t)),r=-b*b+g*(g+2*w)+k):g<=-v?(b=Math.max(0,-(-r*f+t)),g=0<b?-f:Math.min(Math.max(-f,-w),f),r=-b*b+g*(g+2*w)+k):g<=v?(b=0,g=Math.min(Math.max(-f,-w),f),r=g*(g+2*w)+k):(b=Math.max(0,-(r*f+t)),g=0<b?f:Math.min(Math.max(-f,-w),f),r=-b*b+g*(g+2*w)+k)):(g=0<r?-f:f,b=Math.max(0,-(r*g+t)),r=-b*b+g*(g+2*w)+k);h&&h.copy(this.direction).multiplyScalar(b).add(this.origin);l&&l.copy(c).multiplyScalar(g).add(a);return r}}(),intersectSphere:function(){var a=new b.Vector3;return function(c,b){a.subVectors(c.center,
this.origin);var d=a.dot(this.direction),g=a.dot(a)-d*d,h=c.radius*c.radius;if(g>h)return null;h=Math.sqrt(h-g);g=d-h;d+=h;return 0>g&&0>d?null:0>g?this.at(d,b):this.at(g,b)}}(),intersectsSphere:function(a){return this.distanceToPoint(a.center)<=a.radius},distanceToPlane:function(a){var c=a.normal.dot(this.direction);if(0===c)return 0===a.distanceToPoint(this.origin)?0:null;a=-(this.origin.dot(a.normal)+a.constant)/c;return 0<=a?a:null},intersectPlane:function(a,c){var b=this.distanceToPlane(a);return null===
b?null:this.at(b,c)},intersectsPlane:function(a){var c=a.distanceToPoint(this.origin);return 0===c||0>a.normal.dot(this.direction)*c?!0:!1},intersectBox:function(a,c){var b,d,g,h,f;d=1/this.direction.x;h=1/this.direction.y;f=1/this.direction.z;var m=this.origin;0<=d?(b=(a.min.x-m.x)*d,d*=a.max.x-m.x):(b=(a.max.x-m.x)*d,d*=a.min.x-m.x);0<=h?(g=(a.min.y-m.y)*h,h*=a.max.y-m.y):(g=(a.max.y-m.y)*h,h*=a.min.y-m.y);if(b>h||g>d)return null;if(g>b||b!==b)b=g;if(h<d||d!==d)d=h;0<=f?(g=(a.min.z-m.z)*f,f*=a.max.z-
m.z):(g=(a.max.z-m.z)*f,f*=a.min.z-m.z);if(b>f||g>d)return null;if(g>b||b!==b)b=g;if(f<d||d!==d)d=f;return 0>d?null:this.at(0<=b?b:d,c)},intersectsBox:function(){var a=new b.Vector3;return function(c){return null!==this.intersectBox(c,a)}}(),intersectTriangle:function(){var a=new b.Vector3,c=new b.Vector3,e=new b.Vector3,d=new b.Vector3;return function(b,h,f,m,r){c.subVectors(h,b);e.subVectors(f,b);d.crossVectors(c,e);h=this.direction.dot(d);if(0<h){if(m)return null;m=1}else if(0>h)m=-1,h=-h;else return null;
a.subVectors(this.origin,b);b=m*this.direction.dot(e.crossVectors(a,e));if(0>b)return null;f=m*this.direction.dot(c.cross(a));if(0>f||b+f>h)return null;b=-m*a.dot(d);return 0>b?null:this.at(b/h,r)}}(),applyMatrix4:function(a){this.direction.add(this.origin).applyMatrix4(a);this.origin.applyMatrix4(a);this.direction.sub(this.origin);this.direction.normalize();return this},equals:function(a){return a.origin.equals(this.origin)&&a.direction.equals(this.direction)}};b.Sphere=function(a,c){this.center=
void 0!==a?a:new b.Vector3;this.radius=void 0!==c?c:0};b.Sphere.prototype={constructor:b.Sphere,set:function(a,c){this.center.copy(a);this.radius=c;return this},setFromPoints:function(){var a=new b.Box3;return function(c,b){var d=this.center;void 0!==b?d.copy(b):a.setFromPoints(c).center(d);for(var g=0,h=0,f=c.length;h<f;h++)g=Math.max(g,d.distanceToSquared(c[h]));this.radius=Math.sqrt(g);return this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.center.copy(a.center);
this.radius=a.radius;return this},empty:function(){return 0>=this.radius},containsPoint:function(a){return a.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(a){return a.distanceTo(this.center)-this.radius},intersectsSphere:function(a){var c=this.radius+a.radius;return a.center.distanceToSquared(this.center)<=c*c},intersectsBox:function(a){return a.intersectsSphere(this)},intersectsPlane:function(a){return Math.abs(this.center.dot(a.normal)-a.constant)<=this.radius},
clampPoint:function(a,c){var e=this.center.distanceToSquared(a),d=c||new b.Vector3;d.copy(a);e>this.radius*this.radius&&(d.sub(this.center).normalize(),d.multiplyScalar(this.radius).add(this.center));return d},getBoundingBox:function(a){a=a||new b.Box3;a.set(this.center,this.center);a.expandByScalar(this.radius);return a},applyMatrix4:function(a){this.center.applyMatrix4(a);this.radius*=a.getMaxScaleOnAxis();return this},translate:function(a){this.center.add(a);return this},equals:function(a){return a.center.equals(this.center)&&
a.radius===this.radius}};b.Frustum=function(a,c,e,d,g,h){this.planes=[void 0!==a?a:new b.Plane,void 0!==c?c:new b.Plane,void 0!==e?e:new b.Plane,void 0!==d?d:new b.Plane,void 0!==g?g:new b.Plane,void 0!==h?h:new b.Plane]};b.Frustum.prototype={constructor:b.Frustum,set:function(a,c,b,d,g,h){var f=this.planes;f[0].copy(a);f[1].copy(c);f[2].copy(b);f[3].copy(d);f[4].copy(g);f[5].copy(h);return this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){for(var c=this.planes,b=0;6>
b;b++)c[b].copy(a.planes[b]);return this},setFromMatrix:function(a){var c=this.planes,b=a.elements;a=b[0];var d=b[1],g=b[2],h=b[3],f=b[4],m=b[5],r=b[6],t=b[7],w=b[8],k=b[9],q=b[10],v=b[11],x=b[12],p=b[13],n=b[14],b=b[15];c[0].setComponents(h-a,t-f,v-w,b-x).normalize();c[1].setComponents(h+a,t+f,v+w,b+x).normalize();c[2].setComponents(h+d,t+m,v+k,b+p).normalize();c[3].setComponents(h-d,t-m,v-k,b-p).normalize();c[4].setComponents(h-g,t-r,v-q,b-n).normalize();c[5].setComponents(h+g,t+r,v+q,b+n).normalize();
return this},intersectsObject:function(){var a=new b.Sphere;return function(c){var b=c.geometry;null===b.boundingSphere&&b.computeBoundingSphere();a.copy(b.boundingSphere).applyMatrix4(c.matrixWorld);return this.intersectsSphere(a)}}(),intersectsSprite:function(){var a=new b.Sphere;return function(c){a.center.set(0,0,0);a.radius=.7071067811865476;a.applyMatrix4(c.matrixWorld);return this.intersectsSphere(a)}}(),intersectsSphere:function(a){var c=this.planes,b=a.center;a=-a.radius;for(var d=0;6>d;d++)if(c[d].distanceToPoint(b)<
a)return!1;return!0},intersectsBox:function(){var a=new b.Vector3,c=new b.Vector3;return function(b){for(var d=this.planes,g=0;6>g;g++){var h=d[g];a.x=0<h.normal.x?b.min.x:b.max.x;c.x=0<h.normal.x?b.max.x:b.min.x;a.y=0<h.normal.y?b.min.y:b.max.y;c.y=0<h.normal.y?b.max.y:b.min.y;a.z=0<h.normal.z?b.min.z:b.max.z;c.z=0<h.normal.z?b.max.z:b.min.z;var f=h.distanceToPoint(a),h=h.distanceToPoint(c);if(0>f&&0>h)return!1}return!0}}(),containsPoint:function(a){for(var c=this.planes,b=0;6>b;b++)if(0>c[b].distanceToPoint(a))return!1;
return!0}};b.Plane=function(a,c){this.normal=void 0!==a?a:new b.Vector3(1,0,0);this.constant=void 0!==c?c:0};b.Plane.prototype={constructor:b.Plane,set:function(a,c){this.normal.copy(a);this.constant=c;return this},setComponents:function(a,c,b,d){this.normal.set(a,c,b);this.constant=d;return this},setFromNormalAndCoplanarPoint:function(a,c){this.normal.copy(a);this.constant=-c.dot(this.normal);return this},setFromCoplanarPoints:function(){var a=new b.Vector3,c=new b.Vector3;return function(b,d,g){d=
a.subVectors(g,d).cross(c.subVectors(b,d)).normalize();this.setFromNormalAndCoplanarPoint(d,b);return this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.normal.copy(a.normal);this.constant=a.constant;return this},normalize:function(){var a=1/this.normal.length();this.normal.multiplyScalar(a);this.constant*=a;return this},negate:function(){this.constant*=-1;this.normal.negate();return this},distanceToPoint:function(a){return this.normal.dot(a)+this.constant},distanceToSphere:function(a){return this.distanceToPoint(a.center)-
a.radius},projectPoint:function(a,c){return this.orthoPoint(a,c).sub(a).negate()},orthoPoint:function(a,c){var e=this.distanceToPoint(a);return(c||new b.Vector3).copy(this.normal).multiplyScalar(e)},intersectLine:function(){var a=new b.Vector3;return function(c,e){var d=e||new b.Vector3,g=c.delta(a),h=this.normal.dot(g);if(0===h){if(0===this.distanceToPoint(c.start))return d.copy(c.start)}else return h=-(c.start.dot(this.normal)+this.constant)/h,0>h||1<h?void 0:d.copy(g).multiplyScalar(h).add(c.start)}}(),
intersectsLine:function(a){var c=this.distanceToPoint(a.start);a=this.distanceToPoint(a.end);return 0>c&&0<a||0>a&&0<c},intersectsBox:function(a){return a.intersectsPlane(this)},intersectsSphere:function(a){return a.intersectsPlane(this)},coplanarPoint:function(a){return(a||new b.Vector3).copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var a=new b.Vector3,c=new b.Matrix3;return function(b,d){var g=this.coplanarPoint(a).applyMatrix4(b),h=d||c.getNormalMatrix(b),h=this.normal.applyMatrix3(h).normalize();
this.constant=-g.dot(h);return this}}(),translate:function(a){this.constant-=a.dot(this.normal);return this},equals:function(a){return a.normal.equals(this.normal)&&a.constant===this.constant}};b.Spherical=function(a,c,b){this.radius=void 0!==a?a:1;this.phi=void 0!==c?c:0;this.theta=void 0!==b?b:0;return this};b.Spherical.prototype={constructor:b.Spherical,set:function(a,c,b){this.radius=a;this.phi=c;this.theta=b;return this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.radius.copy(a.radius);
this.phi.copy(a.phi);this.theta.copy(a.theta);return this},makeSafe:function(){this.phi=Math.max(1E-6,Math.min(Math.PI-1E-6,this.phi));return this},setFromVector3:function(a){this.radius=a.length();0===this.radius?this.phi=this.theta=0:(this.theta=Math.atan2(a.x,a.z),this.phi=Math.acos(b.Math.clamp(a.y/this.radius,-1,1)));return this}};b.Math={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var a="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),c=Array(36),
b=0,d;return function(){for(var g=0;36>g;g++)8===g||13===g||18===g||23===g?c[g]="-":14===g?c[g]="4":(2>=b&&(b=33554432+16777216*Math.random()|0),d=b&15,b>>=4,c[g]=a[19===g?d&3|8:d]);return c.join("")}}(),clamp:function(a,c,b){return Math.max(c,Math.min(b,a))},euclideanModulo:function(a,c){return(a%c+c)%c},mapLinear:function(a,c,b,d,g){return d+(a-c)*(g-d)/(b-c)},smoothstep:function(a,c,b){if(a<=c)return 0;if(a>=b)return 1;a=(a-c)/(b-c);return a*a*(3-2*a)},smootherstep:function(a,c,b){if(a<=c)return 0;
if(a>=b)return 1;a=(a-c)/(b-c);return a*a*a*(a*(6*a-15)+10)},random16:function(){console.warn("THREE.Math.random16() has been deprecated. Use Math.random() instead.");return Math.random()},randInt:function(a,c){return a+Math.floor(Math.random()*(c-a+1))},randFloat:function(a,c){return a+Math.random()*(c-a)},randFloatSpread:function(a){return a*(.5-Math.random())},degToRad:function(a){return a*b.Math.DEG2RAD},radToDeg:function(a){return a*b.Math.RAD2DEG},isPowerOfTwo:function(a){return 0===(a&a-1)&&
0!==a},nearestPowerOfTwo:function(a){return Math.pow(2,Math.round(Math.log(a)/Math.LN2))},nextPowerOfTwo:function(a){a--;a|=a>>1;a|=a>>2;a|=a>>4;a|=a>>8;a|=a>>16;a++;return a}};b.Spline=function(a){function c(a,c,b,e,d,g,h){a=.5*(b-a);e=.5*(e-c);return(2*(c-b)+a+e)*h+(-3*(c-b)-2*a-e)*g+a*d+c}this.points=a;var e=[],d={x:0,y:0,z:0},g,h,f,m,r,t,k,u,q;this.initFromArray=function(a){this.points=[];for(var c=0;c<a.length;c++)this.points[c]={x:a[c][0],y:a[c][1],z:a[c][2]}};this.getPoint=function(a){g=(this.points.length-
1)*a;h=Math.floor(g);f=g-h;e[0]=0===h?h:h-1;e[1]=h;e[2]=h>this.points.length-2?this.points.length-1:h+1;e[3]=h>this.points.length-3?this.points.length-1:h+2;t=this.points[e[0]];k=this.points[e[1]];u=this.points[e[2]];q=this.points[e[3]];m=f*f;r=f*m;d.x=c(t.x,k.x,u.x,q.x,f,m,r);d.y=c(t.y,k.y,u.y,q.y,f,m,r);d.z=c(t.z,k.z,u.z,q.z,f,m,r);return d};this.getControlPointsArray=function(){var a,c,b=this.points.length,e=[];for(a=0;a<b;a++)c=this.points[a],e[a]=[c.x,c.y,c.z];return e};this.getLength=function(a){var c,
e,d,g=c=c=0,h=new b.Vector3,f=new b.Vector3,l=[],m=0;l[0]=0;a||(a=100);e=this.points.length*a;h.copy(this.points[0]);for(a=1;a<e;a++)c=a/e,d=this.getPoint(c),f.copy(d),m+=f.distanceTo(h),h.copy(d),c*=this.points.length-1,c=Math.floor(c),c!==g&&(l[c]=m,g=c);l[l.length]=m;return{chunks:l,total:m}};this.reparametrizeByArcLength=function(a){var c,e,d,g,h,f,l=[],m=new b.Vector3,r=this.getLength();l.push(m.copy(this.points[0]).clone());for(c=1;c<this.points.length;c++){e=r.chunks[c]-r.chunks[c-1];f=Math.ceil(a*
e/r.total);g=(c-1)/(this.points.length-1);h=c/(this.points.length-1);for(e=1;e<f-1;e++)d=g+1/f*e*(h-g),d=this.getPoint(d),l.push(m.copy(d).clone());l.push(m.copy(this.points[c]).clone())}this.points=l}};b.Triangle=function(a,c,e){this.a=void 0!==a?a:new b.Vector3;this.b=void 0!==c?c:new b.Vector3;this.c=void 0!==e?e:new b.Vector3};b.Triangle.normal=function(){var a=new b.Vector3;return function(c,e,d,g){g=g||new b.Vector3;g.subVectors(d,e);a.subVectors(c,e);g.cross(a);c=g.lengthSq();return 0<c?g.multiplyScalar(1/
Math.sqrt(c)):g.set(0,0,0)}}();b.Triangle.barycoordFromPoint=function(){var a=new b.Vector3,c=new b.Vector3,e=new b.Vector3;return function(d,g,h,f,m){a.subVectors(f,g);c.subVectors(h,g);e.subVectors(d,g);d=a.dot(a);g=a.dot(c);h=a.dot(e);var r=c.dot(c);f=c.dot(e);var t=d*r-g*g;m=m||new b.Vector3;if(0===t)return m.set(-2,-1,-1);t=1/t;r=(r*h-g*f)*t;d=(d*f-g*h)*t;return m.set(1-r-d,d,r)}}();b.Triangle.containsPoint=function(){var a=new b.Vector3;return function(c,e,d,g){c=b.Triangle.barycoordFromPoint(c,
e,d,g,a);return 0<=c.x&&0<=c.y&&1>=c.x+c.y}}();b.Triangle.prototype={constructor:b.Triangle,set:function(a,c,b){this.a.copy(a);this.b.copy(c);this.c.copy(b);return this},setFromPointsAndIndices:function(a,c,b,d){this.a.copy(a[c]);this.b.copy(a[b]);this.c.copy(a[d]);return this},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.a.copy(a.a);this.b.copy(a.b);this.c.copy(a.c);return this},area:function(){var a=new b.Vector3,c=new b.Vector3;return function(){a.subVectors(this.c,
this.b);c.subVectors(this.a,this.b);return.5*a.cross(c).length()}}(),midpoint:function(a){return(a||new b.Vector3).addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(a){return b.Triangle.normal(this.a,this.b,this.c,a)},plane:function(a){return(a||new b.Plane).setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(a,c){return b.Triangle.barycoordFromPoint(a,this.a,this.b,this.c,c)},containsPoint:function(a){return b.Triangle.containsPoint(a,this.a,this.b,this.c)},
closestPointToPoint:function(){var a,c,e,d;return function(g,h){void 0===a&&(a=new b.Plane,c=[new b.Line3,new b.Line3,new b.Line3],e=new b.Vector3,d=new b.Vector3);var f=h||new b.Vector3,m=Infinity;a.setFromCoplanarPoints(this.a,this.b,this.c);a.projectPoint(g,e);if(!0===this.containsPoint(e))f.copy(e);else{c[0].set(this.a,this.b);c[1].set(this.b,this.c);c[2].set(this.c,this.a);for(var r=0;r<c.length;r++){c[r].closestPointToPoint(e,!0,d);var t=e.distanceToSquared(d);t<m&&(m=t,f.copy(d))}}return f}}(),
equals:function(a){return a.a.equals(this.a)&&a.b.equals(this.b)&&a.c.equals(this.c)}};b.Interpolant=function(a,c,b,d){this.parameterPositions=a;this._cachedIndex=0;this.resultBuffer=void 0!==d?d:new c.constructor(b);this.sampleValues=c;this.valueSize=b};b.Interpolant.prototype={constructor:b.Interpolant,evaluate:function(a){var c=this.parameterPositions,b=this._cachedIndex,d=c[b],g=c[b-1];a:{b:{c:{d:if(!(a<d)){for(var h=b+2;;){if(void 0===d){if(a<g)break d;this._cachedIndex=b=c.length;return this.afterEnd_(b-
1,a,g)}if(b===h)break;g=d;d=c[++b];if(a<d)break b}d=c.length;break c}if(a>=g)break a;else{h=c[1];a<h&&(b=2,g=h);for(h=b-2;;){if(void 0===g)return this._cachedIndex=0,this.beforeStart_(0,a,d);if(b===h)break;d=g;g=c[--b-1];if(a>=g)break b}d=b;b=0}}for(;b<d;)g=b+d>>>1,a<c[g]?d=g:b=g+1;d=c[b];g=c[b-1];if(void 0===g)return this._cachedIndex=0,this.beforeStart_(0,a,d);if(void 0===d)return this._cachedIndex=b=c.length,this.afterEnd_(b-1,g,a)}this._cachedIndex=b;this.intervalChanged_(b,g,d)}return this.interpolate_(b,
g,a,d)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(a){var c=this.resultBuffer,b=this.sampleValues,d=this.valueSize;a*=d;for(var g=0;g!==d;++g)c[g]=b[a+g];return c},interpolate_:function(a,c,b,d){throw Error("call to abstract method");},intervalChanged_:function(a,c,b){}};Object.assign(b.Interpolant.prototype,{beforeStart_:b.Interpolant.prototype.copySampleValue_,afterEnd_:b.Interpolant.prototype.copySampleValue_});
b.CubicInterpolant=function(a,c,e,d){b.Interpolant.call(this,a,c,e,d);this._offsetNext=this._weightNext=this._offsetPrev=this._weightPrev=-0};b.CubicInterpolant.prototype=Object.assign(Object.create(b.Interpolant.prototype),{constructor:b.CubicInterpolant,DefaultSettings_:{endingStart:b.ZeroCurvatureEnding,endingEnd:b.ZeroCurvatureEnding},intervalChanged_:function(a,c,e){var d=this.parameterPositions,g=a-2,h=a+1,f=d[g],m=d[h];if(void 0===f)switch(this.getSettings_().endingStart){case b.ZeroSlopeEnding:g=
a;f=2*c-e;break;case b.WrapAroundEnding:g=d.length-2;f=c+d[g]-d[g+1];break;default:g=a,f=e}if(void 0===m)switch(this.getSettings_().endingEnd){case b.ZeroSlopeEnding:h=a;m=2*e-c;break;case b.WrapAroundEnding:h=1;m=e+d[1]-d[0];break;default:h=a-1,m=c}a=.5*(e-c);d=this.valueSize;this._weightPrev=a/(c-f);this._weightNext=a/(m-e);this._offsetPrev=g*d;this._offsetNext=h*d},interpolate_:function(a,c,b,d){var g=this.resultBuffer,h=this.sampleValues,f=this.valueSize;a*=f;var m=a-f,r=this._offsetPrev,t=this._offsetNext,
k=this._weightPrev,u=this._weightNext,q=(b-c)/(d-c);b=q*q;d=b*q;c=-k*d+2*k*b-k*q;k=(1+k)*d+(-1.5-2*k)*b+(-.5+k)*q+1;q=(-1-u)*d+(1.5+u)*b+.5*q;u=u*d-u*b;for(b=0;b!==f;++b)g[b]=c*h[r+b]+k*h[m+b]+q*h[a+b]+u*h[t+b];return g}});b.DiscreteInterpolant=function(a,c,e,d){b.Interpolant.call(this,a,c,e,d)};b.DiscreteInterpolant.prototype=Object.assign(Object.create(b.Interpolant.prototype),{constructor:b.DiscreteInterpolant,interpolate_:function(a,c,b,d){return this.copySampleValue_(a-1)}});b.LinearInterpolant=
function(a,c,e,d){b.Interpolant.call(this,a,c,e,d)};b.LinearInterpolant.prototype=Object.assign(Object.create(b.Interpolant.prototype),{constructor:b.LinearInterpolant,interpolate_:function(a,c,b,d){var g=this.resultBuffer,h=this.sampleValues,f=this.valueSize;a*=f;var m=a-f;c=(b-c)/(d-c);b=1-c;for(d=0;d!==f;++d)g[d]=h[m+d]*b+h[a+d]*c;return g}});b.QuaternionLinearInterpolant=function(a,c,e,d){b.Interpolant.call(this,a,c,e,d)};b.QuaternionLinearInterpolant.prototype=Object.assign(Object.create(b.Interpolant.prototype),
{constructor:b.QuaternionLinearInterpolant,interpolate_:function(a,c,e,d){var g=this.resultBuffer,h=this.sampleValues,f=this.valueSize;a*=f;c=(e-c)/(d-c);for(e=a+f;a!==e;a+=4)b.Quaternion.slerpFlat(g,0,h,a-f,h,a,c);return g}});b.Clock=function(a){this.autoStart=void 0!==a?a:!0;this.elapsedTime=this.oldTime=this.startTime=0;this.running=!1};b.Clock.prototype={constructor:b.Clock,start:function(){this.oldTime=this.startTime=(performance||Date).now();this.running=!0},stop:function(){this.getElapsedTime();
this.running=!1},getElapsedTime:function(){this.getDelta();return this.elapsedTime},getDelta:function(){var a=0;this.autoStart&&!this.running&&this.start();if(this.running){var c=(performance||Date).now(),a=(c-this.oldTime)/1E3;this.oldTime=c;this.elapsedTime+=a}return a}};b.EventDispatcher=function(){};Object.assign(b.EventDispatcher.prototype,{addEventListener:function(a,c){void 0===this._listeners&&(this._listeners={});var b=this._listeners;void 0===b[a]&&(b[a]=[]);-1===b[a].indexOf(c)&&b[a].push(c)},
hasEventListener:function(a,c){if(void 0===this._listeners)return!1;var b=this._listeners;return void 0!==b[a]&&-1!==b[a].indexOf(c)?!0:!1},removeEventListener:function(a,c){if(void 0!==this._listeners){var b=this._listeners[a];if(void 0!==b){var d=b.indexOf(c);-1!==d&&b.splice(d,1)}}},dispatchEvent:function(a){if(void 0!==this._listeners){var c=this._listeners[a.type];if(void 0!==c){a.target=this;for(var b=[],d=0,g=c.length,d=0;d<g;d++)b[d]=c[d];for(d=0;d<g;d++)b[d].call(this,a)}}}});b.Layers=function(){this.mask=
1};b.Layers.prototype={constructor:b.Layers,set:function(a){this.mask=1<<a},enable:function(a){this.mask|=1<<a},toggle:function(a){this.mask^=1<<a},disable:function(a){this.mask&=~(1<<a)},test:function(a){return 0!==(this.mask&a.mask)}};(function(a){function c(a,c){return a.distance-c.distance}function b(a,c,h,f){if(!1!==a.visible&&(a.raycast(c,h),!0===f)){a=a.children;f=0;for(var m=a.length;f<m;f++)b(a[f],c,h,!0)}}a.Raycaster=function(c,b,e,f){this.ray=new a.Ray(c,b);this.near=e||0;this.far=f||Infinity;
this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}};Object.defineProperties(this.params,{PointCloud:{get:function(){console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points.");return this.Points}}})};a.Raycaster.prototype={constructor:a.Raycaster,linePrecision:1,set:function(a,c){this.ray.set(a,c)},setFromCamera:function(c,b){b instanceof a.PerspectiveCamera?(this.ray.origin.setFromMatrixPosition(b.matrixWorld),this.ray.direction.set(c.x,c.y,.5).unproject(b).sub(this.ray.origin).normalize()):
b instanceof a.OrthographicCamera?(this.ray.origin.set(c.x,c.y,-1).unproject(b),this.ray.direction.set(0,0,-1).transformDirection(b.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(a,g){var h=[];b(a,this,h,g);h.sort(c);return h},intersectObjects:function(a,g){var h=[];if(!1===Array.isArray(a))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),h;for(var f=0,m=a.length;f<m;f++)b(a[f],this,h,g);h.sort(c);return h}}})(b);
b.Object3D=function(){Object.defineProperty(this,"id",{value:b.Object3DIdCount++});this.uuid=b.Math.generateUUID();this.name="";this.type="Object3D";this.parent=null;this.children=[];this.up=b.Object3D.DefaultUp.clone();var a=new b.Vector3,c=new b.Euler,e=new b.Quaternion,d=new b.Vector3(1,1,1);c.onChange(function(){e.setFromEuler(c,!1)});e.onChange(function(){c.setFromQuaternion(e,void 0,!1)});Object.defineProperties(this,{position:{enumerable:!0,value:a},rotation:{enumerable:!0,value:c},quaternion:{enumerable:!0,
value:e},scale:{enumerable:!0,value:d},modelViewMatrix:{value:new b.Matrix4},normalMatrix:{value:new b.Matrix3}});this.matrix=new b.Matrix4;this.matrixWorld=new b.Matrix4;this.matrixAutoUpdate=b.Object3D.DefaultMatrixAutoUpdate;this.matrixWorldNeedsUpdate=!1;this.layers=new b.Layers;this.visible=!0;this.receiveShadow=this.castShadow=!1;this.frustumCulled=!0;this.renderOrder=0;this.userData={}};b.Object3D.DefaultUp=new b.Vector3(0,1,0);b.Object3D.DefaultMatrixAutoUpdate=!0;Object.assign(b.Object3D.prototype,
b.EventDispatcher.prototype,{applyMatrix:function(a){this.matrix.multiplyMatrices(a,this.matrix);this.matrix.decompose(this.position,this.quaternion,this.scale)},setRotationFromAxisAngle:function(a,c){this.quaternion.setFromAxisAngle(a,c)},setRotationFromEuler:function(a){this.quaternion.setFromEuler(a,!0)},setRotationFromMatrix:function(a){this.quaternion.setFromRotationMatrix(a)},setRotationFromQuaternion:function(a){this.quaternion.copy(a)},rotateOnAxis:function(){var a=new b.Quaternion;return function(c,
b){a.setFromAxisAngle(c,b);this.quaternion.multiply(a);return this}}(),rotateX:function(){var a=new b.Vector3(1,0,0);return function(c){return this.rotateOnAxis(a,c)}}(),rotateY:function(){var a=new b.Vector3(0,1,0);return function(c){return this.rotateOnAxis(a,c)}}(),rotateZ:function(){var a=new b.Vector3(0,0,1);return function(c){return this.rotateOnAxis(a,c)}}(),translateOnAxis:function(){var a=new b.Vector3;return function(c,b){a.copy(c).applyQuaternion(this.quaternion);this.position.add(a.multiplyScalar(b));
return this}}(),translateX:function(){var a=new b.Vector3(1,0,0);return function(c){return this.translateOnAxis(a,c)}}(),translateY:function(){var a=new b.Vector3(0,1,0);return function(c){return this.translateOnAxis(a,c)}}(),translateZ:function(){var a=new b.Vector3(0,0,1);return function(c){return this.translateOnAxis(a,c)}}(),localToWorld:function(a){return a.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var a=new b.Matrix4;return function(c){return c.applyMatrix4(a.getInverse(this.matrixWorld))}}(),
lookAt:function(){var a=new b.Matrix4;return function(c){a.lookAt(c,this.position,this.up);this.quaternion.setFromRotationMatrix(a)}}(),add:function(a){if(1<arguments.length){for(var c=0;c<arguments.length;c++)this.add(arguments[c]);return this}if(a===this)return console.error("THREE.Object3D.add: object can't be added as a child of itself.",a),this;a instanceof b.Object3D?(null!==a.parent&&a.parent.remove(a),a.parent=this,a.dispatchEvent({type:"added"}),this.children.push(a)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",
a);return this},remove:function(a){if(1<arguments.length)for(var c=0;c<arguments.length;c++)this.remove(arguments[c]);c=this.children.indexOf(a);-1!==c&&(a.parent=null,a.dispatchEvent({type:"removed"}),this.children.splice(c,1))},getObjectById:function(a){return this.getObjectByProperty("id",a)},getObjectByName:function(a){return this.getObjectByProperty("name",a)},getObjectByProperty:function(a,c){if(this[a]===c)return this;for(var b=0,d=this.children.length;b<d;b++){var g=this.children[b].getObjectByProperty(a,
c);if(void 0!==g)return g}},getWorldPosition:function(a){a=a||new b.Vector3;this.updateMatrixWorld(!0);return a.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var a=new b.Vector3,c=new b.Vector3;return function(e){e=e||new b.Quaternion;this.updateMatrixWorld(!0);this.matrixWorld.decompose(a,e,c);return e}}(),getWorldRotation:function(){var a=new b.Quaternion;return function(c){c=c||new b.Euler;this.getWorldQuaternion(a);return c.setFromQuaternion(a,this.rotation.order,!1)}}(),
getWorldScale:function(){var a=new b.Vector3,c=new b.Quaternion;return function(e){e=e||new b.Vector3;this.updateMatrixWorld(!0);this.matrixWorld.decompose(a,c,e);return e}}(),getWorldDirection:function(){var a=new b.Quaternion;return function(c){c=c||new b.Vector3;this.getWorldQuaternion(a);return c.set(0,0,1).applyQuaternion(a)}}(),raycast:function(){},traverse:function(a){a(this);for(var c=this.children,b=0,d=c.length;b<d;b++)c[b].traverse(a)},traverseVisible:function(a){if(!1!==this.visible){a(this);
for(var c=this.children,b=0,d=c.length;b<d;b++)c[b].traverseVisible(a)}},traverseAncestors:function(a){var c=this.parent;null!==c&&(a(c),c.traverseAncestors(a))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale);this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(a){!0===this.matrixAutoUpdate&&this.updateMatrix();if(!0===this.matrixWorldNeedsUpdate||!0===a)null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,
this.matrix),this.matrixWorldNeedsUpdate=!1,a=!0;for(var c=0,b=this.children.length;c<b;c++)this.children[c].updateMatrixWorld(a)},toJSON:function(a){function c(a){var c=[],b;for(b in a){var e=a[b];delete e.metadata;c.push(e)}return c}var b=void 0===a||""===a,d={};b&&(a={geometries:{},materials:{},textures:{},images:{}},d.metadata={version:4.4,type:"Object",generator:"Object3D.toJSON"});var g={};g.uuid=this.uuid;g.type=this.type;""!==this.name&&(g.name=this.name);"{}"!==JSON.stringify(this.userData)&&
(g.userData=this.userData);!0===this.castShadow&&(g.castShadow=!0);!0===this.receiveShadow&&(g.receiveShadow=!0);!1===this.visible&&(g.visible=!1);g.matrix=this.matrix.toArray();void 0!==this.geometry&&(void 0===a.geometries[this.geometry.uuid]&&(a.geometries[this.geometry.uuid]=this.geometry.toJSON(a)),g.geometry=this.geometry.uuid);void 0!==this.material&&(void 0===a.materials[this.material.uuid]&&(a.materials[this.material.uuid]=this.material.toJSON(a)),g.material=this.material.uuid);if(0<this.children.length){g.children=
[];for(var h=0;h<this.children.length;h++)g.children.push(this.children[h].toJSON(a).object)}if(b){var b=c(a.geometries),h=c(a.materials),f=c(a.textures);a=c(a.images);0<b.length&&(d.geometries=b);0<h.length&&(d.materials=h);0<f.length&&(d.textures=f);0<a.length&&(d.images=a)}d.object=g;return d},clone:function(a){return(new this.constructor).copy(this,a)},copy:function(a,c){void 0===c&&(c=!0);this.name=a.name;this.up.copy(a.up);this.position.copy(a.position);this.quaternion.copy(a.quaternion);this.scale.copy(a.scale);
this.matrix.copy(a.matrix);this.matrixWorld.copy(a.matrixWorld);this.matrixAutoUpdate=a.matrixAutoUpdate;this.matrixWorldNeedsUpdate=a.matrixWorldNeedsUpdate;this.visible=a.visible;this.castShadow=a.castShadow;this.receiveShadow=a.receiveShadow;this.frustumCulled=a.frustumCulled;this.renderOrder=a.renderOrder;this.userData=JSON.parse(JSON.stringify(a.userData));if(!0===c)for(var b=0;b<a.children.length;b++)this.add(a.children[b].clone());return this}});b.Object3DIdCount=0;b.Face3=function(a,c,e,d,
g,h){this.a=a;this.b=c;this.c=e;this.normal=d instanceof b.Vector3?d:new b.Vector3;this.vertexNormals=Array.isArray(d)?d:[];this.color=g instanceof b.Color?g:new b.Color;this.vertexColors=Array.isArray(g)?g:[];this.materialIndex=void 0!==h?h:0};b.Face3.prototype={constructor:b.Face3,clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.a=a.a;this.b=a.b;this.c=a.c;this.normal.copy(a.normal);this.color.copy(a.color);this.materialIndex=a.materialIndex;for(var c=0,b=a.vertexNormals.length;c<
b;c++)this.vertexNormals[c]=a.vertexNormals[c].clone();c=0;for(b=a.vertexColors.length;c<b;c++)this.vertexColors[c]=a.vertexColors[c].clone();return this}};b.BufferAttribute=function(a,c,e){this.uuid=b.Math.generateUUID();this.array=a;this.itemSize=c;this.dynamic=!1;this.updateRange={offset:0,count:-1};this.version=0;this.normalized=!0===e};b.BufferAttribute.prototype={constructor:b.BufferAttribute,get count(){return this.array.length/this.itemSize},set needsUpdate(a){!0===a&&this.version++},setDynamic:function(a){this.dynamic=
a;return this},copy:function(a){this.array=new a.array.constructor(a.array);this.itemSize=a.itemSize;this.dynamic=a.dynamic;return this},copyAt:function(a,c,b){a*=this.itemSize;b*=c.itemSize;for(var d=0,g=this.itemSize;d<g;d++)this.array[a+d]=c.array[b+d];return this},copyArray:function(a){this.array.set(a);return this},copyColorsArray:function(a){for(var c=this.array,e=0,d=0,g=a.length;d<g;d++){var h=a[d];void 0===h&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",d),
h=new b.Color);c[e++]=h.r;c[e++]=h.g;c[e++]=h.b}return this},copyIndicesArray:function(a){for(var c=this.array,b=0,d=0,g=a.length;d<g;d++){var h=a[d];c[b++]=h.a;c[b++]=h.b;c[b++]=h.c}return this},copyVector2sArray:function(a){for(var c=this.array,e=0,d=0,g=a.length;d<g;d++){var h=a[d];void 0===h&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",d),h=new b.Vector2);c[e++]=h.x;c[e++]=h.y}return this},copyVector3sArray:function(a){for(var c=this.array,e=0,d=0,g=a.length;d<
g;d++){var h=a[d];void 0===h&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",d),h=new b.Vector3);c[e++]=h.x;c[e++]=h.y;c[e++]=h.z}return this},copyVector4sArray:function(a){for(var c=this.array,e=0,d=0,g=a.length;d<g;d++){var h=a[d];void 0===h&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",d),h=new b.Vector4);c[e++]=h.x;c[e++]=h.y;c[e++]=h.z;c[e++]=h.w}return this},set:function(a,c){void 0===c&&(c=0);this.array.set(a,c);return this},
getX:function(a){return this.array[a*this.itemSize]},setX:function(a,c){this.array[a*this.itemSize]=c;return this},getY:function(a){return this.array[a*this.itemSize+1]},setY:function(a,c){this.array[a*this.itemSize+1]=c;return this},getZ:function(a){return this.array[a*this.itemSize+2]},setZ:function(a,c){this.array[a*this.itemSize+2]=c;return this},getW:function(a){return this.array[a*this.itemSize+3]},setW:function(a,c){this.array[a*this.itemSize+3]=c;return this},setXY:function(a,c,b){a*=this.itemSize;
this.array[a+0]=c;this.array[a+1]=b;return this},setXYZ:function(a,c,b,d){a*=this.itemSize;this.array[a+0]=c;this.array[a+1]=b;this.array[a+2]=d;return this},setXYZW:function(a,c,b,d,g){a*=this.itemSize;this.array[a+0]=c;this.array[a+1]=b;this.array[a+2]=d;this.array[a+3]=g;return this},clone:function(){return(new this.constructor).copy(this)}};b.Int8Attribute=function(a,c){return new b.BufferAttribute(new Int8Array(a),c)};b.Uint8Attribute=function(a,c){return new b.BufferAttribute(new Uint8Array(a),
c)};b.Uint8ClampedAttribute=function(a,c){return new b.BufferAttribute(new Uint8ClampedArray(a),c)};b.Int16Attribute=function(a,c){return new b.BufferAttribute(new Int16Array(a),c)};b.Uint16Attribute=function(a,c){return new b.BufferAttribute(new Uint16Array(a),c)};b.Int32Attribute=function(a,c){return new b.BufferAttribute(new Int32Array(a),c)};b.Uint32Attribute=function(a,c){return new b.BufferAttribute(new Uint32Array(a),c)};b.Float32Attribute=function(a,c){return new b.BufferAttribute(new Float32Array(a),
c)};b.Float64Attribute=function(a,c){return new b.BufferAttribute(new Float64Array(a),c)};b.DynamicBufferAttribute=function(a,c){console.warn("THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setDynamic( true ) instead.");return(new b.BufferAttribute(a,c)).setDynamic(!0)};b.InstancedBufferAttribute=function(a,c,e){b.BufferAttribute.call(this,a,c);this.meshPerAttribute=e||1};b.InstancedBufferAttribute.prototype=Object.create(b.BufferAttribute.prototype);b.InstancedBufferAttribute.prototype.constructor=
b.InstancedBufferAttribute;b.InstancedBufferAttribute.prototype.copy=function(a){b.BufferAttribute.prototype.copy.call(this,a);this.meshPerAttribute=a.meshPerAttribute;return this};b.InterleavedBuffer=function(a,c){this.uuid=b.Math.generateUUID();this.array=a;this.stride=c;this.dynamic=!1;this.updateRange={offset:0,count:-1};this.version=0};b.InterleavedBuffer.prototype={constructor:b.InterleavedBuffer,get length(){return this.array.length},get count(){return this.array.length/this.stride},set needsUpdate(a){!0===
a&&this.version++},setDynamic:function(a){this.dynamic=a;return this},copy:function(a){this.array=new a.array.constructor(a.array);this.stride=a.stride;this.dynamic=a.dynamic;return this},copyAt:function(a,c,b){a*=this.stride;b*=c.stride;for(var d=0,g=this.stride;d<g;d++)this.array[a+d]=c.array[b+d];return this},set:function(a,c){void 0===c&&(c=0);this.array.set(a,c);return this},clone:function(){return(new this.constructor).copy(this)}};b.InstancedInterleavedBuffer=function(a,c,e){b.InterleavedBuffer.call(this,
a,c);this.meshPerAttribute=e||1};b.InstancedInterleavedBuffer.prototype=Object.create(b.InterleavedBuffer.prototype);b.InstancedInterleavedBuffer.prototype.constructor=b.InstancedInterleavedBuffer;b.InstancedInterleavedBuffer.prototype.copy=function(a){b.InterleavedBuffer.prototype.copy.call(this,a);this.meshPerAttribute=a.meshPerAttribute;return this};b.InterleavedBufferAttribute=function(a,c,e){this.uuid=b.Math.generateUUID();this.data=a;this.itemSize=c;this.offset=e};b.InterleavedBufferAttribute.prototype=
{constructor:b.InterleavedBufferAttribute,get length(){console.warn("THREE.BufferAttribute: .length has been deprecated. Please use .count.");return this.array.length},get count(){return this.data.count},setX:function(a,c){this.data.array[a*this.data.stride+this.offset]=c;return this},setY:function(a,c){this.data.array[a*this.data.stride+this.offset+1]=c;return this},setZ:function(a,c){this.data.array[a*this.data.stride+this.offset+2]=c;return this},setW:function(a,c){this.data.array[a*this.data.stride+
this.offset+3]=c;return this},getX:function(a){return this.data.array[a*this.data.stride+this.offset]},getY:function(a){return this.data.array[a*this.data.stride+this.offset+1]},getZ:function(a){return this.data.array[a*this.data.stride+this.offset+2]},getW:function(a){return this.data.array[a*this.data.stride+this.offset+3]},setXY:function(a,c,b){a=a*this.data.stride+this.offset;this.data.array[a+0]=c;this.data.array[a+1]=b;return this},setXYZ:function(a,c,b,d){a=a*this.data.stride+this.offset;this.data.array[a+
0]=c;this.data.array[a+1]=b;this.data.array[a+2]=d;return this},setXYZW:function(a,c,b,d,g){a=a*this.data.stride+this.offset;this.data.array[a+0]=c;this.data.array[a+1]=b;this.data.array[a+2]=d;this.data.array[a+3]=g;return this}};b.Geometry=function(){Object.defineProperty(this,"id",{value:b.GeometryIdCount++});this.uuid=b.Math.generateUUID();this.name="";this.type="Geometry";this.vertices=[];this.colors=[];this.faces=[];this.faceVertexUvs=[[]];this.morphTargets=[];this.morphNormals=[];this.skinWeights=
[];this.skinIndices=[];this.lineDistances=[];this.boundingSphere=this.boundingBox=null;this.groupsNeedUpdate=this.lineDistancesNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.uvsNeedUpdate=this.elementsNeedUpdate=this.verticesNeedUpdate=!1};Object.assign(b.Geometry.prototype,b.EventDispatcher.prototype,{applyMatrix:function(a){for(var c=(new b.Matrix3).getNormalMatrix(a),e=0,d=this.vertices.length;e<d;e++)this.vertices[e].applyMatrix4(a);e=0;for(d=this.faces.length;e<d;e++){a=this.faces[e];
a.normal.applyMatrix3(c).normalize();for(var g=0,h=a.vertexNormals.length;g<h;g++)a.vertexNormals[g].applyMatrix3(c).normalize()}null!==this.boundingBox&&this.computeBoundingBox();null!==this.boundingSphere&&this.computeBoundingSphere();this.normalsNeedUpdate=this.verticesNeedUpdate=!0;return this},rotateX:function(){var a;return function(c){void 0===a&&(a=new b.Matrix4);a.makeRotationX(c);this.applyMatrix(a);return this}}(),rotateY:function(){var a;return function(c){void 0===a&&(a=new b.Matrix4);
a.makeRotationY(c);this.applyMatrix(a);return this}}(),rotateZ:function(){var a;return function(c){void 0===a&&(a=new b.Matrix4);a.makeRotationZ(c);this.applyMatrix(a);return this}}(),translate:function(){var a;return function(c,e,d){void 0===a&&(a=new b.Matrix4);a.makeTranslation(c,e,d);this.applyMatrix(a);return this}}(),scale:function(){var a;return function(c,e,d){void 0===a&&(a=new b.Matrix4);a.makeScale(c,e,d);this.applyMatrix(a);return this}}(),lookAt:function(){var a;return function(c){void 0===
a&&(a=new b.Object3D);a.lookAt(c);a.updateMatrix();this.applyMatrix(a.matrix)}}(),fromBufferGeometry:function(a){function c(a,c,d,g){var h=void 0!==f?[k[a].clone(),k[c].clone(),k[d].clone()]:[],v=void 0!==m?[e.colors[a].clone(),e.colors[c].clone(),e.colors[d].clone()]:[];g=new b.Face3(a,c,d,h,v,g);e.faces.push(g);void 0!==r&&e.faceVertexUvs[0].push([u[a].clone(),u[c].clone(),u[d].clone()]);void 0!==t&&e.faceVertexUvs[1].push([q[a].clone(),q[c].clone(),q[d].clone()])}var e=this,d=null!==a.index?a.index.array:
void 0,g=a.attributes,h=g.position.array,f=void 0!==g.normal?g.normal.array:void 0,m=void 0!==g.color?g.color.array:void 0,r=void 0!==g.uv?g.uv.array:void 0,t=void 0!==g.uv2?g.uv2.array:void 0;void 0!==t&&(this.faceVertexUvs[1]=[]);for(var k=[],u=[],q=[],v=g=0;g<h.length;g+=3,v+=2)e.vertices.push(new b.Vector3(h[g],h[g+1],h[g+2])),void 0!==f&&k.push(new b.Vector3(f[g],f[g+1],f[g+2])),void 0!==m&&e.colors.push(new b.Color(m[g],m[g+1],m[g+2])),void 0!==r&&u.push(new b.Vector2(r[v],r[v+1])),void 0!==
t&&q.push(new b.Vector2(t[v],t[v+1]));if(void 0!==d)if(h=a.groups,0<h.length)for(g=0;g<h.length;g++)for(var p=h[g],n=p.start,B=p.count,v=n,n=n+B;v<n;v+=3)c(d[v],d[v+1],d[v+2],p.materialIndex);else for(g=0;g<d.length;g+=3)c(d[g],d[g+1],d[g+2]);else for(g=0;g<h.length/3;g+=3)c(g,g+1,g+2);this.computeFaceNormals();null!==a.boundingBox&&(this.boundingBox=a.boundingBox.clone());null!==a.boundingSphere&&(this.boundingSphere=a.boundingSphere.clone());return this},center:function(){this.computeBoundingBox();
var a=this.boundingBox.center().negate();this.translate(a.x,a.y,a.z);return a},normalize:function(){this.computeBoundingSphere();var a=this.boundingSphere.center,c=this.boundingSphere.radius,c=0===c?1:1/c,e=new b.Matrix4;e.set(c,0,0,-c*a.x,0,c,0,-c*a.y,0,0,c,-c*a.z,0,0,0,1);this.applyMatrix(e);return this},computeFaceNormals:function(){for(var a=new b.Vector3,c=new b.Vector3,e=0,d=this.faces.length;e<d;e++){var g=this.faces[e],h=this.vertices[g.a],f=this.vertices[g.b];a.subVectors(this.vertices[g.c],
f);c.subVectors(h,f);a.cross(c);a.normalize();g.normal.copy(a)}},computeVertexNormals:function(a){void 0===a&&(a=!0);var c,e,d;d=Array(this.vertices.length);c=0;for(e=this.vertices.length;c<e;c++)d[c]=new b.Vector3;if(a){var g,h,f,m=new b.Vector3,r=new b.Vector3;a=0;for(c=this.faces.length;a<c;a++)e=this.faces[a],g=this.vertices[e.a],h=this.vertices[e.b],f=this.vertices[e.c],m.subVectors(f,h),r.subVectors(g,h),m.cross(r),d[e.a].add(m),d[e.b].add(m),d[e.c].add(m)}else for(a=0,c=this.faces.length;a<
c;a++)e=this.faces[a],d[e.a].add(e.normal),d[e.b].add(e.normal),d[e.c].add(e.normal);c=0;for(e=this.vertices.length;c<e;c++)d[c].normalize();a=0;for(c=this.faces.length;a<c;a++)e=this.faces[a],g=e.vertexNormals,3===g.length?(g[0].copy(d[e.a]),g[1].copy(d[e.b]),g[2].copy(d[e.c])):(g[0]=d[e.a].clone(),g[1]=d[e.b].clone(),g[2]=d[e.c].clone());0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var a,c,e,d,g;e=0;for(d=this.faces.length;e<d;e++)for(g=this.faces[e],g.__originalFaceNormal?
g.__originalFaceNormal.copy(g.normal):g.__originalFaceNormal=g.normal.clone(),g.__originalVertexNormals||(g.__originalVertexNormals=[]),a=0,c=g.vertexNormals.length;a<c;a++)g.__originalVertexNormals[a]?g.__originalVertexNormals[a].copy(g.vertexNormals[a]):g.__originalVertexNormals[a]=g.vertexNormals[a].clone();var h=new b.Geometry;h.faces=this.faces;a=0;for(c=this.morphTargets.length;a<c;a++){if(!this.morphNormals[a]){this.morphNormals[a]={};this.morphNormals[a].faceNormals=[];this.morphNormals[a].vertexNormals=
[];g=this.morphNormals[a].faceNormals;var f=this.morphNormals[a].vertexNormals,m,r;e=0;for(d=this.faces.length;e<d;e++)m=new b.Vector3,r={a:new b.Vector3,b:new b.Vector3,c:new b.Vector3},g.push(m),f.push(r)}f=this.morphNormals[a];h.vertices=this.morphTargets[a].vertices;h.computeFaceNormals();h.computeVertexNormals();e=0;for(d=this.faces.length;e<d;e++)g=this.faces[e],m=f.faceNormals[e],r=f.vertexNormals[e],m.copy(g.normal),r.a.copy(g.vertexNormals[0]),r.b.copy(g.vertexNormals[1]),r.c.copy(g.vertexNormals[2])}e=
0;for(d=this.faces.length;e<d;e++)g=this.faces[e],g.normal=g.__originalFaceNormal,g.vertexNormals=g.__originalVertexNormals},computeTangents:function(){console.warn("THREE.Geometry: .computeTangents() has been removed.")},computeLineDistances:function(){for(var a=0,c=this.vertices,b=0,d=c.length;b<d;b++)0<b&&(a+=c[b].distanceTo(c[b-1])),this.lineDistances[b]=a},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new b.Box3);this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===
this.boundingSphere&&(this.boundingSphere=new b.Sphere);this.boundingSphere.setFromPoints(this.vertices)},merge:function(a,c,e){if(!1===a instanceof b.Geometry)console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",a);else{var d,g=this.vertices.length,h=this.vertices,f=a.vertices,m=this.faces,r=a.faces,t=this.faceVertexUvs[0];a=a.faceVertexUvs[0];void 0===e&&(e=0);void 0!==c&&(d=(new b.Matrix3).getNormalMatrix(c));for(var k=0,u=f.length;k<u;k++){var q=f[k].clone();void 0!==
c&&q.applyMatrix4(c);h.push(q)}k=0;for(u=r.length;k<u;k++){var f=r[k],v,p=f.vertexNormals,n=f.vertexColors,q=new b.Face3(f.a+g,f.b+g,f.c+g);q.normal.copy(f.normal);void 0!==d&&q.normal.applyMatrix3(d).normalize();c=0;for(h=p.length;c<h;c++)v=p[c].clone(),void 0!==d&&v.applyMatrix3(d).normalize(),q.vertexNormals.push(v);q.color.copy(f.color);c=0;for(h=n.length;c<h;c++)v=n[c],q.vertexColors.push(v.clone());q.materialIndex=f.materialIndex+e;m.push(q)}k=0;for(u=a.length;k<u;k++)if(e=a[k],d=[],void 0!==
e){c=0;for(h=e.length;c<h;c++)d.push(e[c].clone());t.push(d)}}},mergeMesh:function(a){!1===a instanceof b.Mesh?console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",a):(a.matrixAutoUpdate&&a.updateMatrix(),this.merge(a.geometry,a.matrix))},mergeVertices:function(){var a={},c=[],b=[],d,g=Math.pow(10,4),h,f;h=0;for(f=this.vertices.length;h<f;h++)d=this.vertices[h],d=Math.round(d.x*g)+"_"+Math.round(d.y*g)+"_"+Math.round(d.z*g),void 0===a[d]?(a[d]=h,c.push(this.vertices[h]),
b[h]=c.length-1):b[h]=b[a[d]];a=[];h=0;for(f=this.faces.length;h<f;h++)for(g=this.faces[h],g.a=b[g.a],g.b=b[g.b],g.c=b[g.c],g=[g.a,g.b,g.c],d=0;3>d;d++)if(g[d]===g[(d+1)%3]){a.push(h);break}for(h=a.length-1;0<=h;h--)for(g=a[h],this.faces.splice(g,1),b=0,f=this.faceVertexUvs.length;b<f;b++)this.faceVertexUvs[b].splice(g,1);h=this.vertices.length-c.length;this.vertices=c;return h},sortFacesByMaterialIndex:function(){for(var a=this.faces,c=a.length,b=0;b<c;b++)a[b]._id=b;a.sort(function(a,c){return a.materialIndex-
c.materialIndex});var d=this.faceVertexUvs[0],g=this.faceVertexUvs[1],h,f;d&&d.length===c&&(h=[]);g&&g.length===c&&(f=[]);for(b=0;b<c;b++){var m=a[b]._id;h&&h.push(d[m]);f&&f.push(g[m])}h&&(this.faceVertexUvs[0]=h);f&&(this.faceVertexUvs[1]=f)},toJSON:function(){function a(a,c,b){return b?a|1<<c:a&~(1<<c)}function c(a){var c=a.x.toString()+a.y.toString()+a.z.toString();if(void 0!==t[c])return t[c];t[c]=r.length/3;r.push(a.x,a.y,a.z);return t[c]}function b(a){var c=a.r.toString()+a.g.toString()+a.b.toString();
if(void 0!==u[c])return u[c];u[c]=k.length;k.push(a.getHex());return u[c]}function d(a){var c=a.x.toString()+a.y.toString();if(void 0!==v[c])return v[c];v[c]=q.length/2;q.push(a.x,a.y);return v[c]}var g={metadata:{version:4.4,type:"Geometry",generator:"Geometry.toJSON"}};g.uuid=this.uuid;g.type=this.type;""!==this.name&&(g.name=this.name);if(void 0!==this.parameters){var h=this.parameters,f;for(f in h)void 0!==h[f]&&(g[f]=h[f]);return g}h=[];for(f=0;f<this.vertices.length;f++){var m=this.vertices[f];
h.push(m.x,m.y,m.z)}var m=[],r=[],t={},k=[],u={},q=[],v={};for(f=0;f<this.faces.length;f++){var p=this.faces[f],n=void 0!==this.faceVertexUvs[0][f],B=0<p.normal.length(),A=0<p.vertexNormals.length,C=1!==p.color.r||1!==p.color.g||1!==p.color.b,G=0<p.vertexColors.length,D=0,D=a(D,0,0),D=a(D,1,!0),D=a(D,2,!1),D=a(D,3,n),D=a(D,4,B),D=a(D,5,A),D=a(D,6,C),D=a(D,7,G);m.push(D);m.push(p.a,p.b,p.c);m.push(p.materialIndex);n&&(n=this.faceVertexUvs[0][f],m.push(d(n[0]),d(n[1]),d(n[2])));B&&m.push(c(p.normal));
A&&(B=p.vertexNormals,m.push(c(B[0]),c(B[1]),c(B[2])));C&&m.push(b(p.color));G&&(p=p.vertexColors,m.push(b(p[0]),b(p[1]),b(p[2])))}g.data={};g.data.vertices=h;g.data.normals=r;0<k.length&&(g.data.colors=k);0<q.length&&(g.data.uvs=[q]);g.data.faces=m;return g},clone:function(){return(new b.Geometry).copy(this)},copy:function(a){this.vertices=[];this.faces=[];this.faceVertexUvs=[[]];for(var c=a.vertices,b=0,d=c.length;b<d;b++)this.vertices.push(c[b].clone());c=a.faces;b=0;for(d=c.length;b<d;b++)this.faces.push(c[b].clone());
b=0;for(d=a.faceVertexUvs.length;b<d;b++){c=a.faceVertexUvs[b];void 0===this.faceVertexUvs[b]&&(this.faceVertexUvs[b]=[]);for(var g=0,h=c.length;g<h;g++){for(var f=c[g],m=[],r=0,t=f.length;r<t;r++)m.push(f[r].clone());this.faceVertexUvs[b].push(m)}}return this},dispose:function(){this.dispatchEvent({type:"dispose"})}});b.GeometryIdCount=0;b.DirectGeometry=function(){Object.defineProperty(this,"id",{value:b.GeometryIdCount++});this.uuid=b.Math.generateUUID();this.name="";this.type="DirectGeometry";
this.indices=[];this.vertices=[];this.normals=[];this.colors=[];this.uvs=[];this.uvs2=[];this.groups=[];this.morphTargets={};this.skinWeights=[];this.skinIndices=[];this.boundingSphere=this.boundingBox=null;this.groupsNeedUpdate=this.uvsNeedUpdate=this.colorsNeedUpdate=this.normalsNeedUpdate=this.verticesNeedUpdate=!1};Object.assign(b.DirectGeometry.prototype,b.EventDispatcher.prototype,{computeBoundingBox:b.Geometry.prototype.computeBoundingBox,computeBoundingSphere:b.Geometry.prototype.computeBoundingSphere,
computeFaceNormals:function(){console.warn("THREE.DirectGeometry: computeFaceNormals() is not a method of this type of geometry.")},computeVertexNormals:function(){console.warn("THREE.DirectGeometry: computeVertexNormals() is not a method of this type of geometry.")},computeGroups:function(a){var c,b=[],d;a=a.faces;for(var g=0;g<a.length;g++){var h=a[g];h.materialIndex!==d&&(d=h.materialIndex,void 0!==c&&(c.count=3*g-c.start,b.push(c)),c={start:3*g,materialIndex:d})}void 0!==c&&(c.count=3*g-c.start,
b.push(c));this.groups=b},fromGeometry:function(a){var c=a.faces,e=a.vertices,d=a.faceVertexUvs,g=d[0]&&0<d[0].length,h=d[1]&&0<d[1].length,f=a.morphTargets,m=f.length,r;if(0<m){r=[];for(var t=0;t<m;t++)r[t]=[];this.morphTargets.position=r}var k=a.morphNormals,u=k.length,q;if(0<u){q=[];for(t=0;t<u;t++)q[t]=[];this.morphTargets.normal=q}for(var v=a.skinIndices,p=a.skinWeights,n=v.length===e.length,B=p.length===e.length,t=0;t<c.length;t++){var A=c[t];this.vertices.push(e[A.a],e[A.b],e[A.c]);var C=A.vertexNormals;
3===C.length?this.normals.push(C[0],C[1],C[2]):(C=A.normal,this.normals.push(C,C,C));C=A.vertexColors;3===C.length?this.colors.push(C[0],C[1],C[2]):(C=A.color,this.colors.push(C,C,C));!0===g&&(C=d[0][t],void 0!==C?this.uvs.push(C[0],C[1],C[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",t),this.uvs.push(new b.Vector2,new b.Vector2,new b.Vector2)));!0===h&&(C=d[1][t],void 0!==C?this.uvs2.push(C[0],C[1],C[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",
t),this.uvs2.push(new b.Vector2,new b.Vector2,new b.Vector2)));for(C=0;C<m;C++){var G=f[C].vertices;r[C].push(G[A.a],G[A.b],G[A.c])}for(C=0;C<u;C++)G=k[C].vertexNormals[t],q[C].push(G.a,G.b,G.c);n&&this.skinIndices.push(v[A.a],v[A.b],v[A.c]);B&&this.skinWeights.push(p[A.a],p[A.b],p[A.c])}this.computeGroups(a);this.verticesNeedUpdate=a.verticesNeedUpdate;this.normalsNeedUpdate=a.normalsNeedUpdate;this.colorsNeedUpdate=a.colorsNeedUpdate;this.uvsNeedUpdate=a.uvsNeedUpdate;this.groupsNeedUpdate=a.groupsNeedUpdate;
return this},dispose:function(){this.dispatchEvent({type:"dispose"})}});b.BufferGeometry=function(){Object.defineProperty(this,"id",{value:b.GeometryIdCount++});this.uuid=b.Math.generateUUID();this.name="";this.type="BufferGeometry";this.index=null;this.attributes={};this.morphAttributes={};this.groups=[];this.boundingSphere=this.boundingBox=null;this.drawRange={start:0,count:Infinity}};Object.assign(b.BufferGeometry.prototype,b.EventDispatcher.prototype,{getIndex:function(){return this.index},setIndex:function(a){this.index=
a},addAttribute:function(a,c,e){if(!1===c instanceof b.BufferAttribute&&!1===c instanceof b.InterleavedBufferAttribute)console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.addAttribute(a,new b.BufferAttribute(c,e));else if("index"===a)console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(c);else return this.attributes[a]=c,this},getAttribute:function(a){return this.attributes[a]},removeAttribute:function(a){delete this.attributes[a];
return this},addGroup:function(a,c,b){this.groups.push({start:a,count:c,materialIndex:void 0!==b?b:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(a,c){this.drawRange.start=a;this.drawRange.count=c},applyMatrix:function(a){var c=this.attributes.position;void 0!==c&&(a.applyToVector3Array(c.array),c.needsUpdate=!0);c=this.attributes.normal;void 0!==c&&((new b.Matrix3).getNormalMatrix(a).applyToVector3Array(c.array),c.needsUpdate=!0);null!==this.boundingBox&&this.computeBoundingBox();
null!==this.boundingSphere&&this.computeBoundingSphere();return this},rotateX:function(){var a;return function(c){void 0===a&&(a=new b.Matrix4);a.makeRotationX(c);this.applyMatrix(a);return this}}(),rotateY:function(){var a;return function(c){void 0===a&&(a=new b.Matrix4);a.makeRotationY(c);this.applyMatrix(a);return this}}(),rotateZ:function(){var a;return function(c){void 0===a&&(a=new b.Matrix4);a.makeRotationZ(c);this.applyMatrix(a);return this}}(),translate:function(){var a;return function(c,
e,d){void 0===a&&(a=new b.Matrix4);a.makeTranslation(c,e,d);this.applyMatrix(a);return this}}(),scale:function(){var a;return function(c,e,d){void 0===a&&(a=new b.Matrix4);a.makeScale(c,e,d);this.applyMatrix(a);return this}}(),lookAt:function(){var a;return function(c){void 0===a&&(a=new b.Object3D);a.lookAt(c);a.updateMatrix();this.applyMatrix(a.matrix)}}(),center:function(){this.computeBoundingBox();var a=this.boundingBox.center().negate();this.translate(a.x,a.y,a.z);return a},setFromObject:function(a){var c=
a.geometry;if(a instanceof b.Points||a instanceof b.Line){a=new b.Float32Attribute(3*c.vertices.length,3);var e=new b.Float32Attribute(3*c.colors.length,3);this.addAttribute("position",a.copyVector3sArray(c.vertices));this.addAttribute("color",e.copyColorsArray(c.colors));c.lineDistances&&c.lineDistances.length===c.vertices.length&&(a=new b.Float32Attribute(c.lineDistances.length,1),this.addAttribute("lineDistance",a.copyArray(c.lineDistances)));null!==c.boundingSphere&&(this.boundingSphere=c.boundingSphere.clone());
null!==c.boundingBox&&(this.boundingBox=c.boundingBox.clone())}else a instanceof b.Mesh&&c instanceof b.Geometry&&this.fromGeometry(c);return this},updateFromObject:function(a){var c=a.geometry;if(a instanceof b.Mesh){var e=c.__directGeometry;if(void 0===e)return this.fromGeometry(c);e.verticesNeedUpdate=c.verticesNeedUpdate;e.normalsNeedUpdate=c.normalsNeedUpdate;e.colorsNeedUpdate=c.colorsNeedUpdate;e.uvsNeedUpdate=c.uvsNeedUpdate;e.groupsNeedUpdate=c.groupsNeedUpdate;c.verticesNeedUpdate=!1;c.normalsNeedUpdate=
!1;c.colorsNeedUpdate=!1;c.uvsNeedUpdate=!1;c.groupsNeedUpdate=!1;c=e}!0===c.verticesNeedUpdate&&(e=this.attributes.position,void 0!==e&&(e.copyVector3sArray(c.vertices),e.needsUpdate=!0),c.verticesNeedUpdate=!1);!0===c.normalsNeedUpdate&&(e=this.attributes.normal,void 0!==e&&(e.copyVector3sArray(c.normals),e.needsUpdate=!0),c.normalsNeedUpdate=!1);!0===c.colorsNeedUpdate&&(e=this.attributes.color,void 0!==e&&(e.copyColorsArray(c.colors),e.needsUpdate=!0),c.colorsNeedUpdate=!1);c.uvsNeedUpdate&&(e=
this.attributes.uv,void 0!==e&&(e.copyVector2sArray(c.uvs),e.needsUpdate=!0),c.uvsNeedUpdate=!1);c.lineDistancesNeedUpdate&&(e=this.attributes.lineDistance,void 0!==e&&(e.copyArray(c.lineDistances),e.needsUpdate=!0),c.lineDistancesNeedUpdate=!1);c.groupsNeedUpdate&&(c.computeGroups(a.geometry),this.groups=c.groups,c.groupsNeedUpdate=!1);return this},fromGeometry:function(a){a.__directGeometry=(new b.DirectGeometry).fromGeometry(a);return this.fromDirectGeometry(a.__directGeometry)},fromDirectGeometry:function(a){var c=
new Float32Array(3*a.vertices.length);this.addAttribute("position",(new b.BufferAttribute(c,3)).copyVector3sArray(a.vertices));0<a.normals.length&&(c=new Float32Array(3*a.normals.length),this.addAttribute("normal",(new b.BufferAttribute(c,3)).copyVector3sArray(a.normals)));0<a.colors.length&&(c=new Float32Array(3*a.colors.length),this.addAttribute("color",(new b.BufferAttribute(c,3)).copyColorsArray(a.colors)));0<a.uvs.length&&(c=new Float32Array(2*a.uvs.length),this.addAttribute("uv",(new b.BufferAttribute(c,
2)).copyVector2sArray(a.uvs)));0<a.uvs2.length&&(c=new Float32Array(2*a.uvs2.length),this.addAttribute("uv2",(new b.BufferAttribute(c,2)).copyVector2sArray(a.uvs2)));0<a.indices.length&&(c=new (65535<a.vertices.length?Uint32Array:Uint16Array)(3*a.indices.length),this.setIndex((new b.BufferAttribute(c,1)).copyIndicesArray(a.indices)));this.groups=a.groups;for(var e in a.morphTargets){for(var c=[],d=a.morphTargets[e],g=0,h=d.length;g<h;g++){var f=d[g],m=new b.Float32Attribute(3*f.length,3);c.push(m.copyVector3sArray(f))}this.morphAttributes[e]=
c}0<a.skinIndices.length&&(e=new b.Float32Attribute(4*a.skinIndices.length,4),this.addAttribute("skinIndex",e.copyVector4sArray(a.skinIndices)));0<a.skinWeights.length&&(e=new b.Float32Attribute(4*a.skinWeights.length,4),this.addAttribute("skinWeight",e.copyVector4sArray(a.skinWeights)));null!==a.boundingSphere&&(this.boundingSphere=a.boundingSphere.clone());null!==a.boundingBox&&(this.boundingBox=a.boundingBox.clone());return this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=
new b.Box3);var a=this.attributes.position.array;void 0!==a?this.boundingBox.setFromArray(a):this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var a=new b.Box3,c=new b.Vector3;return function(){null===this.boundingSphere&&(this.boundingSphere=
new b.Sphere);var e=this.attributes.position.array;if(e){var d=this.boundingSphere.center;a.setFromArray(e);a.center(d);for(var g=0,h=0,f=e.length;h<f;h+=3)c.fromArray(e,h),g=Math.max(g,d.distanceToSquared(c));this.boundingSphere.radius=Math.sqrt(g);isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var a=
this.index,c=this.attributes,e=this.groups;if(c.position){var d=c.position.array;if(void 0===c.normal)this.addAttribute("normal",new b.BufferAttribute(new Float32Array(d.length),3));else for(var g=c.normal.array,h=0,f=g.length;h<f;h++)g[h]=0;var g=c.normal.array,m,r,t,k=new b.Vector3,u=new b.Vector3,q=new b.Vector3,v=new b.Vector3,p=new b.Vector3;if(a){a=a.array;0===e.length&&this.addGroup(0,a.length);for(var n=0,B=e.length;n<B;++n)for(h=e[n],f=h.start,m=h.count,h=f,f+=m;h<f;h+=3)m=3*a[h+0],r=3*a[h+
1],t=3*a[h+2],k.fromArray(d,m),u.fromArray(d,r),q.fromArray(d,t),v.subVectors(q,u),p.subVectors(k,u),v.cross(p),g[m]+=v.x,g[m+1]+=v.y,g[m+2]+=v.z,g[r]+=v.x,g[r+1]+=v.y,g[r+2]+=v.z,g[t]+=v.x,g[t+1]+=v.y,g[t+2]+=v.z}else for(h=0,f=d.length;h<f;h+=9)k.fromArray(d,h),u.fromArray(d,h+3),q.fromArray(d,h+6),v.subVectors(q,u),p.subVectors(k,u),v.cross(p),g[h]=v.x,g[h+1]=v.y,g[h+2]=v.z,g[h+3]=v.x,g[h+4]=v.y,g[h+5]=v.z,g[h+6]=v.x,g[h+7]=v.y,g[h+8]=v.z;this.normalizeNormals();c.normal.needsUpdate=!0}},merge:function(a,
c){if(!1===a instanceof b.BufferGeometry)console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",a);else{void 0===c&&(c=0);var e=this.attributes,d;for(d in e)if(void 0!==a.attributes[d])for(var g=e[d].array,h=a.attributes[d],f=h.array,m=0,h=h.itemSize*c;m<f.length;m++,h++)g[h]=f[m];return this}},normalizeNormals:function(){for(var a=this.attributes.normal.array,c,b,d,g=0,h=a.length;g<h;g+=3)c=a[g],b=a[g+1],d=a[g+2],c=1/Math.sqrt(c*c+b*b+d*d),a[g]*=c,a[g+1]*=
c,a[g+2]*=c},toNonIndexed:function(){if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var a=new b.BufferGeometry,c=this.index.array,e=this.attributes,d;for(d in e){for(var g=e[d],h=g.array,g=g.itemSize,f=new h.constructor(c.length*g),m=0,r=0,t=0,k=c.length;t<k;t++)for(var m=c[t]*g,u=0;u<g;u++)f[r++]=h[m++];a.addAttribute(d,new b.BufferAttribute(f,g))}return a},toJSON:function(){var a={metadata:{version:4.4,type:"BufferGeometry",
generator:"BufferGeometry.toJSON"}};a.uuid=this.uuid;a.type=this.type;""!==this.name&&(a.name=this.name);if(void 0!==this.parameters){var c=this.parameters,b;for(b in c)void 0!==c[b]&&(a[b]=c[b]);return a}a.data={attributes:{}};var d=this.index;null!==d&&(c=Array.prototype.slice.call(d.array),a.data.index={type:d.array.constructor.name,array:c});d=this.attributes;for(b in d){var g=d[b],c=Array.prototype.slice.call(g.array);a.data.attributes[b]={itemSize:g.itemSize,type:g.array.constructor.name,array:c,
normalized:g.normalized}}b=this.groups;0<b.length&&(a.data.groups=JSON.parse(JSON.stringify(b)));b=this.boundingSphere;null!==b&&(a.data.boundingSphere={center:b.center.toArray(),radius:b.radius});return a},clone:function(){return(new b.BufferGeometry).copy(this)},copy:function(a){var c=a.index;null!==c&&this.setIndex(c.clone());var c=a.attributes,b;for(b in c)this.addAttribute(b,c[b].clone());a=a.groups;b=0;for(c=a.length;b<c;b++){var d=a[b];this.addGroup(d.start,d.count,d.materialIndex)}return this},
dispose:function(){this.dispatchEvent({type:"dispose"})}});b.BufferGeometry.MaxIndex=65535;b.InstancedBufferGeometry=function(){b.BufferGeometry.call(this);this.type="InstancedBufferGeometry";this.maxInstancedCount=void 0};b.InstancedBufferGeometry.prototype=Object.create(b.BufferGeometry.prototype);b.InstancedBufferGeometry.prototype.constructor=b.InstancedBufferGeometry;b.InstancedBufferGeometry.prototype.addGroup=function(a,c,b){this.groups.push({start:a,count:c,instances:b})};b.InstancedBufferGeometry.prototype.copy=
function(a){var c=a.index;null!==c&&this.setIndex(c.clone());var c=a.attributes,b;for(b in c)this.addAttribute(b,c[b].clone());a=a.groups;b=0;for(c=a.length;b<c;b++){var d=a[b];this.addGroup(d.start,d.count,d.instances)}return this};b.Uniform=function(a,c){"string"===typeof a&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),a=c);this.value=a;this.dynamic=!1};b.Uniform.prototype={constructor:b.Uniform,onUpdate:function(a){this.dynamic=!0;this.onUpdateCallback=a;return this}};b.AnimationAction=
function(){throw Error("THREE.AnimationAction: Use mixer.clipAction for construction.");};b.AnimationAction._new=function(a,c,e){this._mixer=a;this._clip=c;this._localRoot=e||null;a=c.tracks;c=a.length;e=Array(c);for(var d={endingStart:b.ZeroCurvatureEnding,endingEnd:b.ZeroCurvatureEnding},g=0;g!==c;++g){var h=a[g].createInterpolant(null);e[g]=h;h.settings=d}this._interpolantSettings=d;this._interpolants=e;this._propertyBindings=Array(c);this._weightInterpolant=this._timeScaleInterpolant=this._byClipCacheIndex=
this._cacheIndex=null;this.loop=b.LoopRepeat;this._loopCount=-1;this._startTime=null;this.time=0;this._effectiveWeight=this.weight=this._effectiveTimeScale=this.timeScale=1;this.repetitions=Infinity;this.paused=!1;this.enabled=!0;this.clampWhenFinished=!1;this.zeroSlopeAtEnd=this.zeroSlopeAtStart=!0};b.AnimationAction._new.prototype={constructor:b.AnimationAction._new,play:function(){this._mixer._activateAction(this);return this},stop:function(){this._mixer._deactivateAction(this);return this.reset()},
reset:function(){this.paused=!1;this.enabled=!0;this.time=0;this._loopCount=-1;this._startTime=null;return this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(a){this._startTime=a;return this},setLoop:function(a,c){this.loop=a;this.repetitions=c;return this},setEffectiveWeight:function(a){this.weight=a;
this._effectiveWeight=this.enabled?a:0;return this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(a){return this._scheduleFading(a,0,1)},fadeOut:function(a){return this._scheduleFading(a,1,0)},crossFadeFrom:function(a,c,b){a.fadeOut(c);this.fadeIn(c);if(b){b=this._clip.duration;var d=a._clip.duration,g=b/d;a.warp(1,d/b,c);this.warp(g,1,c)}return this},crossFadeTo:function(a,c,b){return a.crossFadeFrom(this,c,b)},stopFading:function(){var a=this._weightInterpolant;
null!==a&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(a));return this},setEffectiveTimeScale:function(a){this.timeScale=a;this._effectiveTimeScale=this.paused?0:a;return this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(a){this.timeScale=this._clip.duration/a;return this.stopWarping()},syncWith:function(a){this.time=a.time;this.timeScale=a.timeScale;return this.stopWarping()},halt:function(a){return this.warp(this._effectiveTimeScale,
0,a)},warp:function(a,c,b){var d=this._mixer,g=d.time,h=this._timeScaleInterpolant,f=this.timeScale;null===h&&(this._timeScaleInterpolant=h=d._lendControlInterpolant());d=h.parameterPositions;h=h.sampleValues;d[0]=g;d[1]=g+b;h[0]=a/f;h[1]=c/f;return this},stopWarping:function(){var a=this._timeScaleInterpolant;null!==a&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(a));return this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||
this._mixer._root},_update:function(a,c,b,d){var g=this._startTime;if(null!==g){c=(a-g)*b;if(0>c||0===b)return;this._startTime=null;c*=b}c*=this._updateTimeScale(a);b=this._updateTime(c);a=this._updateWeight(a);if(0<a){c=this._interpolants;for(var g=this._propertyBindings,h=0,f=c.length;h!==f;++h)c[h].evaluate(b),g[h].accumulate(d,a)}},_updateWeight:function(a){var c=0;if(this.enabled){var c=this.weight,b=this._weightInterpolant;if(null!==b){var d=b.evaluate(a)[0],c=c*d;a>b.parameterPositions[1]&&
(this.stopFading(),0===d&&(this.enabled=!1))}}return this._effectiveWeight=c},_updateTimeScale:function(a){var c=0;if(!this.paused){var c=this.timeScale,b=this._timeScaleInterpolant;if(null!==b){var d=b.evaluate(a)[0],c=c*d;a>b.parameterPositions[1]&&(this.stopWarping(),0===c?this.paused=!0:this.timeScale=c)}}return this._effectiveTimeScale=c},_updateTime:function(a){var c=this.time+a;if(0===a)return c;var e=this._clip.duration,d=this.loop,g=this._loopCount;if(d===b.LoopOnce)a:{if(-1===g&&(this.loopCount=
0,this._setEndings(!0,!0,!1)),c>=e)c=e;else if(0>c)c=0;else break a;this.clampWhenFinished?this.paused=!0:this.enabled=!1;this._mixer.dispatchEvent({type:"finished",action:this,direction:0>a?-1:1})}else{d=d===b.LoopPingPong;-1===g&&(0<=a?(g=0,this._setEndings(!0,0===this.repetitions,d)):this._setEndings(0===this.repetitions,!0,d));if(c>=e||0>c){var h=Math.floor(c/e),c=c-e*h,g=g+Math.abs(h),f=this.repetitions-g;0>f?(this.clampWhenFinished?this.paused=!0:this.enabled=!1,c=0<a?e:0,this._mixer.dispatchEvent({type:"finished",
action:this,direction:0<a?1:-1})):(0===f?(a=0>a,this._setEndings(a,!a,d)):this._setEndings(!1,!1,d),this._loopCount=g,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:h}))}if(d&&1===(g&1))return this.time=c,e-c}return this.time=c},_setEndings:function(a,c,e){var d=this._interpolantSettings;e?(d.endingStart=b.ZeroSlopeEnding,d.endingEnd=b.ZeroSlopeEnding):(d.endingStart=a?this.zeroSlopeAtStart?b.ZeroSlopeEnding:b.ZeroCurvatureEnding:b.WrapAroundEnding,d.endingEnd=c?this.zeroSlopeAtEnd?
b.ZeroSlopeEnding:b.ZeroCurvatureEnding:b.WrapAroundEnding)},_scheduleFading:function(a,c,b){var d=this._mixer,g=d.time,h=this._weightInterpolant;null===h&&(this._weightInterpolant=h=d._lendControlInterpolant());d=h.parameterPositions;h=h.sampleValues;d[0]=g;h[0]=c;d[1]=g+a;h[1]=b;return this}};b.AnimationClip=function(a,c,e){this.name=a;this.tracks=e;this.duration=void 0!==c?c:-1;this.uuid=b.Math.generateUUID();0>this.duration&&this.resetDuration();this.trim();this.optimize()};b.AnimationClip.prototype=
{constructor:b.AnimationClip,resetDuration:function(){for(var a=0,c=0,b=this.tracks.length;c!==b;++c)var d=this.tracks[c],a=Math.max(a,d.times[d.times.length-1]);this.duration=a},trim:function(){for(var a=0;a<this.tracks.length;a++)this.tracks[a].trim(0,this.duration);return this},optimize:function(){for(var a=0;a<this.tracks.length;a++)this.tracks[a].optimize();return this}};Object.assign(b.AnimationClip,{parse:function(a){for(var c=[],e=a.tracks,d=1/(a.fps||1),g=0,h=e.length;g!==h;++g)c.push(b.KeyframeTrack.parse(e[g]).scale(d));
return new b.AnimationClip(a.name,a.duration,c)},toJSON:function(a){var c=[],e=a.tracks;a={name:a.name,duration:a.duration,tracks:c};for(var d=0,g=e.length;d!==g;++d)c.push(b.KeyframeTrack.toJSON(e[d]));return a},CreateFromMorphTargetSequence:function(a,c,e,d){for(var g=c.length,h=[],f=0;f<g;f++){var m=[],r=[];m.push((f+g-1)%g,f,(f+1)%g);r.push(0,1,0);var t=b.AnimationUtils.getKeyframeOrder(m),m=b.AnimationUtils.sortedArray(m,1,t),r=b.AnimationUtils.sortedArray(r,1,t);d||0!==m[0]||(m.push(g),r.push(r[0]));
h.push((new b.NumberKeyframeTrack(".morphTargetInfluences["+c[f].name+"]",m,r)).scale(1/e))}return new b.AnimationClip(a,-1,h)},findByName:function(a,c){var b=a;Array.isArray(a)||(b=a.geometry&&a.geometry.animations||a.animations);for(var d=0;d<b.length;d++)if(b[d].name===c)return b[d];return null},CreateClipsFromMorphTargetSequences:function(a,c,e){for(var d={},g=/^([\w-]*?)([\d]+)$/,h=0,f=a.length;h<f;h++){var m=a[h],r=m.name.match(g);if(r&&1<r.length){var t=r[1];(r=d[t])||(d[t]=r=[]);r.push(m)}}a=
[];for(t in d)a.push(b.AnimationClip.CreateFromMorphTargetSequence(t,d[t],c,e));return a},parseAnimation:function(a,c,e){if(!a)return console.error("  no animation in JSONLoader data"),null;e=function(a,c,e,d,g){if(0!==e.length){var h=[],f=[];b.AnimationUtils.flattenJSON(e,h,f,d);0!==h.length&&g.push(new a(c,h,f))}};var d=[],g=a.name||"default",h=a.length||-1,f=a.fps||30;a=a.hierarchy||[];for(var m=0;m<a.length;m++){var r=a[m].keys;if(r&&0!==r.length)if(r[0].morphTargets){for(var h={},t=0;t<r.length;t++)if(r[t].morphTargets)for(var k=
0;k<r[t].morphTargets.length;k++)h[r[t].morphTargets[k]]=-1;for(var u in h){for(var q=[],v=[],k=0;k!==r[t].morphTargets.length;++k){var p=r[t];q.push(p.time);v.push(p.morphTarget===u?1:0)}d.push(new b.NumberKeyframeTrack(".morphTargetInfluence["+u+"]",q,v))}h=h.length*(f||1)}else t=".bones["+c[m].name+"]",e(b.VectorKeyframeTrack,t+".position",r,"pos",d),e(b.QuaternionKeyframeTrack,t+".quaternion",r,"rot",d),e(b.VectorKeyframeTrack,t+".scale",r,"scl",d)}return 0===d.length?null:new b.AnimationClip(g,
h,d)}});b.AnimationMixer=function(a){this._root=a;this._initMemoryManager();this.time=this._accuIndex=0;this.timeScale=1};Object.assign(b.AnimationMixer.prototype,b.EventDispatcher.prototype,{clipAction:function(a,c){var e=c||this._root,d=e.uuid,g="string"===typeof a?b.AnimationClip.findByName(e,a):a,e=null!==g?g.uuid:a,h=this._actionsByClip[e],f=null;if(void 0!==h){f=h.actionByRoot[d];if(void 0!==f)return f;f=h.knownActions[0];null===g&&(g=f._clip)}if(null===g)return null;g=new b.AnimationMixer._Action(this,
g,c);this._bindAction(g,f);this._addInactiveAction(g,e,d);return g},existingAction:function(a,c){var e=c||this._root,d=e.uuid,e="string"===typeof a?b.AnimationClip.findByName(e,a):a,e=this._actionsByClip[e?e.uuid:a];return void 0!==e?e.actionByRoot[d]||null:null},stopAllAction:function(){for(var a=this._actions,c=this._nActiveActions,b=this._bindings,d=this._nActiveBindings,g=this._nActiveBindings=this._nActiveActions=0;g!==c;++g)a[g].reset();for(g=0;g!==d;++g)b[g].useCount=0;return this},update:function(a){a*=
this.timeScale;for(var c=this._actions,b=this._nActiveActions,d=this.time+=a,g=Math.sign(a),h=this._accuIndex^=1,f=0;f!==b;++f){var m=c[f];m.enabled&&m._update(d,a,g,h)}a=this._bindings;c=this._nActiveBindings;for(f=0;f!==c;++f)a[f].apply(h);return this},getRoot:function(){return this._root},uncacheClip:function(a){var c=this._actions;a=a.uuid;var b=this._actionsByClip,d=b[a];if(void 0!==d){for(var d=d.knownActions,g=0,h=d.length;g!==h;++g){var f=d[g];this._deactivateAction(f);var m=f._cacheIndex,
r=c[c.length-1];f._cacheIndex=null;f._byClipCacheIndex=null;r._cacheIndex=m;c[m]=r;c.pop();this._removeInactiveBindingsForAction(f)}delete b[a]}},uncacheRoot:function(a){a=a.uuid;var c=this._actionsByClip,b;for(b in c){var d=c[b].actionByRoot[a];void 0!==d&&(this._deactivateAction(d),this._removeInactiveAction(d))}b=this._bindingsByRootAndName[a];if(void 0!==b)for(var g in b)a=b[g],a.restoreOriginalState(),this._removeInactiveBinding(a)},uncacheAction:function(a,c){var b=this.existingAction(a,c);
null!==b&&(this._deactivateAction(b),this._removeInactiveAction(b))}});b.AnimationMixer._Action=b.AnimationAction._new;Object.assign(b.AnimationMixer.prototype,{_bindAction:function(a,c){var e=a._localRoot||this._root,d=a._clip.tracks,g=d.length,h=a._propertyBindings,f=a._interpolants,m=e.uuid,r=this._bindingsByRootAndName,t=r[m];void 0===t&&(t={},r[m]=t);for(r=0;r!==g;++r){var k=d[r],u=k.name,q=t[u];if(void 0===q){q=h[r];if(void 0!==q){null===q._cacheIndex&&(++q.referenceCount,this._addInactiveBinding(q,
m,u));continue}q=new b.PropertyMixer(b.PropertyBinding.create(e,u,c&&c._propertyBindings[r].binding.parsedPath),k.ValueTypeName,k.getValueSize());++q.referenceCount;this._addInactiveBinding(q,m,u)}h[r]=q;f[r].resultBuffer=q.buffer}},_activateAction:function(a){if(!this._isActiveAction(a)){if(null===a._cacheIndex){var c=(a._localRoot||this._root).uuid,b=a._clip.uuid,d=this._actionsByClip[b];this._bindAction(a,d&&d.knownActions[0]);this._addInactiveAction(a,b,c)}c=a._propertyBindings;b=0;for(d=c.length;b!==
d;++b){var g=c[b];0===g.useCount++&&(this._lendBinding(g),g.saveOriginalState())}this._lendAction(a)}},_deactivateAction:function(a){if(this._isActiveAction(a)){for(var c=a._propertyBindings,b=0,d=c.length;b!==d;++b){var g=c[b];0===--g.useCount&&(g.restoreOriginalState(),this._takeBackBinding(g))}this._takeBackAction(a)}},_initMemoryManager:function(){this._actions=[];this._nActiveActions=0;this._actionsByClip={};this._bindings=[];this._nActiveBindings=0;this._bindingsByRootAndName={};this._controlInterpolants=
[];this._nActiveControlInterpolants=0;var a=this;this.stats={actions:{get total(){return a._actions.length},get inUse(){return a._nActiveActions}},bindings:{get total(){return a._bindings.length},get inUse(){return a._nActiveBindings}},controlInterpolants:{get total(){return a._controlInterpolants.length},get inUse(){return a._nActiveControlInterpolants}}}},_isActiveAction:function(a){a=a._cacheIndex;return null!==a&&a<this._nActiveActions},_addInactiveAction:function(a,c,b){var d=this._actions,g=
this._actionsByClip,h=g[c];void 0===h?(h={knownActions:[a],actionByRoot:{}},a._byClipCacheIndex=0,g[c]=h):(c=h.knownActions,a._byClipCacheIndex=c.length,c.push(a));a._cacheIndex=d.length;d.push(a);h.actionByRoot[b]=a},_removeInactiveAction:function(a){var c=this._actions,b=c[c.length-1],d=a._cacheIndex;b._cacheIndex=d;c[d]=b;c.pop();a._cacheIndex=null;var b=a._clip.uuid,d=this._actionsByClip,g=d[b],h=g.knownActions,f=h[h.length-1],m=a._byClipCacheIndex;f._byClipCacheIndex=m;h[m]=f;h.pop();a._byClipCacheIndex=
null;delete g.actionByRoot[(c._localRoot||this._root).uuid];0===h.length&&delete d[b];this._removeInactiveBindingsForAction(a)},_removeInactiveBindingsForAction:function(a){a=a._propertyBindings;for(var c=0,b=a.length;c!==b;++c){var d=a[c];0===--d.referenceCount&&this._removeInactiveBinding(d)}},_lendAction:function(a){var c=this._actions,b=a._cacheIndex,d=this._nActiveActions++,g=c[d];a._cacheIndex=d;c[d]=a;g._cacheIndex=b;c[b]=g},_takeBackAction:function(a){var c=this._actions,b=a._cacheIndex,d=
--this._nActiveActions,g=c[d];a._cacheIndex=d;c[d]=a;g._cacheIndex=b;c[b]=g},_addInactiveBinding:function(a,c,b){var d=this._bindingsByRootAndName,g=d[c],h=this._bindings;void 0===g&&(g={},d[c]=g);g[b]=a;a._cacheIndex=h.length;h.push(a)},_removeInactiveBinding:function(a){var c=this._bindings,b=a.binding,d=b.rootNode.uuid,b=b.path,g=this._bindingsByRootAndName,h=g[d],f=c[c.length-1];a=a._cacheIndex;f._cacheIndex=a;c[a]=f;c.pop();delete h[b];a:{for(var m in h)break a;delete g[d]}},_lendBinding:function(a){var c=
this._bindings,b=a._cacheIndex,d=this._nActiveBindings++,g=c[d];a._cacheIndex=d;c[d]=a;g._cacheIndex=b;c[b]=g},_takeBackBinding:function(a){var c=this._bindings,b=a._cacheIndex,d=--this._nActiveBindings,g=c[d];a._cacheIndex=d;c[d]=a;g._cacheIndex=b;c[b]=g},_lendControlInterpolant:function(){var a=this._controlInterpolants,c=this._nActiveControlInterpolants++,e=a[c];void 0===e&&(e=new b.LinearInterpolant(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),e.__cacheIndex=
c,a[c]=e);return e},_takeBackControlInterpolant:function(a){var c=this._controlInterpolants,b=a.__cacheIndex,d=--this._nActiveControlInterpolants,g=c[d];a.__cacheIndex=d;c[d]=a;g.__cacheIndex=b;c[b]=g},_controlInterpolantsResultBuffer:new Float32Array(1)});b.AnimationObjectGroup=function(a){this.uuid=b.Math.generateUUID();this._objects=Array.prototype.slice.call(arguments);this.nCachedObjects_=0;var c={};this._indicesByUUID=c;for(var e=0,d=arguments.length;e!==d;++e)c[arguments[e].uuid]=e;this._paths=
[];this._parsedPaths=[];this._bindings=[];this._bindingsIndicesByPath={};var g=this;this.stats={objects:{get total(){return g._objects.length},get inUse(){return this.total-g.nCachedObjects_}},get bindingsPerObject(){return g._bindings.length}}};b.AnimationObjectGroup.prototype={constructor:b.AnimationObjectGroup,add:function(a){for(var c=this._objects,e=c.length,d=this.nCachedObjects_,g=this._indicesByUUID,h=this._paths,f=this._parsedPaths,m=this._bindings,r=m.length,t=0,k=arguments.length;t!==k;++t){var u=
arguments[t],q=u.uuid,v=g[q];if(void 0===v){v=e++;g[q]=v;c.push(u);for(var q=0,p=r;q!==p;++q)m[q].push(new b.PropertyBinding(u,h[q],f[q]))}else if(v<d){var n=c[v],B=--d,p=c[B];g[p.uuid]=v;c[v]=p;g[q]=B;c[B]=u;q=0;for(p=r;q!==p;++q){var A=m[q],C=A[v];A[v]=A[B];void 0===C&&(C=new b.PropertyBinding(u,h[q],f[q]));A[B]=C}}else c[v]!==n&&console.error("Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes...")}this.nCachedObjects_=d},remove:function(a){for(var c=
this._objects,b=this.nCachedObjects_,d=this._indicesByUUID,g=this._bindings,h=g.length,f=0,m=arguments.length;f!==m;++f){var r=arguments[f],t=r.uuid,k=d[t];if(void 0!==k&&k>=b){var u=b++,q=c[u];d[q.uuid]=k;c[k]=q;d[t]=u;c[u]=r;r=0;for(t=h;r!==t;++r){var q=g[r],v=q[k];q[k]=q[u];q[u]=v}}}this.nCachedObjects_=b},uncache:function(a){for(var c=this._objects,b=c.length,d=this.nCachedObjects_,g=this._indicesByUUID,h=this._bindings,f=h.length,m=0,r=arguments.length;m!==r;++m){var t=arguments[m].uuid,k=g[t];
if(void 0!==k)if(delete g[t],k<d){var t=--d,u=c[t],q=--b,v=c[q];g[u.uuid]=k;c[k]=u;g[v.uuid]=t;c[t]=v;c.pop();u=0;for(v=f;u!==v;++u){var p=h[u],n=p[q];p[k]=p[t];p[t]=n;p.pop()}}else for(q=--b,v=c[q],g[v.uuid]=k,c[k]=v,c.pop(),u=0,v=f;u!==v;++u)p=h[u],p[k]=p[q],p.pop()}this.nCachedObjects_=d},subscribe_:function(a,c){var e=this._bindingsIndicesByPath,d=e[a],g=this._bindings;if(void 0!==d)return g[d];var h=this._paths,f=this._parsedPaths,m=this._objects,r=this.nCachedObjects_,t=Array(m.length),d=g.length;
e[a]=d;h.push(a);f.push(c);g.push(t);e=r;for(d=m.length;e!==d;++e)t[e]=new b.PropertyBinding(m[e],a,c);return t},unsubscribe_:function(a){var c=this._bindingsIndicesByPath,b=c[a];if(void 0!==b){var d=this._paths,g=this._parsedPaths,h=this._bindings,f=h.length-1,m=h[f];c[a[f]]=b;h[b]=m;h.pop();g[b]=g[f];g.pop();d[b]=d[f];d.pop()}}};b.AnimationUtils={arraySlice:function(a,c,e){return b.AnimationUtils.isTypedArray(a)?new a.constructor(a.subarray(c,e)):a.slice(c,e)},convertArray:function(a,c,b){return!a||
!b&&a.constructor===c?a:"number"===typeof c.BYTES_PER_ELEMENT?new c(a):Array.prototype.slice.call(a)},isTypedArray:function(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)},getKeyframeOrder:function(a){for(var c=a.length,b=Array(c),d=0;d!==c;++d)b[d]=d;b.sort(function(c,b){return a[c]-a[b]});return b},sortedArray:function(a,c,b){for(var d=a.length,g=new a.constructor(d),h=0,f=0;f!==d;++h)for(var m=b[h]*c,r=0;r!==c;++r)g[f++]=a[m+r];return g},flattenJSON:function(a,c,b,d){for(var g=1,h=a[0];void 0!==
h&&void 0===h[d];)h=a[g++];if(void 0!==h){var f=h[d];if(void 0!==f)if(Array.isArray(f)){do f=h[d],void 0!==f&&(c.push(h.time),b.push.apply(b,f)),h=a[g++];while(void 0!==h)}else if(void 0!==f.toArray){do f=h[d],void 0!==f&&(c.push(h.time),f.toArray(b,b.length)),h=a[g++];while(void 0!==h)}else{do f=h[d],void 0!==f&&(c.push(h.time),b.push(f)),h=a[g++];while(void 0!==h)}}}};b.KeyframeTrack=function(a,c,e,d){if(void 0===a)throw Error("track name is undefined");if(void 0===c||0===c.length)throw Error("no keyframes in track named "+
a);this.name=a;this.times=b.AnimationUtils.convertArray(c,this.TimeBufferType);this.values=b.AnimationUtils.convertArray(e,this.ValueBufferType);this.setInterpolation(d||this.DefaultInterpolation);this.validate();this.optimize()};b.KeyframeTrack.prototype={constructor:b.KeyframeTrack,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:b.InterpolateLinear,InterpolantFactoryMethodDiscrete:function(a){return new b.DiscreteInterpolant(this.times,this.values,this.getValueSize(),
a)},InterpolantFactoryMethodLinear:function(a){return new b.LinearInterpolant(this.times,this.values,this.getValueSize(),a)},InterpolantFactoryMethodSmooth:function(a){return new b.CubicInterpolant(this.times,this.values,this.getValueSize(),a)},setInterpolation:function(a){var c;switch(a){case b.InterpolateDiscrete:c=this.InterpolantFactoryMethodDiscrete;break;case b.InterpolateLinear:c=this.InterpolantFactoryMethodLinear;break;case b.InterpolateSmooth:c=this.InterpolantFactoryMethodSmooth}if(void 0===
c){c="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant)if(a!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw Error(c);console.warn(c)}else this.createInterpolant=c},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return b.InterpolateDiscrete;case this.InterpolantFactoryMethodLinear:return b.InterpolateLinear;case this.InterpolantFactoryMethodSmooth:return b.InterpolateSmooth}},
getValueSize:function(){return this.values.length/this.times.length},shift:function(a){if(0!==a)for(var c=this.times,b=0,d=c.length;b!==d;++b)c[b]+=a;return this},scale:function(a){if(1!==a)for(var c=this.times,b=0,d=c.length;b!==d;++b)c[b]*=a;return this},trim:function(a,c){for(var e=this.times,d=e.length,g=0,h=d-1;g!==d&&e[g]<a;)++g;for(;-1!==h&&e[h]>c;)--h;++h;if(0!==g||h!==d)g>=h&&(h=Math.max(h,1),g=h-1),d=this.getValueSize(),this.times=b.AnimationUtils.arraySlice(e,g,h),this.values=b.AnimationUtils.arraySlice(this.values,
g*d,h*d);return this},validate:function(){var a=!0,c=this.getValueSize();0!==c-Math.floor(c)&&(console.error("invalid value size in track",this),a=!1);var e=this.times,c=this.values,d=e.length;0===d&&(console.error("track is empty",this),a=!1);for(var g=null,h=0;h!==d;h++){var f=e[h];if("number"===typeof f&&isNaN(f)){console.error("time is not a valid number",this,h,f);a=!1;break}if(null!==g&&g>f){console.error("out of order keys",this,h,f,g);a=!1;break}g=f}if(void 0!==c&&b.AnimationUtils.isTypedArray(c))for(h=
0,e=c.length;h!==e;++h)if(d=c[h],isNaN(d)){console.error("value is not a valid number",this,h,d);a=!1;break}return a},optimize:function(){for(var a=this.times,c=this.values,e=this.getValueSize(),d=1,g=1,h=a.length-1;g<=h;++g){var f=!1,m=a[g];if(m!==a[g+1]&&(1!==g||m!==m[0]))for(var r=g*e,t=r-e,k=r+e,m=0;m!==e;++m){var u=c[r+m];if(u!==c[t+m]||u!==c[k+m]){f=!0;break}}if(f){if(g!==d)for(a[d]=a[g],f=g*e,r=d*e,m=0;m!==e;++m)c[r+m]=c[f+m];++d}}d!==a.length&&(this.times=b.AnimationUtils.arraySlice(a,0,d),
this.values=b.AnimationUtils.arraySlice(c,0,d*e));return this}};Object.assign(b.KeyframeTrack,{parse:function(a){if(void 0===a.type)throw Error("track type undefined, can not parse");var c=b.KeyframeTrack._getTrackTypeForValueTypeName(a.type);if(void 0===a.times){var e=[],d=[];b.AnimationUtils.flattenJSON(a.keys,e,d,"value");a.times=e;a.values=d}return void 0!==c.parse?c.parse(a):new c(a.name,a.times,a.values,a.interpolation)},toJSON:function(a){var c=a.constructor;if(void 0!==c.toJSON)c=c.toJSON(a);
else{var c={name:a.name,times:b.AnimationUtils.convertArray(a.times,Array),values:b.AnimationUtils.convertArray(a.values,Array)},e=a.getInterpolation();e!==a.DefaultInterpolation&&(c.interpolation=e)}c.type=a.ValueTypeName;return c},_getTrackTypeForValueTypeName:function(a){switch(a.toLowerCase()){case "scalar":case "double":case "float":case "number":case "integer":return b.NumberKeyframeTrack;case "vector":case "vector2":case "vector3":case "vector4":return b.VectorKeyframeTrack;case "color":return b.ColorKeyframeTrack;
case "quaternion":return b.QuaternionKeyframeTrack;case "bool":case "boolean":return b.BooleanKeyframeTrack;case "string":return b.StringKeyframeTrack}throw Error("Unsupported typeName: "+a);}});b.PropertyBinding=function(a,c,e){this.path=c;this.parsedPath=e||b.PropertyBinding.parseTrackName(c);this.node=b.PropertyBinding.findNode(a,this.parsedPath.nodeName)||a;this.rootNode=a};b.PropertyBinding.prototype={constructor:b.PropertyBinding,getValue:function(a,c){this.bind();this.getValue(a,c)},setValue:function(a,
c){this.bind();this.setValue(a,c)},bind:function(){var a=this.node,c=this.parsedPath,e=c.objectName,d=c.propertyName,g=c.propertyIndex;a||(this.node=a=b.PropertyBinding.findNode(this.rootNode,c.nodeName)||this.rootNode);this.getValue=this._getValue_unavailable;this.setValue=this._setValue_unavailable;if(a){if(e){var h=c.objectIndex;switch(e){case "materials":if(!a.material){console.error("  can not bind to material as node does not have a material",this);return}if(!a.material.materials){console.error("  can not bind to material.materials as node.material does not have a materials array",
this);return}a=a.material.materials;break;case "bones":if(!a.skeleton){console.error("  can not bind to bones as node does not have a skeleton",this);return}a=a.skeleton.bones;for(e=0;e<a.length;e++)if(a[e].name===h){h=e;break}break;default:if(void 0===a[e]){console.error("  can not bind to objectName of node, undefined",this);return}a=a[e]}if(void 0!==h){if(void 0===a[h]){console.error("  trying to bind to objectIndex of objectName, but is undefined:",this,a);return}a=a[h]}}if(h=a[d]){c=this.Versioning.None;
void 0!==a.needsUpdate?(c=this.Versioning.NeedsUpdate,this.targetObject=a):void 0!==a.matrixWorldNeedsUpdate&&(c=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=a);e=this.BindingType.Direct;if(void 0!==g){if("morphTargetInfluences"===d){if(!a.geometry){console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry",this);return}if(!a.geometry.morphTargets){console.error("  can not bind to morphTargetInfluences becasuse node does not have a geometry.morphTargets",
this);return}for(e=0;e<this.node.geometry.morphTargets.length;e++)if(a.geometry.morphTargets[e].name===g){g=e;break}}e=this.BindingType.ArrayElement;this.resolvedProperty=h;this.propertyIndex=g}else void 0!==h.fromArray&&void 0!==h.toArray?(e=this.BindingType.HasFromToArray,this.resolvedProperty=h):void 0!==h.length?(e=this.BindingType.EntireArray,this.resolvedProperty=h):this.propertyName=d;this.getValue=this.GetterByBindingType[e];this.setValue=this.SetterByBindingTypeAndVersioning[e][c]}else console.error("  trying to update property for track: "+
c.nodeName+"."+d+" but it wasn't found.",a)}else console.error("  trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null;this.getValue=this._getValue_unbound;this.setValue=this._setValue_unbound}};Object.assign(b.PropertyBinding.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},_getValue_unbound:b.PropertyBinding.prototype.getValue,_setValue_unbound:b.PropertyBinding.prototype.setValue,BindingType:{Direct:0,EntireArray:1,
ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(a,c){a[c]=this.node[this.propertyName]},function(a,c){for(var b=this.resolvedProperty,d=0,g=b.length;d!==g;++d)a[c++]=b[d]},function(a,c){a[c]=this.resolvedProperty[this.propertyIndex]},function(a,c){this.resolvedProperty.toArray(a,c)}],SetterByBindingTypeAndVersioning:[[function(a,c){this.node[this.propertyName]=a[c]},function(a,c){this.node[this.propertyName]=a[c];this.targetObject.needsUpdate=
!0},function(a,c){this.node[this.propertyName]=a[c];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(a,c){for(var b=this.resolvedProperty,d=0,g=b.length;d!==g;++d)b[d]=a[c++]},function(a,c){for(var b=this.resolvedProperty,d=0,g=b.length;d!==g;++d)b[d]=a[c++];this.targetObject.needsUpdate=!0},function(a,c){for(var b=this.resolvedProperty,d=0,g=b.length;d!==g;++d)b[d]=a[c++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(a,c){this.resolvedProperty[this.propertyIndex]=a[c]},function(a,
c){this.resolvedProperty[this.propertyIndex]=a[c];this.targetObject.needsUpdate=!0},function(a,c){this.resolvedProperty[this.propertyIndex]=a[c];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(a,c){this.resolvedProperty.fromArray(a,c)},function(a,c){this.resolvedProperty.fromArray(a,c);this.targetObject.needsUpdate=!0},function(a,c){this.resolvedProperty.fromArray(a,c);this.targetObject.matrixWorldNeedsUpdate=!0}]]});b.PropertyBinding.Composite=function(a,c,e){e=e||b.PropertyBinding.parseTrackName(c);
this._targetGroup=a;this._bindings=a.subscribe_(c,e)};b.PropertyBinding.Composite.prototype={constructor:b.PropertyBinding.Composite,getValue:function(a,c){this.bind();var b=this._bindings[this._targetGroup.nCachedObjects_];void 0!==b&&b.getValue(a,c)},setValue:function(a,c){for(var b=this._bindings,d=this._targetGroup.nCachedObjects_,g=b.length;d!==g;++d)b[d].setValue(a,c)},bind:function(){for(var a=this._bindings,c=this._targetGroup.nCachedObjects_,b=a.length;c!==b;++c)a[c].bind()},unbind:function(){for(var a=
this._bindings,c=this._targetGroup.nCachedObjects_,b=a.length;c!==b;++c)a[c].unbind()}};b.PropertyBinding.create=function(a,c,e){return a instanceof b.AnimationObjectGroup?new b.PropertyBinding.Composite(a,c,e):new b.PropertyBinding(a,c,e)};b.PropertyBinding.parseTrackName=function(a){var c=/^(([\w]+\/)*)([\w-\d]+)?(\.([\w]+)(\[([\w\d\[\]\_.:\- ]+)\])?)?(\.([\w.]+)(\[([\w\d\[\]\_. ]+)\])?)$/,b=c.exec(a);if(!b)throw Error("cannot parse trackName at all: "+a);b.index===c.lastIndex&&c.lastIndex++;c=
{nodeName:b[3],objectName:b[5],objectIndex:b[7],propertyName:b[9],propertyIndex:b[11]};if(null===c.propertyName||0===c.propertyName.length)throw Error("can not parse propertyName from trackName: "+a);return c};b.PropertyBinding.findNode=function(a,c){if(!c||""===c||"root"===c||"."===c||-1===c||c===a.name||c===a.uuid)return a;if(a.skeleton){var b=function(a){for(var b=0;b<a.bones.length;b++){var e=a.bones[b];if(e.name===c)return e}return null}(a.skeleton);if(b)return b}return a.children&&(b=function g(a){for(var b=
0;b<a.length;b++){var e=a[b];if(e.name===c||e.uuid===c||(e=g(e.children)))return e}return null}(a.children))?b:null};b.PropertyMixer=function(a,c,b){this.binding=a;this.valueSize=b;a=Float64Array;switch(c){case "quaternion":c=this._slerp;break;case "string":case "bool":a=Array;c=this._select;break;default:c=this._lerp}this.buffer=new a(4*b);this._mixBufferRegion=c;this.referenceCount=this.useCount=this.cumulativeWeight=0};b.PropertyMixer.prototype={constructor:b.PropertyMixer,accumulate:function(a,
c){var b=this.buffer,d=this.valueSize,g=a*d+d,h=this.cumulativeWeight;if(0===h){for(h=0;h!==d;++h)b[g+h]=b[h];h=c}else h+=c,this._mixBufferRegion(b,g,0,c/h,d);this.cumulativeWeight=h},apply:function(a){var c=this.valueSize,b=this.buffer;a=a*c+c;var d=this.cumulativeWeight,g=this.binding;this.cumulativeWeight=0;1>d&&this._mixBufferRegion(b,a,3*c,1-d,c);for(var d=c,h=c+c;d!==h;++d)if(b[d]!==b[d+c]){g.setValue(b,a);break}},saveOriginalState:function(){var a=this.buffer,c=this.valueSize,b=3*c;this.binding.getValue(a,
b);for(var d=c;d!==b;++d)a[d]=a[b+d%c];this.cumulativeWeight=0},restoreOriginalState:function(){this.binding.setValue(this.buffer,3*this.valueSize)},_select:function(a,c,b,d,g){if(.5<=d)for(d=0;d!==g;++d)a[c+d]=a[b+d]},_slerp:function(a,c,e,d,g){b.Quaternion.slerpFlat(a,c,a,c,a,e,d)},_lerp:function(a,c,b,d,g){for(var h=1-d,f=0;f!==g;++f){var m=c+f;a[m]=a[m]*h+a[b+f]*d}}};b.BooleanKeyframeTrack=function(a,c,e){b.KeyframeTrack.call(this,a,c,e)};b.BooleanKeyframeTrack.prototype=Object.assign(Object.create(b.KeyframeTrack.prototype),
{constructor:b.BooleanKeyframeTrack,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:b.InterpolateDiscrete,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});b.ColorKeyframeTrack=function(a,c,e,d){b.KeyframeTrack.call(this,a,c,e,d)};b.ColorKeyframeTrack.prototype=Object.assign(Object.create(b.KeyframeTrack.prototype),{constructor:b.ColorKeyframeTrack,ValueTypeName:"color"});b.NumberKeyframeTrack=function(a,c,e,d){b.KeyframeTrack.call(this,a,c,e,d)};b.NumberKeyframeTrack.prototype=
Object.assign(Object.create(b.KeyframeTrack.prototype),{constructor:b.NumberKeyframeTrack,ValueTypeName:"number"});b.QuaternionKeyframeTrack=function(a,c,e,d){b.KeyframeTrack.call(this,a,c,e,d)};b.QuaternionKeyframeTrack.prototype=Object.assign(Object.create(b.KeyframeTrack.prototype),{constructor:b.QuaternionKeyframeTrack,ValueTypeName:"quaternion",DefaultInterpolation:b.InterpolateLinear,InterpolantFactoryMethodLinear:function(a){return new b.QuaternionLinearInterpolant(this.times,this.values,this.getValueSize(),
a)},InterpolantFactoryMethodSmooth:void 0});b.StringKeyframeTrack=function(a,c,e,d){b.KeyframeTrack.call(this,a,c,e,d)};b.StringKeyframeTrack.prototype=Object.assign(Object.create(b.KeyframeTrack.prototype),{constructor:b.StringKeyframeTrack,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:b.InterpolateDiscrete,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0});b.VectorKeyframeTrack=function(a,c,e,d){b.KeyframeTrack.call(this,a,c,e,d)};b.VectorKeyframeTrack.prototype=
Object.assign(Object.create(b.KeyframeTrack.prototype),{constructor:b.VectorKeyframeTrack,ValueTypeName:"vector"});b.Audio=function(a){b.Object3D.call(this);this.type="Audio";this.context=a.context;this.source=this.context.createBufferSource();this.source.onended=this.onEnded.bind(this);this.gain=this.context.createGain();this.gain.connect(a.getInput());this.autoplay=!1;this.startTime=0;this.playbackRate=1;this.isPlaying=!1;this.hasPlaybackControl=!0;this.sourceType="empty";this.filters=[]};b.Audio.prototype=
Object.assign(Object.create(b.Object3D.prototype),{constructor:b.Audio,getOutput:function(){return this.gain},setNodeSource:function(a){this.hasPlaybackControl=!1;this.sourceType="audioNode";this.source=a;this.connect();return this},setBuffer:function(a){this.source.buffer=a;this.sourceType="buffer";this.autoplay&&this.play();return this},play:function(){if(!0===this.isPlaying)console.warn("THREE.Audio: Audio is already playing.");else if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");
else{var a=this.context.createBufferSource();a.buffer=this.source.buffer;a.loop=this.source.loop;a.onended=this.source.onended;a.start(0,this.startTime);a.playbackRate.value=this.playbackRate;this.isPlaying=!0;this.source=a;return this.connect()}},pause:function(){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");else return this.source.stop(),this.startTime=this.context.currentTime,this},stop:function(){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");
else return this.source.stop(),this.startTime=0,this},connect:function(){if(0<this.filters.length){this.source.connect(this.filters[0]);for(var a=1,b=this.filters.length;a<b;a++)this.filters[a-1].connect(this.filters[a]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(0<this.filters.length){this.source.disconnect(this.filters[0]);for(var a=1,b=this.filters.length;a<b;a++)this.filters[a-1].disconnect(this.filters[a]);
this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(a){a||(a=[]);!0===this.isPlaying?(this.disconnect(),this.filters=a,this.connect()):this.filters=a;return this},getFilter:function(){return this.getFilters()[0]},setFilter:function(a){return this.setFilters(a?[a]:[])},setPlaybackRate:function(a){if(!1===this.hasPlaybackControl)console.warn("THREE.Audio: this Audio has no playback control.");
else return this.playbackRate=a,!0===this.isPlaying&&(this.source.playbackRate.value=this.playbackRate),this},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.source.loop},setLoop:function(a){!1===this.hasPlaybackControl?console.warn("THREE.Audio: this Audio has no playback control."):this.source.loop=a},getVolume:function(){return this.gain.gain.value},
setVolume:function(a){this.gain.gain.value=a;return this}});b.AudioAnalyser=function(a,b){this.analyser=a.context.createAnalyser();this.analyser.fftSize=void 0!==b?b:2048;this.data=new Uint8Array(this.analyser.frequencyBinCount);a.getOutput().connect(this.analyser)};Object.assign(b.AudioAnalyser.prototype,{getFrequencyData:function(){this.analyser.getByteFrequencyData(this.data);return this.data},getAverageFrequency:function(){for(var a=0,b=this.getFrequencyData(),e=0;e<b.length;e++)a+=b[e];return a/
b.length}});Object.defineProperty(b,"AudioContext",{get:function(){var a;return function(){void 0===a&&(a=new (window.AudioContext||window.webkitAudioContext));return a}}()});b.PositionalAudio=function(a){b.Audio.call(this,a);this.panner=this.context.createPanner();this.panner.connect(this.gain)};b.PositionalAudio.prototype=Object.assign(Object.create(b.Audio.prototype),{constructor:b.PositionalAudio,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},
setRefDistance:function(a){this.panner.refDistance=a},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(a){this.panner.rolloffFactor=a},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(a){this.panner.distanceModel=a},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(a){this.panner.maxDistance=a},updateMatrixWorld:function(){var a=new b.Vector3;return function(c){b.Object3D.prototype.updateMatrixWorld.call(this,
c);a.setFromMatrixPosition(this.matrixWorld);this.panner.setPosition(a.x,a.y,a.z)}}()});b.AudioListener=function(){b.Object3D.call(this);this.type="AudioListener";this.context=b.AudioContext;this.gain=this.context.createGain();this.gain.connect(this.context.destination);this.filter=null};b.AudioListener.prototype=Object.assign(Object.create(b.Object3D.prototype),{constructor:b.AudioListener,getInput:function(){return this.gain},removeFilter:function(){null!==this.filter&&(this.gain.disconnect(this.filter),
this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null)},getFilter:function(){return this.filter},setFilter:function(a){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination);this.filter=a;this.gain.connect(this.filter);this.filter.connect(this.context.destination)},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(a){this.gain.gain.value=
a},updateMatrixWorld:function(){var a=new b.Vector3,c=new b.Quaternion,e=new b.Vector3,d=new b.Vector3;return function(g){b.Object3D.prototype.updateMatrixWorld.call(this,g);g=this.context.listener;var h=this.up;this.matrixWorld.decompose(a,c,e);d.set(0,0,-1).applyQuaternion(c);g.setPosition(a.x,a.y,a.z);g.setOrientation(d.x,d.y,d.z,h.x,h.y,h.z)}}()});b.Camera=function(){b.Object3D.call(this);this.type="Camera";this.matrixWorldInverse=new b.Matrix4;this.projectionMatrix=new b.Matrix4};b.Camera.prototype=
Object.create(b.Object3D.prototype);b.Camera.prototype.constructor=b.Camera;b.Camera.prototype.getWorldDirection=function(){var a=new b.Quaternion;return function(c){c=c||new b.Vector3;this.getWorldQuaternion(a);return c.set(0,0,-1).applyQuaternion(a)}}();b.Camera.prototype.lookAt=function(){var a=new b.Matrix4;return function(b){a.lookAt(this.position,b,this.up);this.quaternion.setFromRotationMatrix(a)}}();b.Camera.prototype.clone=function(){return(new this.constructor).copy(this)};b.Camera.prototype.copy=
function(a){b.Object3D.prototype.copy.call(this,a);this.matrixWorldInverse.copy(a.matrixWorldInverse);this.projectionMatrix.copy(a.projectionMatrix);return this};b.CubeCamera=function(a,c,e){b.Object3D.call(this);this.type="CubeCamera";var d=new b.PerspectiveCamera(90,1,a,c);d.up.set(0,-1,0);d.lookAt(new b.Vector3(1,0,0));this.add(d);var g=new b.PerspectiveCamera(90,1,a,c);g.up.set(0,-1,0);g.lookAt(new b.Vector3(-1,0,0));this.add(g);var h=new b.PerspectiveCamera(90,1,a,c);h.up.set(0,0,1);h.lookAt(new b.Vector3(0,
1,0));this.add(h);var f=new b.PerspectiveCamera(90,1,a,c);f.up.set(0,0,-1);f.lookAt(new b.Vector3(0,-1,0));this.add(f);var m=new b.PerspectiveCamera(90,1,a,c);m.up.set(0,-1,0);m.lookAt(new b.Vector3(0,0,1));this.add(m);var r=new b.PerspectiveCamera(90,1,a,c);r.up.set(0,-1,0);r.lookAt(new b.Vector3(0,0,-1));this.add(r);this.renderTarget=new b.WebGLRenderTargetCube(e,e,{format:b.RGBFormat,magFilter:b.LinearFilter,minFilter:b.LinearFilter});this.updateCubeMap=function(a,b){null===this.parent&&this.updateMatrixWorld();
var c=this.renderTarget,e=c.texture.generateMipmaps;c.texture.generateMipmaps=!1;c.activeCubeFace=0;a.render(b,d,c);c.activeCubeFace=1;a.render(b,g,c);c.activeCubeFace=2;a.render(b,h,c);c.activeCubeFace=3;a.render(b,f,c);c.activeCubeFace=4;a.render(b,m,c);c.texture.generateMipmaps=e;c.activeCubeFace=5;a.render(b,r,c);a.setRenderTarget(null)}};b.CubeCamera.prototype=Object.create(b.Object3D.prototype);b.CubeCamera.prototype.constructor=b.CubeCamera;b.OrthographicCamera=function(a,c,e,d,g,h){b.Camera.call(this);
this.type="OrthographicCamera";this.zoom=1;this.left=a;this.right=c;this.top=e;this.bottom=d;this.near=void 0!==g?g:.1;this.far=void 0!==h?h:2E3;this.updateProjectionMatrix()};b.OrthographicCamera.prototype=Object.assign(Object.create(b.Camera.prototype),{constructor:b.OrthographicCamera,copy:function(a){b.Camera.prototype.copy.call(this,a);this.left=a.left;this.right=a.right;this.top=a.top;this.bottom=a.bottom;this.near=a.near;this.far=a.far;this.zoom=a.zoom;return this},updateProjectionMatrix:function(){var a=
(this.right-this.left)/(2*this.zoom),b=(this.top-this.bottom)/(2*this.zoom),e=(this.right+this.left)/2,d=(this.top+this.bottom)/2;this.projectionMatrix.makeOrthographic(e-a,e+a,d+b,d-b,this.near,this.far)},toJSON:function(a){a=b.Object3D.prototype.toJSON.call(this,a);a.object.zoom=this.zoom;a.object.left=this.left;a.object.right=this.right;a.object.top=this.top;a.object.bottom=this.bottom;a.object.near=this.near;a.object.far=this.far;return a}});b.PerspectiveCamera=function(a,c,e,d){b.Camera.call(this);
this.type="PerspectiveCamera";this.fov=void 0!==a?a:50;this.zoom=1;this.near=void 0!==e?e:.1;this.far=void 0!==d?d:2E3;this.focus=10;this.aspect=void 0!==c?c:1;this.view=null;this.filmGauge=35;this.filmOffset=0;this.updateProjectionMatrix()};b.PerspectiveCamera.prototype=Object.assign(Object.create(b.Camera.prototype),{constructor:b.PerspectiveCamera,copy:function(a){b.Camera.prototype.copy.call(this,a);this.fov=a.fov;this.zoom=a.zoom;this.near=a.near;this.far=a.far;this.focus=a.focus;this.aspect=
a.aspect;this.view=null===a.view?null:Object.assign({},a.view);this.filmGauge=a.filmGauge;this.filmOffset=a.filmOffset;return this},setFocalLength:function(a){a=.5*this.getFilmHeight()/a;this.fov=2*b.Math.RAD2DEG*Math.atan(a);this.updateProjectionMatrix()},getFocalLength:function(){var a=Math.tan(.5*b.Math.DEG2RAD*this.fov);return.5*this.getFilmHeight()/a},getEffectiveFOV:function(){return 2*b.Math.RAD2DEG*Math.atan(Math.tan(.5*b.Math.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*
Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(a,b,e,d,g,h){this.aspect=a/b;this.view={fullWidth:a,fullHeight:b,offsetX:e,offsetY:d,width:g,height:h};this.updateProjectionMatrix()},clearViewOffset:function(){this.view=null;this.updateProjectionMatrix()},updateProjectionMatrix:function(){var a=this.near,c=a*Math.tan(.5*b.Math.DEG2RAD*this.fov)/this.zoom,e=2*c,d=this.aspect*e,g=-.5*d,h=this.view;if(null!==h)var f=h.fullWidth,m=
h.fullHeight,g=g+h.offsetX*d/f,c=c-h.offsetY*e/m,d=h.width/f*d,e=h.height/m*e;h=this.filmOffset;0!==h&&(g+=a*h/this.getFilmWidth());this.projectionMatrix.makeFrustum(g,g+d,c-e,c,a,this.far)},toJSON:function(a){a=b.Object3D.prototype.toJSON.call(this,a);a.object.fov=this.fov;a.object.zoom=this.zoom;a.object.near=this.near;a.object.far=this.far;a.object.focus=this.focus;a.object.aspect=this.aspect;null!==this.view&&(a.object.view=Object.assign({},this.view));a.object.filmGauge=this.filmGauge;a.object.filmOffset=
this.filmOffset;return a}});b.StereoCamera=function(){this.type="StereoCamera";this.aspect=1;this.cameraL=new b.PerspectiveCamera;this.cameraL.layers.enable(1);this.cameraL.matrixAutoUpdate=!1;this.cameraR=new b.PerspectiveCamera;this.cameraR.layers.enable(2);this.cameraR.matrixAutoUpdate=!1};Object.assign(b.StereoCamera.prototype,{update:function(){var a,c,e,d,g,h=new b.Matrix4,f=new b.Matrix4;return function(m){if(a!==m.focus||c!==m.fov||e!==m.aspect*this.aspect||d!==m.near||g!==m.far){a=m.focus;
c=m.fov;e=m.aspect*this.aspect;d=m.near;g=m.far;var r=m.projectionMatrix.clone(),t=.032*d/a,k=d*Math.tan(b.Math.DEG2RAD*c*.5),u,q;f.elements[12]=-.032;h.elements[12]=.032;u=-k*e+t;q=k*e+t;r.elements[0]=2*d/(q-u);r.elements[8]=(q+u)/(q-u);this.cameraL.projectionMatrix.copy(r);u=-k*e-t;q=k*e-t;r.elements[0]=2*d/(q-u);r.elements[8]=(q+u)/(q-u);this.cameraR.projectionMatrix.copy(r)}this.cameraL.matrixWorld.copy(m.matrixWorld).multiply(f);this.cameraR.matrixWorld.copy(m.matrixWorld).multiply(h)}}()});
b.Light=function(a,c){b.Object3D.call(this);this.type="Light";this.color=new b.Color(a);this.intensity=void 0!==c?c:1;this.receiveShadow=void 0};b.Light.prototype=Object.assign(Object.create(b.Object3D.prototype),{constructor:b.Light,copy:function(a){b.Object3D.prototype.copy.call(this,a);this.color.copy(a.color);this.intensity=a.intensity;return this},toJSON:function(a){a=b.Object3D.prototype.toJSON.call(this,a);a.object.color=this.color.getHex();a.object.intensity=this.intensity;void 0!==this.groundColor&&
(a.object.groundColor=this.groundColor.getHex());void 0!==this.distance&&(a.object.distance=this.distance);void 0!==this.angle&&(a.object.angle=this.angle);void 0!==this.decay&&(a.object.decay=this.decay);void 0!==this.penumbra&&(a.object.penumbra=this.penumbra);return a}});b.LightShadow=function(a){this.camera=a;this.bias=0;this.radius=1;this.mapSize=new b.Vector2(512,512);this.map=null;this.matrix=new b.Matrix4};Object.assign(b.LightShadow.prototype,{copy:function(a){this.camera=a.camera.clone();
this.bias=a.bias;this.radius=a.radius;this.mapSize.copy(a.mapSize);return this},clone:function(){return(new this.constructor).copy(this)}});b.AmbientLight=function(a,c){b.Light.call(this,a,c);this.type="AmbientLight";this.castShadow=void 0};b.AmbientLight.prototype=Object.assign(Object.create(b.Light.prototype),{constructor:b.AmbientLight});b.DirectionalLight=function(a,c){b.Light.call(this,a,c);this.type="DirectionalLight";this.position.set(0,1,0);this.updateMatrix();this.target=new b.Object3D;this.shadow=
new b.DirectionalLightShadow};b.DirectionalLight.prototype=Object.assign(Object.create(b.Light.prototype),{constructor:b.DirectionalLight,copy:function(a){b.Light.prototype.copy.call(this,a);this.target=a.target.clone();this.shadow=a.shadow.clone();return this}});b.DirectionalLightShadow=function(a){b.LightShadow.call(this,new b.OrthographicCamera(-5,5,5,-5,.5,500))};b.DirectionalLightShadow.prototype=Object.assign(Object.create(b.LightShadow.prototype),{constructor:b.DirectionalLightShadow});b.HemisphereLight=
function(a,c,e){b.Light.call(this,a,e);this.type="HemisphereLight";this.castShadow=void 0;this.position.set(0,1,0);this.updateMatrix();this.groundColor=new b.Color(c)};b.HemisphereLight.prototype=Object.assign(Object.create(b.Light.prototype),{constructor:b.HemisphereLight,copy:function(a){b.Light.prototype.copy.call(this,a);this.groundColor.copy(a.groundColor);return this}});b.PointLight=function(a,c,e,d){b.Light.call(this,a,c);this.type="PointLight";Object.defineProperty(this,"power",{get:function(){return 4*
this.intensity*Math.PI},set:function(a){this.intensity=a/(4*Math.PI)}});this.distance=void 0!==e?e:0;this.decay=void 0!==d?d:1;this.shadow=new b.LightShadow(new b.PerspectiveCamera(90,1,.5,500))};b.PointLight.prototype=Object.assign(Object.create(b.Light.prototype),{constructor:b.PointLight,copy:function(a){b.Light.prototype.copy.call(this,a);this.distance=a.distance;this.decay=a.decay;this.shadow=a.shadow.clone();return this}});b.SpotLight=function(a,c,e,d,g,h){b.Light.call(this,a,c);this.type="SpotLight";
this.position.set(0,1,0);this.updateMatrix();this.target=new b.Object3D;Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(a){this.intensity=a/Math.PI}});this.distance=void 0!==e?e:0;this.angle=void 0!==d?d:Math.PI/3;this.penumbra=void 0!==g?g:0;this.decay=void 0!==h?h:1;this.shadow=new b.SpotLightShadow};b.SpotLight.prototype=Object.assign(Object.create(b.Light.prototype),{constructor:b.SpotLight,copy:function(a){b.Light.prototype.copy.call(this,a);this.distance=
a.distance;this.angle=a.angle;this.penumbra=a.penumbra;this.decay=a.decay;this.target=a.target.clone();this.shadow=a.shadow.clone();return this}});b.SpotLightShadow=function(){b.LightShadow.call(this,new b.PerspectiveCamera(50,1,.5,500))};b.SpotLightShadow.prototype=Object.assign(Object.create(b.LightShadow.prototype),{constructor:b.SpotLightShadow,update:function(a){var c=2*b.Math.RAD2DEG*a.angle,e=this.mapSize.width/this.mapSize.height;a=a.distance||500;var d=this.camera;if(c!==d.fov||e!==d.aspect||
a!==d.far)d.fov=c,d.aspect=e,d.far=a,d.updateProjectionMatrix()}});b.AudioLoader=function(a){this.manager=void 0!==a?a:b.DefaultLoadingManager};b.AudioLoader.prototype={constructor:b.AudioLoader,load:function(a,c,e,d){var g=new b.XHRLoader(this.manager);g.setResponseType("arraybuffer");g.load(a,function(a){b.AudioContext.decodeAudioData(a,function(a){c(a)})},e,d)}};b.Cache={enabled:!1,files:{},add:function(a,b){!1!==this.enabled&&(this.files[a]=b)},get:function(a){if(!1!==this.enabled)return this.files[a]},
remove:function(a){delete this.files[a]},clear:function(){this.files={}}};b.Loader=function(){this.onLoadStart=function(){};this.onLoadProgress=function(){};this.onLoadComplete=function(){}};b.Loader.prototype={constructor:b.Loader,crossOrigin:void 0,extractUrlBase:function(a){a=a.split("/");if(1===a.length)return"./";a.pop();return a.join("/")+"/"},initMaterials:function(a,b,e){for(var d=[],g=0;g<a.length;++g)d[g]=this.createMaterial(a[g],b,e);return d},createMaterial:function(){var a,c,e;return function(d,
g,h){function f(a,d,e,l,r){a=g+a;var k=b.Loader.Handlers.get(a);null!==k?a=k.load(a):(c.setCrossOrigin(h),a=c.load(a));void 0!==d&&(a.repeat.fromArray(d),1!==d[0]&&(a.wrapS=b.RepeatWrapping),1!==d[1]&&(a.wrapT=b.RepeatWrapping));void 0!==e&&a.offset.fromArray(e);void 0!==l&&("repeat"===l[0]&&(a.wrapS=b.RepeatWrapping),"mirror"===l[0]&&(a.wrapS=b.MirroredRepeatWrapping),"repeat"===l[1]&&(a.wrapT=b.RepeatWrapping),"mirror"===l[1]&&(a.wrapT=b.MirroredRepeatWrapping));void 0!==r&&(a.anisotropy=r);d=b.Math.generateUUID();
m[d]=a;return d}void 0===a&&(a=new b.Color);void 0===c&&(c=new b.TextureLoader);void 0===e&&(e=new b.MaterialLoader);var m={},r={uuid:b.Math.generateUUID(),type:"MeshLambertMaterial"},t;for(t in d){var k=d[t];switch(t){case "DbgColor":case "DbgIndex":case "opticalDensity":case "illumination":break;case "DbgName":r.name=k;break;case "blending":r.blending=b[k];break;case "colorAmbient":case "mapAmbient":console.warn("THREE.Loader.createMaterial:",t,"is no longer supported.");break;case "colorDiffuse":r.color=
a.fromArray(k).getHex();break;case "colorSpecular":r.specular=a.fromArray(k).getHex();break;case "colorEmissive":r.emissive=a.fromArray(k).getHex();break;case "specularCoef":r.shininess=k;break;case "shading":"basic"===k.toLowerCase()&&(r.type="MeshBasicMaterial");"phong"===k.toLowerCase()&&(r.type="MeshPhongMaterial");break;case "mapDiffuse":r.map=f(k,d.mapDiffuseRepeat,d.mapDiffuseOffset,d.mapDiffuseWrap,d.mapDiffuseAnisotropy);break;case "mapDiffuseRepeat":case "mapDiffuseOffset":case "mapDiffuseWrap":case "mapDiffuseAnisotropy":break;
case "mapLight":r.lightMap=f(k,d.mapLightRepeat,d.mapLightOffset,d.mapLightWrap,d.mapLightAnisotropy);break;case "mapLightRepeat":case "mapLightOffset":case "mapLightWrap":case "mapLightAnisotropy":break;case "mapAO":r.aoMap=f(k,d.mapAORepeat,d.mapAOOffset,d.mapAOWrap,d.mapAOAnisotropy);break;case "mapAORepeat":case "mapAOOffset":case "mapAOWrap":case "mapAOAnisotropy":break;case "mapBump":r.bumpMap=f(k,d.mapBumpRepeat,d.mapBumpOffset,d.mapBumpWrap,d.mapBumpAnisotropy);break;case "mapBumpScale":r.bumpScale=
k;break;case "mapBumpRepeat":case "mapBumpOffset":case "mapBumpWrap":case "mapBumpAnisotropy":break;case "mapNormal":r.normalMap=f(k,d.mapNormalRepeat,d.mapNormalOffset,d.mapNormalWrap,d.mapNormalAnisotropy);break;case "mapNormalFactor":r.normalScale=[k,k];break;case "mapNormalRepeat":case "mapNormalOffset":case "mapNormalWrap":case "mapNormalAnisotropy":break;case "mapSpecular":r.specularMap=f(k,d.mapSpecularRepeat,d.mapSpecularOffset,d.mapSpecularWrap,d.mapSpecularAnisotropy);break;case "mapSpecularRepeat":case "mapSpecularOffset":case "mapSpecularWrap":case "mapSpecularAnisotropy":break;
case "mapAlpha":r.alphaMap=f(k,d.mapAlphaRepeat,d.mapAlphaOffset,d.mapAlphaWrap,d.mapAlphaAnisotropy);break;case "mapAlphaRepeat":case "mapAlphaOffset":case "mapAlphaWrap":case "mapAlphaAnisotropy":break;case "flipSided":r.side=b.BackSide;break;case "doubleSided":r.side=b.DoubleSide;break;case "transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity");r.opacity=k;break;case "depthTest":case "depthWrite":case "colorWrite":case "opacity":case "reflectivity":case "transparent":case "visible":case "wireframe":r[t]=
k;break;case "vertexColors":!0===k&&(r.vertexColors=b.VertexColors);"face"===k&&(r.vertexColors=b.FaceColors);break;default:console.error("THREE.Loader.createMaterial: Unsupported",t,k)}}"MeshBasicMaterial"===r.type&&delete r.emissive;"MeshPhongMaterial"!==r.type&&delete r.specular;1>r.opacity&&(r.transparent=!0);e.setTextures(m);return e.parse(r)}}()};b.Loader.Handlers={handlers:[],add:function(a,b){this.handlers.push(a,b)},get:function(a){for(var b=this.handlers,e=0,d=b.length;e<d;e+=2){var g=b[e+
1];if(b[e].test(a))return g}return null}};b.XHRLoader=function(a){this.manager=void 0!==a?a:b.DefaultLoadingManager};b.XHRLoader.prototype={constructor:b.XHRLoader,load:function(a,c,e,d){void 0!==this.path&&(a=this.path+a);var g=this,f=b.Cache.get(a);if(void 0!==f)return c&&setTimeout(function(){c(f)},0),f;var l=new XMLHttpRequest;l.overrideMimeType("text/plain");l.open("GET",a,!0);l.addEventListener("load",function(e){var f=e.target.response;b.Cache.add(a,f);200===this.status?(c&&c(f),g.manager.itemEnd(a)):
0===this.status?(console.warn("THREE.XHRLoader: HTTP Status 0 received."),c&&c(f),g.manager.itemEnd(a)):(d&&d(e),g.manager.itemError(a))},!1);void 0!==e&&l.addEventListener("progress",function(a){e(a)},!1);l.addEventListener("error",function(b){d&&d(b);g.manager.itemError(a)},!1);void 0!==this.responseType&&(l.responseType=this.responseType);void 0!==this.withCredentials&&(l.withCredentials=this.withCredentials);l.send(null);g.manager.itemStart(a);return l},setPath:function(a){this.path=a},setResponseType:function(a){this.responseType=
a},setWithCredentials:function(a){this.withCredentials=a}};b.FontLoader=function(a){this.manager=void 0!==a?a:b.DefaultLoadingManager};b.FontLoader.prototype={constructor:b.FontLoader,load:function(a,c,e,d){var g=this;(new b.XHRLoader(this.manager)).load(a,function(a){var b;try{b=JSON.parse(a)}catch(d){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),b=JSON.parse(a.substring(65,a.length-2))}a=g.parse(b);c&&c(a)},e,d)},parse:function(a){return new b.Font(a)}};
b.ImageLoader=function(a){this.manager=void 0!==a?a:b.DefaultLoadingManager};b.ImageLoader.prototype={constructor:b.ImageLoader,load:function(a,c,e,d){void 0!==this.path&&(a=this.path+a);var g=this,f=b.Cache.get(a);if(void 0!==f)return g.manager.itemStart(a),c?setTimeout(function(){c(f);g.manager.itemEnd(a)},0):g.manager.itemEnd(a),f;var l=document.createElement("img");l.addEventListener("load",function(d){b.Cache.add(a,this);c&&c(this);g.manager.itemEnd(a)},!1);void 0!==e&&l.addEventListener("progress",
function(a){e(a)},!1);l.addEventListener("error",function(b){d&&d(b);g.manager.itemError(a)},!1);void 0!==this.crossOrigin&&(l.crossOrigin=this.crossOrigin);g.manager.itemStart(a);l.src=a;return l},setCrossOrigin:function(a){this.crossOrigin=a},setPath:function(a){this.path=a}};b.JSONLoader=function(a){"boolean"===typeof a&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),a=void 0);this.manager=void 0!==a?a:b.DefaultLoadingManager;this.withCredentials=!1};
b.JSONLoader.prototype={constructor:b.JSONLoader,get statusDomElement(){void 0===this._statusDomElement&&(this._statusDomElement=document.createElement("div"));console.warn("THREE.JSONLoader: .statusDomElement has been removed.");return this._statusDomElement},load:function(a,c,e,d){var g=this,f=this.texturePath&&"string"===typeof this.texturePath?this.texturePath:b.Loader.prototype.extractUrlBase(a),l=new b.XHRLoader(this.manager);l.setWithCredentials(this.withCredentials);l.load(a,function(b){b=
JSON.parse(b);var d=b.metadata;if(void 0!==d&&(d=d.type,void 0!==d)){if("object"===d.toLowerCase()){console.error("THREE.JSONLoader: "+a+" should be loaded with THREE.ObjectLoader instead.");return}if("scene"===d.toLowerCase()){console.error("THREE.JSONLoader: "+a+" should be loaded with THREE.SceneLoader instead.");return}}b=g.parse(b,f);c(b.geometry,b.materials)},e,d)},setTexturePath:function(a){this.texturePath=a},parse:function(a,c){var e=new b.Geometry,d=void 0!==a.scale?1/a.scale:1;(function(c){var d,
f,m,r,k,w,u,q,v,p,n,B,A,C=a.faces;w=a.vertices;var G=a.normals,D=a.colors,H=0;if(void 0!==a.uvs){for(d=0;d<a.uvs.length;d++)a.uvs[d].length&&H++;for(d=0;d<H;d++)e.faceVertexUvs[d]=[]}r=0;for(k=w.length;r<k;)d=new b.Vector3,d.x=w[r++]*c,d.y=w[r++]*c,d.z=w[r++]*c,e.vertices.push(d);r=0;for(k=C.length;r<k;)if(c=C[r++],v=c&1,m=c&2,d=c&8,u=c&16,p=c&32,w=c&64,c&=128,v){v=new b.Face3;v.a=C[r];v.b=C[r+1];v.c=C[r+3];n=new b.Face3;n.a=C[r+1];n.b=C[r+2];n.c=C[r+3];r+=4;m&&(m=C[r++],v.materialIndex=m,n.materialIndex=
m);m=e.faces.length;if(d)for(d=0;d<H;d++)for(B=a.uvs[d],e.faceVertexUvs[d][m]=[],e.faceVertexUvs[d][m+1]=[],f=0;4>f;f++)q=C[r++],A=B[2*q],q=B[2*q+1],A=new b.Vector2(A,q),2!==f&&e.faceVertexUvs[d][m].push(A),0!==f&&e.faceVertexUvs[d][m+1].push(A);u&&(u=3*C[r++],v.normal.set(G[u++],G[u++],G[u]),n.normal.copy(v.normal));if(p)for(d=0;4>d;d++)u=3*C[r++],p=new b.Vector3(G[u++],G[u++],G[u]),2!==d&&v.vertexNormals.push(p),0!==d&&n.vertexNormals.push(p);w&&(w=C[r++],w=D[w],v.color.setHex(w),n.color.setHex(w));
if(c)for(d=0;4>d;d++)w=C[r++],w=D[w],2!==d&&v.vertexColors.push(new b.Color(w)),0!==d&&n.vertexColors.push(new b.Color(w));e.faces.push(v);e.faces.push(n)}else{v=new b.Face3;v.a=C[r++];v.b=C[r++];v.c=C[r++];m&&(m=C[r++],v.materialIndex=m);m=e.faces.length;if(d)for(d=0;d<H;d++)for(B=a.uvs[d],e.faceVertexUvs[d][m]=[],f=0;3>f;f++)q=C[r++],A=B[2*q],q=B[2*q+1],A=new b.Vector2(A,q),e.faceVertexUvs[d][m].push(A);u&&(u=3*C[r++],v.normal.set(G[u++],G[u++],G[u]));if(p)for(d=0;3>d;d++)u=3*C[r++],p=new b.Vector3(G[u++],
G[u++],G[u]),v.vertexNormals.push(p);w&&(w=C[r++],v.color.setHex(D[w]));if(c)for(d=0;3>d;d++)w=C[r++],v.vertexColors.push(new b.Color(D[w]));e.faces.push(v)}})(d);(function(){var c=void 0!==a.influencesPerVertex?a.influencesPerVertex:2;if(a.skinWeights)for(var d=0,f=a.skinWeights.length;d<f;d+=c)e.skinWeights.push(new b.Vector4(a.skinWeights[d],1<c?a.skinWeights[d+1]:0,2<c?a.skinWeights[d+2]:0,3<c?a.skinWeights[d+3]:0));if(a.skinIndices)for(d=0,f=a.skinIndices.length;d<f;d+=c)e.skinIndices.push(new b.Vector4(a.skinIndices[d],
1<c?a.skinIndices[d+1]:0,2<c?a.skinIndices[d+2]:0,3<c?a.skinIndices[d+3]:0));e.bones=a.bones;e.bones&&0<e.bones.length&&(e.skinWeights.length!==e.skinIndices.length||e.skinIndices.length!==e.vertices.length)&&console.warn("When skinning, number of vertices ("+e.vertices.length+"), skinIndices ("+e.skinIndices.length+"), and skinWeights ("+e.skinWeights.length+") should match.")})();(function(c){if(void 0!==a.morphTargets)for(var d=0,f=a.morphTargets.length;d<f;d++){e.morphTargets[d]={};e.morphTargets[d].name=
a.morphTargets[d].name;e.morphTargets[d].vertices=[];for(var m=e.morphTargets[d].vertices,r=a.morphTargets[d].vertices,k=0,p=r.length;k<p;k+=3){var u=new b.Vector3;u.x=r[k]*c;u.y=r[k+1]*c;u.z=r[k+2]*c;m.push(u)}}if(void 0!==a.morphColors&&0<a.morphColors.length)for(console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.'),c=e.faces,m=a.morphColors[0].colors,d=0,f=c.length;d<f;d++)c[d].color.fromArray(m,3*d)})(d);(function(){var c=[],d=[];void 0!==a.animation&&
d.push(a.animation);void 0!==a.animations&&(a.animations.length?d=d.concat(a.animations):d.push(a.animations));for(var f=0;f<d.length;f++){var m=b.AnimationClip.parseAnimation(d[f],e.bones);m&&c.push(m)}e.morphTargets&&(d=b.AnimationClip.CreateClipsFromMorphTargetSequences(e.morphTargets,10),c=c.concat(d));0<c.length&&(e.animations=c)})();e.computeFaceNormals();e.computeBoundingSphere();if(void 0===a.materials||0===a.materials.length)return{geometry:e};d=b.Loader.prototype.initMaterials(a.materials,
c,this.crossOrigin);return{geometry:e,materials:d}}};b.LoadingManager=function(a,b,e){var d=this,g=!1,f=0,l=0;this.onStart=void 0;this.onLoad=a;this.onProgress=b;this.onError=e;this.itemStart=function(a){l++;if(!1===g&&void 0!==d.onStart)d.onStart(a,f,l);g=!0};this.itemEnd=function(a){f++;if(void 0!==d.onProgress)d.onProgress(a,f,l);if(f===l&&(g=!1,void 0!==d.onLoad))d.onLoad()};this.itemError=function(a){if(void 0!==d.onError)d.onError(a)}};b.DefaultLoadingManager=new b.LoadingManager;b.BufferGeometryLoader=
function(a){this.manager=void 0!==a?a:b.DefaultLoadingManager};b.BufferGeometryLoader.prototype={constructor:b.BufferGeometryLoader,load:function(a,c,e,d){var g=this;(new b.XHRLoader(g.manager)).load(a,function(a){c(g.parse(JSON.parse(a)))},e,d)},parse:function(a){var c=new b.BufferGeometry,e=a.data.index,d={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,
Float64Array:Float64Array};void 0!==e&&(e=new d[e.type](e.array),c.setIndex(new b.BufferAttribute(e,1)));var g=a.data.attributes,f;for(f in g){var l=g[f],e=new d[l.type](l.array);c.addAttribute(f,new b.BufferAttribute(e,l.itemSize,l.normalized))}d=a.data.groups||a.data.drawcalls||a.data.offsets;if(void 0!==d)for(f=0,e=d.length;f!==e;++f)g=d[f],c.addGroup(g.start,g.count,g.materialIndex);a=a.data.boundingSphere;void 0!==a&&(d=new b.Vector3,void 0!==a.center&&d.fromArray(a.center),c.boundingSphere=
new b.Sphere(d,a.radius));return c}};b.MaterialLoader=function(a){this.manager=void 0!==a?a:b.DefaultLoadingManager;this.textures={}};b.MaterialLoader.prototype={constructor:b.MaterialLoader,load:function(a,c,e,d){var g=this;(new b.XHRLoader(g.manager)).load(a,function(a){c(g.parse(JSON.parse(a)))},e,d)},setTextures:function(a){this.textures=a},getTexture:function(a){var b=this.textures;void 0===b[a]&&console.warn("THREE.MaterialLoader: Undefined texture",a);return b[a]},parse:function(a){var c=new b[a.type];
void 0!==a.uuid&&(c.uuid=a.uuid);void 0!==a.name&&(c.name=a.name);void 0!==a.color&&c.color.setHex(a.color);void 0!==a.roughness&&(c.roughness=a.roughness);void 0!==a.metalness&&(c.metalness=a.metalness);void 0!==a.emissive&&c.emissive.setHex(a.emissive);void 0!==a.specular&&c.specular.setHex(a.specular);void 0!==a.shininess&&(c.shininess=a.shininess);void 0!==a.uniforms&&(c.uniforms=a.uniforms);void 0!==a.vertexShader&&(c.vertexShader=a.vertexShader);void 0!==a.fragmentShader&&(c.fragmentShader=
a.fragmentShader);void 0!==a.vertexColors&&(c.vertexColors=a.vertexColors);void 0!==a.shading&&(c.shading=a.shading);void 0!==a.blending&&(c.blending=a.blending);void 0!==a.side&&(c.side=a.side);void 0!==a.opacity&&(c.opacity=a.opacity);void 0!==a.transparent&&(c.transparent=a.transparent);void 0!==a.alphaTest&&(c.alphaTest=a.alphaTest);void 0!==a.depthTest&&(c.depthTest=a.depthTest);void 0!==a.depthWrite&&(c.depthWrite=a.depthWrite);void 0!==a.colorWrite&&(c.colorWrite=a.colorWrite);void 0!==a.wireframe&&
(c.wireframe=a.wireframe);void 0!==a.wireframeLinewidth&&(c.wireframeLinewidth=a.wireframeLinewidth);void 0!==a.size&&(c.size=a.size);void 0!==a.sizeAttenuation&&(c.sizeAttenuation=a.sizeAttenuation);void 0!==a.map&&(c.map=this.getTexture(a.map));void 0!==a.alphaMap&&(c.alphaMap=this.getTexture(a.alphaMap),c.transparent=!0);void 0!==a.bumpMap&&(c.bumpMap=this.getTexture(a.bumpMap));void 0!==a.bumpScale&&(c.bumpScale=a.bumpScale);void 0!==a.normalMap&&(c.normalMap=this.getTexture(a.normalMap));if(void 0!==
a.normalScale){var e=a.normalScale;!1===Array.isArray(e)&&(e=[e,e]);c.normalScale=(new b.Vector2).fromArray(e)}void 0!==a.displacementMap&&(c.displacementMap=this.getTexture(a.displacementMap));void 0!==a.displacementScale&&(c.displacementScale=a.displacementScale);void 0!==a.displacementBias&&(c.displacementBias=a.displacementBias);void 0!==a.roughnessMap&&(c.roughnessMap=this.getTexture(a.roughnessMap));void 0!==a.metalnessMap&&(c.metalnessMap=this.getTexture(a.metalnessMap));void 0!==a.emissiveMap&&
(c.emissiveMap=this.getTexture(a.emissiveMap));void 0!==a.emissiveIntensity&&(c.emissiveIntensity=a.emissiveIntensity);void 0!==a.specularMap&&(c.specularMap=this.getTexture(a.specularMap));void 0!==a.envMap&&(c.envMap=this.getTexture(a.envMap),c.combine=b.MultiplyOperation);a.reflectivity&&(c.reflectivity=a.reflectivity);void 0!==a.lightMap&&(c.lightMap=this.getTexture(a.lightMap));void 0!==a.lightMapIntensity&&(c.lightMapIntensity=a.lightMapIntensity);void 0!==a.aoMap&&(c.aoMap=this.getTexture(a.aoMap));
void 0!==a.aoMapIntensity&&(c.aoMapIntensity=a.aoMapIntensity);if(void 0!==a.materials)for(var e=0,d=a.materials.length;e<d;e++)c.materials.push(this.parse(a.materials[e]));return c}};b.ObjectLoader=function(a){this.manager=void 0!==a?a:b.DefaultLoadingManager;this.texturePath=""};b.ObjectLoader.prototype={constructor:b.ObjectLoader,load:function(a,c,e,d){""===this.texturePath&&(this.texturePath=a.substring(0,a.lastIndexOf("/")+1));var g=this;(new b.XHRLoader(g.manager)).load(a,function(a){g.parse(JSON.parse(a),
c)},e,d)},setTexturePath:function(a){this.texturePath=a},setCrossOrigin:function(a){this.crossOrigin=a},parse:function(a,b){var e=this.parseGeometries(a.geometries),d=this.parseImages(a.images,function(){void 0!==b&&b(g)}),d=this.parseTextures(a.textures,d),d=this.parseMaterials(a.materials,d),g=this.parseObject(a.object,e,d);a.animations&&(g.animations=this.parseAnimations(a.animations));void 0!==a.images&&0!==a.images.length||void 0===b||b(g);return g},parseGeometries:function(a){var c={};if(void 0!==
a)for(var e=new b.JSONLoader,d=new b.BufferGeometryLoader,g=0,f=a.length;g<f;g++){var l,m=a[g];switch(m.type){case "PlaneGeometry":case "PlaneBufferGeometry":l=new b[m.type](m.width,m.height,m.widthSegments,m.heightSegments);break;case "BoxGeometry":case "BoxBufferGeometry":case "CubeGeometry":l=new b[m.type](m.width,m.height,m.depth,m.widthSegments,m.heightSegments,m.depthSegments);break;case "CircleGeometry":case "CircleBufferGeometry":l=new b[m.type](m.radius,m.segments,m.thetaStart,m.thetaLength);
break;case "CylinderGeometry":case "CylinderBufferGeometry":l=new b[m.type](m.radiusTop,m.radiusBottom,m.height,m.radialSegments,m.heightSegments,m.openEnded,m.thetaStart,m.thetaLength);break;case "ConeGeometry":case "ConeBufferGeometry":l=new b[m.type](m.radius,m.height,m.radialSegments,m.heightSegments,m.openEnded,m.thetaStart,m.thetaLength);break;case "SphereGeometry":case "SphereBufferGeometry":l=new b[m.type](m.radius,m.widthSegments,m.heightSegments,m.phiStart,m.phiLength,m.thetaStart,m.thetaLength);
break;case "DodecahedronGeometry":case "IcosahedronGeometry":case "OctahedronGeometry":case "TetrahedronGeometry":l=new b[m.type](m.radius,m.detail);break;case "RingGeometry":case "RingBufferGeometry":l=new b[m.type](m.innerRadius,m.outerRadius,m.thetaSegments,m.phiSegments,m.thetaStart,m.thetaLength);break;case "TorusGeometry":case "TorusBufferGeometry":l=new b[m.type](m.radius,m.tube,m.radialSegments,m.tubularSegments,m.arc);break;case "TorusKnotGeometry":case "TorusKnotBufferGeometry":l=new b[m.type](m.radius,
m.tube,m.tubularSegments,m.radialSegments,m.p,m.q);break;case "LatheGeometry":case "LatheBufferGeometry":l=new b[m.type](m.points,m.segments,m.phiStart,m.phiLength);break;case "BufferGeometry":l=d.parse(m);break;case "Geometry":l=e.parse(m.data,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+m.type+'"');continue}l.uuid=m.uuid;void 0!==m.name&&(l.name=m.name);c[m.uuid]=l}return c},parseMaterials:function(a,c){var e={};if(void 0!==a){var d=new b.MaterialLoader;
d.setTextures(c);for(var g=0,f=a.length;g<f;g++){var l=d.parse(a[g]);e[l.uuid]=l}}return e},parseAnimations:function(a){for(var c=[],e=0;e<a.length;e++){var d=b.AnimationClip.parse(a[e]);c.push(d)}return c},parseImages:function(a,c){function e(a){d.manager.itemStart(a);return l.load(a,function(){d.manager.itemEnd(a)})}var d=this,g={};if(void 0!==a&&0<a.length){var f=new b.LoadingManager(c),l=new b.ImageLoader(f);l.setCrossOrigin(this.crossOrigin);for(var f=0,m=a.length;f<m;f++){var r=a[f],k=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(r.url)?
r.url:d.texturePath+r.url;g[r.uuid]=e(k)}}return g},parseTextures:function(a,c){function e(a){if("number"===typeof a)return a;console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",a);return b[a]}var d={};if(void 0!==a)for(var g=0,f=a.length;g<f;g++){var l=a[g];void 0===l.image&&console.warn('THREE.ObjectLoader: No "image" specified for',l.uuid);void 0===c[l.image]&&console.warn("THREE.ObjectLoader: Undefined image",l.image);var m=new b.Texture(c[l.image]);m.needsUpdate=
!0;m.uuid=l.uuid;void 0!==l.name&&(m.name=l.name);void 0!==l.mapping&&(m.mapping=e(l.mapping));void 0!==l.offset&&(m.offset=new b.Vector2(l.offset[0],l.offset[1]));void 0!==l.repeat&&(m.repeat=new b.Vector2(l.repeat[0],l.repeat[1]));void 0!==l.minFilter&&(m.minFilter=e(l.minFilter));void 0!==l.magFilter&&(m.magFilter=e(l.magFilter));void 0!==l.anisotropy&&(m.anisotropy=l.anisotropy);Array.isArray(l.wrap)&&(m.wrapS=e(l.wrap[0]),m.wrapT=e(l.wrap[1]));d[l.uuid]=m}return d},parseObject:function(){var a=
new b.Matrix4;return function(c,e,d){function g(a){void 0===e[a]&&console.warn("THREE.ObjectLoader: Undefined geometry",a);return e[a]}function f(a){if(void 0!==a)return void 0===d[a]&&console.warn("THREE.ObjectLoader: Undefined material",a),d[a]}var l;switch(c.type){case "Scene":l=new b.Scene;break;case "PerspectiveCamera":l=new b.PerspectiveCamera(c.fov,c.aspect,c.near,c.far);void 0!==c.focus&&(l.focus=c.focus);void 0!==c.zoom&&(l.zoom=c.zoom);void 0!==c.filmGauge&&(l.filmGauge=c.filmGauge);void 0!==
c.filmOffset&&(l.filmOffset=c.filmOffset);void 0!==c.view&&(l.view=Object.assign({},c.view));break;case "OrthographicCamera":l=new b.OrthographicCamera(c.left,c.right,c.top,c.bottom,c.near,c.far);break;case "AmbientLight":l=new b.AmbientLight(c.color,c.intensity);break;case "DirectionalLight":l=new b.DirectionalLight(c.color,c.intensity);break;case "PointLight":l=new b.PointLight(c.color,c.intensity,c.distance,c.decay);break;case "SpotLight":l=new b.SpotLight(c.color,c.intensity,c.distance,c.angle,
c.penumbra,c.decay);break;case "HemisphereLight":l=new b.HemisphereLight(c.color,c.groundColor,c.intensity);break;case "Mesh":l=g(c.geometry);var m=f(c.material);l=l.bones&&0<l.bones.length?new b.SkinnedMesh(l,m):new b.Mesh(l,m);break;case "LOD":l=new b.LOD;break;case "Line":l=new b.Line(g(c.geometry),f(c.material),c.mode);break;case "PointCloud":case "Points":l=new b.Points(g(c.geometry),f(c.material));break;case "Sprite":l=new b.Sprite(f(c.material));break;case "Group":l=new b.Group;break;default:l=
new b.Object3D}l.uuid=c.uuid;void 0!==c.name&&(l.name=c.name);void 0!==c.matrix?(a.fromArray(c.matrix),a.decompose(l.position,l.quaternion,l.scale)):(void 0!==c.position&&l.position.fromArray(c.position),void 0!==c.rotation&&l.rotation.fromArray(c.rotation),void 0!==c.scale&&l.scale.fromArray(c.scale));void 0!==c.castShadow&&(l.castShadow=c.castShadow);void 0!==c.receiveShadow&&(l.receiveShadow=c.receiveShadow);void 0!==c.visible&&(l.visible=c.visible);void 0!==c.userData&&(l.userData=c.userData);
if(void 0!==c.children)for(var r in c.children)l.add(this.parseObject(c.children[r],e,d));if("LOD"===c.type)for(c=c.levels,m=0;m<c.length;m++){var k=c[m];r=l.getObjectByProperty("uuid",k.object);void 0!==r&&l.addLevel(r,k.distance)}return l}}()};b.TextureLoader=function(a){this.manager=void 0!==a?a:b.DefaultLoadingManager};b.TextureLoader.prototype={constructor:b.TextureLoader,load:function(a,c,e,d){var g=new b.Texture,f=new b.ImageLoader(this.manager);f.setCrossOrigin(this.crossOrigin);f.setPath(this.path);
f.load(a,function(a){g.image=a;g.needsUpdate=!0;void 0!==c&&c(g)},e,d);return g},setCrossOrigin:function(a){this.crossOrigin=a},setPath:function(a){this.path=a}};b.CubeTextureLoader=function(a){this.manager=void 0!==a?a:b.DefaultLoadingManager};b.CubeTextureLoader.prototype={constructor:b.CubeTextureLoader,load:function(a,c,e,d){function g(b){l.load(a[b],function(a){f.images[b]=a;m++;6===m&&(f.needsUpdate=!0,c&&c(f))},void 0,d)}var f=new b.CubeTexture,l=new b.ImageLoader(this.manager);l.setCrossOrigin(this.crossOrigin);
l.setPath(this.path);var m=0;for(e=0;e<a.length;++e)g(e);return f},setCrossOrigin:function(a){this.crossOrigin=a},setPath:function(a){this.path=a}};b.DataTextureLoader=b.BinaryTextureLoader=function(a){this.manager=void 0!==a?a:b.DefaultLoadingManager;this._parser=null};b.BinaryTextureLoader.prototype={constructor:b.BinaryTextureLoader,load:function(a,c,e,d){var g=this,f=new b.DataTexture,l=new b.XHRLoader(this.manager);l.setResponseType("arraybuffer");l.load(a,function(a){if(a=g._parser(a))void 0!==
a.image?f.image=a.image:void 0!==a.data&&(f.image.width=a.width,f.image.height=a.height,f.image.data=a.data),f.wrapS=void 0!==a.wrapS?a.wrapS:b.ClampToEdgeWrapping,f.wrapT=void 0!==a.wrapT?a.wrapT:b.ClampToEdgeWrapping,f.magFilter=void 0!==a.magFilter?a.magFilter:b.LinearFilter,f.minFilter=void 0!==a.minFilter?a.minFilter:b.LinearMipMapLinearFilter,f.anisotropy=void 0!==a.anisotropy?a.anisotropy:1,void 0!==a.format&&(f.format=a.format),void 0!==a.type&&(f.type=a.type),void 0!==a.mipmaps&&(f.mipmaps=
a.mipmaps),1===a.mipmapCount&&(f.minFilter=b.LinearFilter),f.needsUpdate=!0,c&&c(f,a)},e,d);return f}};b.CompressedTextureLoader=function(a){this.manager=void 0!==a?a:b.DefaultLoadingManager;this._parser=null};b.CompressedTextureLoader.prototype={constructor:b.CompressedTextureLoader,load:function(a,c,e,d){function g(g){r.load(a[g],function(a){a=f._parser(a,!0);l[g]={width:a.width,height:a.height,format:a.format,mipmaps:a.mipmaps};k+=1;6===k&&(1===a.mipmapCount&&(m.minFilter=b.LinearFilter),m.format=
a.format,m.needsUpdate=!0,c&&c(m))},e,d)}var f=this,l=[],m=new b.CompressedTexture;m.image=l;var r=new b.XHRLoader(this.manager);r.setPath(this.path);r.setResponseType("arraybuffer");if(Array.isArray(a))for(var k=0,p=0,u=a.length;p<u;++p)g(p);else r.load(a,function(a){a=f._parser(a,!0);if(a.isCubemap)for(var d=a.mipmaps.length/a.mipmapCount,e=0;e<d;e++){l[e]={mipmaps:[]};for(var g=0;g<a.mipmapCount;g++)l[e].mipmaps.push(a.mipmaps[e*a.mipmapCount+g]),l[e].format=a.format,l[e].width=a.width,l[e].height=
a.height}else m.image.width=a.width,m.image.height=a.height,m.mipmaps=a.mipmaps;1===a.mipmapCount&&(m.minFilter=b.LinearFilter);m.format=a.format;m.needsUpdate=!0;c&&c(m)},e,d);return m},setPath:function(a){this.path=a}};b.Material=function(){Object.defineProperty(this,"id",{value:b.MaterialIdCount++});this.uuid=b.Math.generateUUID();this.name="";this.type="Material";this.lights=this.fog=!0;this.blending=b.NormalBlending;this.side=b.FrontSide;this.shading=b.SmoothShading;this.vertexColors=b.NoColors;
this.opacity=1;this.transparent=!1;this.blendSrc=b.SrcAlphaFactor;this.blendDst=b.OneMinusSrcAlphaFactor;this.blendEquation=b.AddEquation;this.blendEquationAlpha=this.blendDstAlpha=this.blendSrcAlpha=null;this.depthFunc=b.LessEqualDepth;this.depthWrite=this.depthTest=!0;this.clippingPlanes=null;this.clipShadows=!1;this.colorWrite=!0;this.precision=null;this.polygonOffset=!1;this.alphaTest=this.polygonOffsetUnits=this.polygonOffsetFactor=0;this.premultipliedAlpha=!1;this.overdraw=0;this._needsUpdate=
this.visible=!0};b.Material.prototype={constructor:b.Material,get needsUpdate(){return this._needsUpdate},set needsUpdate(a){!0===a&&this.update();this._needsUpdate=a},setValues:function(a){if(void 0!==a)for(var c in a){var e=a[c];if(void 0===e)console.warn("THREE.Material: '"+c+"' parameter is undefined.");else{var d=this[c];void 0===d?console.warn("THREE."+this.type+": '"+c+"' is not a property of this material."):d instanceof b.Color?d.set(e):d instanceof b.Vector3&&e instanceof b.Vector3?d.copy(e):
this[c]="overdraw"===c?Number(e):e}}},toJSON:function(a){function c(a){var b=[],c;for(c in a){var d=a[c];delete d.metadata;b.push(d)}return b}var e=void 0===a;e&&(a={textures:{},images:{}});var d={metadata:{version:4.4,type:"Material",generator:"Material.toJSON"}};d.uuid=this.uuid;d.type=this.type;""!==this.name&&(d.name=this.name);this.color instanceof b.Color&&(d.color=this.color.getHex());.5!==this.roughness&&(d.roughness=this.roughness);.5!==this.metalness&&(d.metalness=this.metalness);this.emissive instanceof
b.Color&&(d.emissive=this.emissive.getHex());this.specular instanceof b.Color&&(d.specular=this.specular.getHex());void 0!==this.shininess&&(d.shininess=this.shininess);this.map instanceof b.Texture&&(d.map=this.map.toJSON(a).uuid);this.alphaMap instanceof b.Texture&&(d.alphaMap=this.alphaMap.toJSON(a).uuid);this.lightMap instanceof b.Texture&&(d.lightMap=this.lightMap.toJSON(a).uuid);this.bumpMap instanceof b.Texture&&(d.bumpMap=this.bumpMap.toJSON(a).uuid,d.bumpScale=this.bumpScale);this.normalMap instanceof
b.Texture&&(d.normalMap=this.normalMap.toJSON(a).uuid,d.normalScale=this.normalScale.toArray());this.displacementMap instanceof b.Texture&&(d.displacementMap=this.displacementMap.toJSON(a).uuid,d.displacementScale=this.displacementScale,d.displacementBias=this.displacementBias);this.roughnessMap instanceof b.Texture&&(d.roughnessMap=this.roughnessMap.toJSON(a).uuid);this.metalnessMap instanceof b.Texture&&(d.metalnessMap=this.metalnessMap.toJSON(a).uuid);this.emissiveMap instanceof b.Texture&&(d.emissiveMap=
this.emissiveMap.toJSON(a).uuid);this.specularMap instanceof b.Texture&&(d.specularMap=this.specularMap.toJSON(a).uuid);this.envMap instanceof b.Texture&&(d.envMap=this.envMap.toJSON(a).uuid,d.reflectivity=this.reflectivity);void 0!==this.size&&(d.size=this.size);void 0!==this.sizeAttenuation&&(d.sizeAttenuation=this.sizeAttenuation);this.blending!==b.NormalBlending&&(d.blending=this.blending);this.shading!==b.SmoothShading&&(d.shading=this.shading);this.side!==b.FrontSide&&(d.side=this.side);this.vertexColors!==
b.NoColors&&(d.vertexColors=this.vertexColors);1>this.opacity&&(d.opacity=this.opacity);!0===this.transparent&&(d.transparent=this.transparent);0<this.alphaTest&&(d.alphaTest=this.alphaTest);!0===this.premultipliedAlpha&&(d.premultipliedAlpha=this.premultipliedAlpha);!0===this.wireframe&&(d.wireframe=this.wireframe);1<this.wireframeLinewidth&&(d.wireframeLinewidth=this.wireframeLinewidth);e&&(e=c(a.textures),a=c(a.images),0<e.length&&(d.textures=e),0<a.length&&(d.images=a));return d},clone:function(){return(new this.constructor).copy(this)},
copy:function(a){this.name=a.name;this.fog=a.fog;this.lights=a.lights;this.blending=a.blending;this.side=a.side;this.vertexColors=a.vertexColors;this.opacity=a.opacity;this.transparent=a.transparent;this.blendSrc=a.blendSrc;this.blendDst=a.blendDst;this.blendEquation=a.blendEquation;this.blendSrcAlpha=a.blendSrcAlpha;this.blendDstAlpha=a.blendDstAlpha;this.blendEquationAlpha=a.blendEquationAlpha;this.depthFunc=a.depthFunc;this.depthTest=a.depthTest;this.depthWrite=a.depthWrite;this.colorWrite=a.colorWrite;
this.precision=a.precision;this.polygonOffset=a.polygonOffset;this.polygonOffsetFactor=a.polygonOffsetFactor;this.polygonOffsetUnits=a.polygonOffsetUnits;this.alphaTest=a.alphaTest;this.premultipliedAlpha=a.premultipliedAlpha;this.overdraw=a.overdraw;this.visible=a.visible;this.clipShadows=a.clipShadows;a=a.clippingPlanes;var b=null;if(null!==a)for(var e=a.length,b=Array(e),d=0;d!==e;++d)b[d]=a[d].clone();this.clippingPlanes=b;return this},update:function(){this.dispatchEvent({type:"update"})},dispose:function(){this.dispatchEvent({type:"dispose"})}};
Object.assign(b.Material.prototype,b.EventDispatcher.prototype);b.MaterialIdCount=0;b.LineBasicMaterial=function(a){b.Material.call(this);this.type="LineBasicMaterial";this.color=new b.Color(16777215);this.linewidth=1;this.linejoin=this.linecap="round";this.lights=!1;this.setValues(a)};b.LineBasicMaterial.prototype=Object.create(b.Material.prototype);b.LineBasicMaterial.prototype.constructor=b.LineBasicMaterial;b.LineBasicMaterial.prototype.copy=function(a){b.Material.prototype.copy.call(this,a);
this.color.copy(a.color);this.linewidth=a.linewidth;this.linecap=a.linecap;this.linejoin=a.linejoin;return this};b.LineDashedMaterial=function(a){b.Material.call(this);this.type="LineDashedMaterial";this.color=new b.Color(16777215);this.scale=this.linewidth=1;this.dashSize=3;this.gapSize=1;this.lights=!1;this.setValues(a)};b.LineDashedMaterial.prototype=Object.create(b.Material.prototype);b.LineDashedMaterial.prototype.constructor=b.LineDashedMaterial;b.LineDashedMaterial.prototype.copy=function(a){b.Material.prototype.copy.call(this,
a);this.color.copy(a.color);this.linewidth=a.linewidth;this.scale=a.scale;this.dashSize=a.dashSize;this.gapSize=a.gapSize;return this};b.MeshBasicMaterial=function(a){b.Material.call(this);this.type="MeshBasicMaterial";this.color=new b.Color(16777215);this.aoMap=this.map=null;this.aoMapIntensity=1;this.envMap=this.alphaMap=this.specularMap=null;this.combine=b.MultiplyOperation;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap=
"round";this.lights=this.morphTargets=this.skinning=!1;this.setValues(a)};b.MeshBasicMaterial.prototype=Object.create(b.Material.prototype);b.MeshBasicMaterial.prototype.constructor=b.MeshBasicMaterial;b.MeshBasicMaterial.prototype.copy=function(a){b.Material.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.combine=a.combine;this.reflectivity=
a.reflectivity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.skinning=a.skinning;this.morphTargets=a.morphTargets;return this};b.MeshDepthMaterial=function(a){b.Material.call(this);this.type="MeshDepthMaterial";this.depthPacking=b.BasicDepthPacking;this.morphTargets=this.skinning=!1;this.displacementMap=this.alphaMap=this.map=null;this.displacementScale=
1;this.displacementBias=0;this.wireframe=!1;this.wireframeLinewidth=1;this.lights=this.fog=!1;this.setValues(a)};b.MeshDepthMaterial.prototype=Object.create(b.Material.prototype);b.MeshDepthMaterial.prototype.constructor=b.MeshDepthMaterial;b.MeshDepthMaterial.prototype.copy=function(a){b.Material.prototype.copy.call(this,a);this.depthPacking=a.depthPacking;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.map=a.map;this.alphaMap=a.alphaMap;this.displacementMap=a.displacementMap;this.displacementScale=
a.displacementScale;this.displacementBias=a.displacementBias;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;return this};b.MeshLambertMaterial=function(a){b.Material.call(this);this.type="MeshLambertMaterial";this.color=new b.Color(16777215);this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new b.Color(0);this.emissiveIntensity=1;this.envMap=this.alphaMap=this.specularMap=this.emissiveMap=null;this.combine=b.MultiplyOperation;
this.reflectivity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.morphNormals=this.morphTargets=this.skinning=!1;this.setValues(a)};b.MeshLambertMaterial.prototype=Object.create(b.Material.prototype);b.MeshLambertMaterial.prototype.constructor=b.MeshLambertMaterial;b.MeshLambertMaterial.prototype.copy=function(a){b.Material.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.lightMap=a.lightMap;
this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.combine=a.combine;this.reflectivity=a.reflectivity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=
a.wireframeLinejoin;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;return this};b.MeshNormalMaterial=function(a){b.Material.call(this,a);this.type="MeshNormalMaterial";this.wireframe=!1;this.wireframeLinewidth=1;this.morphTargets=this.lights=this.fog=!1;this.setValues(a)};b.MeshNormalMaterial.prototype=Object.create(b.Material.prototype);b.MeshNormalMaterial.prototype.constructor=b.MeshNormalMaterial;b.MeshNormalMaterial.prototype.copy=function(a){b.Material.prototype.copy.call(this,
a);this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;return this};b.MeshPhongMaterial=function(a){b.Material.call(this);this.type="MeshPhongMaterial";this.color=new b.Color(16777215);this.specular=new b.Color(1118481);this.shininess=30;this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new b.Color(0);this.emissiveIntensity=1;this.bumpMap=this.emissiveMap=null;this.bumpScale=1;this.normalMap=null;this.normalScale=new b.Vector2(1,
1);this.displacementMap=null;this.displacementScale=1;this.displacementBias=0;this.envMap=this.alphaMap=this.specularMap=null;this.combine=b.MultiplyOperation;this.reflectivity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.morphNormals=this.morphTargets=this.skinning=!1;this.setValues(a)};b.MeshPhongMaterial.prototype=Object.create(b.Material.prototype);b.MeshPhongMaterial.prototype.constructor=b.MeshPhongMaterial;
b.MeshPhongMaterial.prototype.copy=function(a){b.Material.prototype.copy.call(this,a);this.color.copy(a.color);this.specular.copy(a.specular);this.shininess=a.shininess;this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalScale.copy(a.normalScale);
this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.specularMap=a.specularMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.combine=a.combine;this.reflectivity=a.reflectivity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.skinning=a.skinning;this.morphTargets=a.morphTargets;
this.morphNormals=a.morphNormals;return this};b.MeshStandardMaterial=function(a){b.Material.call(this);this.defines={STANDARD:""};this.type="MeshStandardMaterial";this.color=new b.Color(16777215);this.metalness=this.roughness=.5;this.lightMap=this.map=null;this.lightMapIntensity=1;this.aoMap=null;this.aoMapIntensity=1;this.emissive=new b.Color(0);this.emissiveIntensity=1;this.bumpMap=this.emissiveMap=null;this.bumpScale=1;this.normalMap=null;this.normalScale=new b.Vector2(1,1);this.displacementMap=
null;this.displacementScale=1;this.displacementBias=0;this.envMap=this.alphaMap=this.metalnessMap=this.roughnessMap=null;this.envMapIntensity=1;this.refractionRatio=.98;this.wireframe=!1;this.wireframeLinewidth=1;this.wireframeLinejoin=this.wireframeLinecap="round";this.morphNormals=this.morphTargets=this.skinning=!1;this.setValues(a)};b.MeshStandardMaterial.prototype=Object.create(b.Material.prototype);b.MeshStandardMaterial.prototype.constructor=b.MeshStandardMaterial;b.MeshStandardMaterial.prototype.copy=
function(a){b.Material.prototype.copy.call(this,a);this.defines={STANDARD:""};this.color.copy(a.color);this.roughness=a.roughness;this.metalness=a.metalness;this.map=a.map;this.lightMap=a.lightMap;this.lightMapIntensity=a.lightMapIntensity;this.aoMap=a.aoMap;this.aoMapIntensity=a.aoMapIntensity;this.emissive.copy(a.emissive);this.emissiveMap=a.emissiveMap;this.emissiveIntensity=a.emissiveIntensity;this.bumpMap=a.bumpMap;this.bumpScale=a.bumpScale;this.normalMap=a.normalMap;this.normalScale.copy(a.normalScale);
this.displacementMap=a.displacementMap;this.displacementScale=a.displacementScale;this.displacementBias=a.displacementBias;this.roughnessMap=a.roughnessMap;this.metalnessMap=a.metalnessMap;this.alphaMap=a.alphaMap;this.envMap=a.envMap;this.envMapIntensity=a.envMapIntensity;this.refractionRatio=a.refractionRatio;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.wireframeLinecap=a.wireframeLinecap;this.wireframeLinejoin=a.wireframeLinejoin;this.skinning=a.skinning;this.morphTargets=
a.morphTargets;this.morphNormals=a.morphNormals;return this};b.MeshPhysicalMaterial=function(a){b.MeshStandardMaterial.call(this);this.defines={PHYSICAL:""};this.type="MeshPhysicalMaterial";this.reflectivity=.5;this.setValues(a)};b.MeshPhysicalMaterial.prototype=Object.create(b.MeshStandardMaterial.prototype);b.MeshPhysicalMaterial.prototype.constructor=b.MeshPhysicalMaterial;b.MeshPhysicalMaterial.prototype.copy=function(a){b.MeshStandardMaterial.prototype.copy.call(this,a);this.defines={PHYSICAL:""};
this.reflectivity=a.reflectivity;return this};b.MultiMaterial=function(a){this.uuid=b.Math.generateUUID();this.type="MultiMaterial";this.materials=a instanceof Array?a:[];this.visible=!0};b.MultiMaterial.prototype={constructor:b.MultiMaterial,toJSON:function(a){for(var b={metadata:{version:4.2,type:"material",generator:"MaterialExporter"},uuid:this.uuid,type:this.type,materials:[]},e=this.materials,d=0,g=e.length;d<g;d++){var f=e[d].toJSON(a);delete f.metadata;b.materials.push(f)}b.visible=this.visible;
return b},clone:function(){for(var a=new this.constructor,b=0;b<this.materials.length;b++)a.materials.push(this.materials[b].clone());a.visible=this.visible;return a}};b.PointsMaterial=function(a){b.Material.call(this);this.type="PointsMaterial";this.color=new b.Color(16777215);this.map=null;this.size=1;this.sizeAttenuation=!0;this.lights=!1;this.setValues(a)};b.PointsMaterial.prototype=Object.create(b.Material.prototype);b.PointsMaterial.prototype.constructor=b.PointsMaterial;b.PointsMaterial.prototype.copy=
function(a){b.Material.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.size=a.size;this.sizeAttenuation=a.sizeAttenuation;return this};b.ShaderMaterial=function(a){b.Material.call(this);this.type="ShaderMaterial";this.defines={};this.uniforms={};this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}";this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}";this.linewidth=1;this.wireframe=
!1;this.wireframeLinewidth=1;this.morphNormals=this.morphTargets=this.skinning=this.clipping=this.lights=this.fog=!1;this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1};this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]};this.index0AttributeName=void 0;void 0!==a&&(void 0!==a.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(a))};b.ShaderMaterial.prototype=Object.create(b.Material.prototype);
b.ShaderMaterial.prototype.constructor=b.ShaderMaterial;b.ShaderMaterial.prototype.copy=function(a){b.Material.prototype.copy.call(this,a);this.fragmentShader=a.fragmentShader;this.vertexShader=a.vertexShader;this.uniforms=b.UniformsUtils.clone(a.uniforms);this.defines=a.defines;this.wireframe=a.wireframe;this.wireframeLinewidth=a.wireframeLinewidth;this.lights=a.lights;this.clipping=a.clipping;this.skinning=a.skinning;this.morphTargets=a.morphTargets;this.morphNormals=a.morphNormals;this.extensions=
a.extensions;return this};b.ShaderMaterial.prototype.toJSON=function(a){a=b.Material.prototype.toJSON.call(this,a);a.uniforms=this.uniforms;a.vertexShader=this.vertexShader;a.fragmentShader=this.fragmentShader;return a};b.RawShaderMaterial=function(a){b.ShaderMaterial.call(this,a);this.type="RawShaderMaterial"};b.RawShaderMaterial.prototype=Object.create(b.ShaderMaterial.prototype);b.RawShaderMaterial.prototype.constructor=b.RawShaderMaterial;b.SpriteMaterial=function(a){b.Material.call(this);this.type=
"SpriteMaterial";this.color=new b.Color(16777215);this.map=null;this.rotation=0;this.lights=this.fog=!1;this.setValues(a)};b.SpriteMaterial.prototype=Object.create(b.Material.prototype);b.SpriteMaterial.prototype.constructor=b.SpriteMaterial;b.SpriteMaterial.prototype.copy=function(a){b.Material.prototype.copy.call(this,a);this.color.copy(a.color);this.map=a.map;this.rotation=a.rotation;return this};b.ShadowMaterial=function(){b.ShaderMaterial.call(this,{uniforms:b.UniformsUtils.merge([b.UniformsLib.lights,
{opacity:{value:1}}]),vertexShader:b.ShaderChunk.shadow_vert,fragmentShader:b.ShaderChunk.shadow_frag});this.transparent=this.lights=!0;Object.defineProperties(this,{opacity:{enumerable:!0,get:function(){return this.uniforms.opacity.value},set:function(a){this.uniforms.opacity.value=a}}})};b.ShadowMaterial.prototype=Object.create(b.ShaderMaterial.prototype);b.ShadowMaterial.prototype.constructor=b.ShadowMaterial;b.Texture=function(a,c,e,d,g,f,l,m,r,k){Object.defineProperty(this,"id",{value:b.TextureIdCount++});
this.uuid=b.Math.generateUUID();this.sourceFile=this.name="";this.image=void 0!==a?a:b.Texture.DEFAULT_IMAGE;this.mipmaps=[];this.mapping=void 0!==c?c:b.Texture.DEFAULT_MAPPING;this.wrapS=void 0!==e?e:b.ClampToEdgeWrapping;this.wrapT=void 0!==d?d:b.ClampToEdgeWrapping;this.magFilter=void 0!==g?g:b.LinearFilter;this.minFilter=void 0!==f?f:b.LinearMipMapLinearFilter;this.anisotropy=void 0!==r?r:1;this.format=void 0!==l?l:b.RGBAFormat;this.type=void 0!==m?m:b.UnsignedByteType;this.offset=new b.Vector2(0,
0);this.repeat=new b.Vector2(1,1);this.generateMipmaps=!0;this.premultiplyAlpha=!1;this.flipY=!0;this.unpackAlignment=4;this.encoding=void 0!==k?k:b.LinearEncoding;this.version=0;this.onUpdate=null};b.Texture.DEFAULT_IMAGE=void 0;b.Texture.DEFAULT_MAPPING=b.UVMapping;b.Texture.prototype={constructor:b.Texture,set needsUpdate(a){!0===a&&this.version++},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.image=a.image;this.mipmaps=a.mipmaps.slice(0);this.mapping=a.mapping;
this.wrapS=a.wrapS;this.wrapT=a.wrapT;this.magFilter=a.magFilter;this.minFilter=a.minFilter;this.anisotropy=a.anisotropy;this.format=a.format;this.type=a.type;this.offset.copy(a.offset);this.repeat.copy(a.repeat);this.generateMipmaps=a.generateMipmaps;this.premultiplyAlpha=a.premultiplyAlpha;this.flipY=a.flipY;this.unpackAlignment=a.unpackAlignment;this.encoding=a.encoding;return this},toJSON:function(a){if(void 0!==a.textures[this.uuid])return a.textures[this.uuid];var c={metadata:{version:4.4,type:"Texture",
generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy};if(void 0!==this.image){var e=this.image;void 0===e.uuid&&(e.uuid=b.Math.generateUUID());if(void 0===a.images[e.uuid]){var d=a.images,g=e.uuid,f=e.uuid,l;void 0!==e.toDataURL?l=e:(l=document.createElement("canvas"),l.width=e.width,l.height=e.height,
l.getContext("2d").drawImage(e,0,0,e.width,e.height));l=2048<l.width||2048<l.height?l.toDataURL("image/jpeg",.6):l.toDataURL("image/png");d[g]={uuid:f,url:l}}c.image=e.uuid}return a.textures[this.uuid]=c},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(a){if(this.mapping===b.UVMapping){a.multiply(this.repeat);a.add(this.offset);if(0>a.x||1<a.x)switch(this.wrapS){case b.RepeatWrapping:a.x-=Math.floor(a.x);break;case b.ClampToEdgeWrapping:a.x=0>a.x?0:1;break;case b.MirroredRepeatWrapping:a.x=
1===Math.abs(Math.floor(a.x)%2)?Math.ceil(a.x)-a.x:a.x-Math.floor(a.x)}if(0>a.y||1<a.y)switch(this.wrapT){case b.RepeatWrapping:a.y-=Math.floor(a.y);break;case b.ClampToEdgeWrapping:a.y=0>a.y?0:1;break;case b.MirroredRepeatWrapping:a.y=1===Math.abs(Math.floor(a.y)%2)?Math.ceil(a.y)-a.y:a.y-Math.floor(a.y)}this.flipY&&(a.y=1-a.y)}}};Object.assign(b.Texture.prototype,b.EventDispatcher.prototype);b.TextureIdCount=0;b.DepthTexture=function(a,c,e,d,g,f,l,m,r){b.Texture.call(this,null,d,g,f,l,m,b.DepthFormat,
e,r);this.image={width:a,height:c};this.type=void 0!==e?e:b.UnsignedShortType;this.magFilter=void 0!==l?l:b.NearestFilter;this.minFilter=void 0!==m?m:b.NearestFilter;this.generateMipmaps=this.flipY=!1};b.DepthTexture.prototype=Object.create(b.Texture.prototype);b.DepthTexture.prototype.constructor=b.DepthTexture;b.CanvasTexture=function(a,c,e,d,g,f,l,m,r){b.Texture.call(this,a,c,e,d,g,f,l,m,r);this.needsUpdate=!0};b.CanvasTexture.prototype=Object.create(b.Texture.prototype);b.CanvasTexture.prototype.constructor=
b.CanvasTexture;b.CubeTexture=function(a,c,e,d,g,f,l,m,r,k){a=void 0!==a?a:[];c=void 0!==c?c:b.CubeReflectionMapping;b.Texture.call(this,a,c,e,d,g,f,l,m,r,k);this.flipY=!1};b.CubeTexture.prototype=Object.create(b.Texture.prototype);b.CubeTexture.prototype.constructor=b.CubeTexture;Object.defineProperty(b.CubeTexture.prototype,"images",{get:function(){return this.image},set:function(a){this.image=a}});b.CompressedTexture=function(a,c,e,d,g,f,l,m,r,k,p,u){b.Texture.call(this,null,f,l,m,r,k,d,g,p,u);
this.image={width:c,height:e};this.mipmaps=a;this.generateMipmaps=this.flipY=!1};b.CompressedTexture.prototype=Object.create(b.Texture.prototype);b.CompressedTexture.prototype.constructor=b.CompressedTexture;b.DataTexture=function(a,c,e,d,g,f,l,m,r,k,p,u){b.Texture.call(this,null,f,l,m,r,k,d,g,p,u);this.image={data:a,width:c,height:e};this.magFilter=void 0!==r?r:b.NearestFilter;this.minFilter=void 0!==k?k:b.NearestFilter;this.generateMipmaps=this.flipY=!1};b.DataTexture.prototype=Object.create(b.Texture.prototype);
b.DataTexture.prototype.constructor=b.DataTexture;b.VideoTexture=function(a,c,e,d,g,f,l,m,r){function k(){requestAnimationFrame(k);a.readyState>=a.HAVE_CURRENT_DATA&&(p.needsUpdate=!0)}b.Texture.call(this,a,c,e,d,g,f,l,m,r);this.generateMipmaps=!1;var p=this;k()};b.VideoTexture.prototype=Object.create(b.Texture.prototype);b.VideoTexture.prototype.constructor=b.VideoTexture;b.Group=function(){b.Object3D.call(this);this.type="Group"};b.Group.prototype=Object.assign(Object.create(b.Object3D.prototype),
{constructor:b.Group});b.Points=function(a,c){b.Object3D.call(this);this.type="Points";this.geometry=void 0!==a?a:new b.BufferGeometry;this.material=void 0!==c?c:new b.PointsMaterial({color:16777215*Math.random()})};b.Points.prototype=Object.assign(Object.create(b.Object3D.prototype),{constructor:b.Points,raycast:function(){var a=new b.Matrix4,c=new b.Ray,e=new b.Sphere;return function(d,g){function f(a,b){var e=c.distanceSqToPoint(a);if(e<p){var h=c.closestPointToPoint(a);h.applyMatrix4(r);var m=
d.ray.origin.distanceTo(h);m<d.near||m>d.far||g.push({distance:m,distanceToRay:Math.sqrt(e),point:h.clone(),index:b,face:null,object:l})}}var l=this,m=this.geometry,r=this.matrixWorld,k=d.params.Points.threshold;null===m.boundingSphere&&m.computeBoundingSphere();e.copy(m.boundingSphere);e.applyMatrix4(r);if(!1!==d.ray.intersectsSphere(e)){a.getInverse(r);c.copy(d.ray).applyMatrix4(a);var k=k/((this.scale.x+this.scale.y+this.scale.z)/3),p=k*k,k=new b.Vector3;if(m instanceof b.BufferGeometry){var u=
m.index,m=m.attributes.position.array;if(null!==u)for(var q=u.array,u=0,v=q.length;u<v;u++){var n=q[u];k.fromArray(m,3*n);f(k,n)}else for(u=0,q=m.length/3;u<q;u++)k.fromArray(m,3*u),f(k,u)}else for(k=m.vertices,u=0,q=k.length;u<q;u++)f(k[u],u)}}}(),clone:function(){return(new this.constructor(this.geometry,this.material)).copy(this)}});b.Line=function(a,c,e){if(1===e)return console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead."),new b.LineSegments(a,
c);b.Object3D.call(this);this.type="Line";this.geometry=void 0!==a?a:new b.BufferGeometry;this.material=void 0!==c?c:new b.LineBasicMaterial({color:16777215*Math.random()})};b.Line.prototype=Object.assign(Object.create(b.Object3D.prototype),{constructor:b.Line,raycast:function(){var a=new b.Matrix4,c=new b.Ray,e=new b.Sphere;return function(d,g){var f=d.linePrecision,f=f*f,l=this.geometry,m=this.matrixWorld;null===l.boundingSphere&&l.computeBoundingSphere();e.copy(l.boundingSphere);e.applyMatrix4(m);
if(!1!==d.ray.intersectsSphere(e)){a.getInverse(m);c.copy(d.ray).applyMatrix4(a);var r=new b.Vector3,k=new b.Vector3,m=new b.Vector3,p=new b.Vector3,u=this instanceof b.LineSegments?2:1;if(l instanceof b.BufferGeometry){var q=l.index,v=l.attributes.position.array;if(null!==q)for(var q=q.array,l=0,n=q.length-1;l<n;l+=u){var z=q[l+1];r.fromArray(v,3*q[l]);k.fromArray(v,3*z);z=c.distanceSqToSegment(r,k,p,m);z>f||(p.applyMatrix4(this.matrixWorld),z=d.ray.origin.distanceTo(p),z<d.near||z>d.far||g.push({distance:z,
point:m.clone().applyMatrix4(this.matrixWorld),index:l,face:null,faceIndex:null,object:this}))}else for(l=0,n=v.length/3-1;l<n;l+=u)r.fromArray(v,3*l),k.fromArray(v,3*l+3),z=c.distanceSqToSegment(r,k,p,m),z>f||(p.applyMatrix4(this.matrixWorld),z=d.ray.origin.distanceTo(p),z<d.near||z>d.far||g.push({distance:z,point:m.clone().applyMatrix4(this.matrixWorld),index:l,face:null,faceIndex:null,object:this}))}else if(l instanceof b.Geometry)for(r=l.vertices,k=r.length,l=0;l<k-1;l+=u)z=c.distanceSqToSegment(r[l],
r[l+1],p,m),z>f||(p.applyMatrix4(this.matrixWorld),z=d.ray.origin.distanceTo(p),z<d.near||z>d.far||g.push({distance:z,point:m.clone().applyMatrix4(this.matrixWorld),index:l,face:null,faceIndex:null,object:this}))}}}(),clone:function(){return(new this.constructor(this.geometry,this.material)).copy(this)}});b.LineSegments=function(a,c){b.Line.call(this,a,c);this.type="LineSegments"};b.LineSegments.prototype=Object.assign(Object.create(b.Line.prototype),{constructor:b.LineSegments});b.Mesh=function(a,
c){b.Object3D.call(this);this.type="Mesh";this.geometry=void 0!==a?a:new b.BufferGeometry;this.material=void 0!==c?c:new b.MeshBasicMaterial({color:16777215*Math.random()});this.drawMode=b.TrianglesDrawMode;this.updateMorphTargets()};b.Mesh.prototype=Object.assign(Object.create(b.Object3D.prototype),{constructor:b.Mesh,setDrawMode:function(a){this.drawMode=a},updateMorphTargets:function(){if(void 0!==this.geometry.morphTargets&&0<this.geometry.morphTargets.length){this.morphTargetBase=-1;this.morphTargetInfluences=
[];this.morphTargetDictionary={};for(var a=0,b=this.geometry.morphTargets.length;a<b;a++)this.morphTargetInfluences.push(0),this.morphTargetDictionary[this.geometry.morphTargets[a].name]=a}},getMorphTargetIndexByName:function(a){if(void 0!==this.morphTargetDictionary[a])return this.morphTargetDictionary[a];console.warn("THREE.Mesh.getMorphTargetIndexByName: morph target "+a+" does not exist. Returning 0.");return 0},raycast:function(){function a(a,c,d,e,g,f,h){b.Triangle.barycoordFromPoint(a,c,d,
e,z);g.multiplyScalar(z.x);f.multiplyScalar(z.y);h.multiplyScalar(z.z);g.add(f).add(h);return g.clone()}function c(a,c,d,e,g,f,h){var l=a.material;if(null===(l.side===b.BackSide?d.intersectTriangle(f,g,e,!0,h):d.intersectTriangle(e,g,f,l.side!==b.DoubleSide,h)))return null;A.copy(h);A.applyMatrix4(a.matrixWorld);d=c.ray.origin.distanceTo(A);return d<c.near||d>c.far?null:{distance:d,point:A.clone(),object:a}}function e(d,e,g,f,h,k,t,u){l.fromArray(f,3*k);m.fromArray(f,3*t);r.fromArray(f,3*u);if(d=
c(d,e,g,l,m,r,B))h&&(q.fromArray(h,2*k),v.fromArray(h,2*t),n.fromArray(h,2*u),d.uv=a(B,l,m,r,q,v,n)),d.face=new b.Face3(k,t,u,b.Triangle.normal(l,m,r)),d.faceIndex=k;return d}var d=new b.Matrix4,g=new b.Ray,f=new b.Sphere,l=new b.Vector3,m=new b.Vector3,r=new b.Vector3,k=new b.Vector3,p=new b.Vector3,u=new b.Vector3,q=new b.Vector2,v=new b.Vector2,n=new b.Vector2,z=new b.Vector3,B=new b.Vector3,A=new b.Vector3;return function(A,z){var D=this.geometry,H=this.material,E=this.matrixWorld;if(void 0!==
H&&(null===D.boundingSphere&&D.computeBoundingSphere(),f.copy(D.boundingSphere),f.applyMatrix4(E),!1!==A.ray.intersectsSphere(f)&&(d.getInverse(E),g.copy(A.ray).applyMatrix4(d),null===D.boundingBox||!1!==g.intersectsBox(D.boundingBox)))){var F,I;if(D instanceof b.BufferGeometry){var O,J,H=D.index,E=D.attributes,D=E.position.array;void 0!==E.uv&&(F=E.uv.array);if(null!==H)for(var E=H.array,K=0,T=E.length;K<T;K+=3){if(H=E[K],O=E[K+1],J=E[K+2],I=e(this,A,g,D,F,H,O,J))I.faceIndex=Math.floor(K/3),z.push(I)}else for(K=
0,T=D.length;K<T;K+=9)if(H=K/3,O=H+1,J=H+2,I=e(this,A,g,D,F,H,O,J))I.index=H,z.push(I)}else if(D instanceof b.Geometry){var U,S,E=H instanceof b.MultiMaterial,K=!0===E?H.materials:null,T=D.vertices;O=D.faces;J=D.faceVertexUvs[0];0<J.length&&(F=J);for(var L=0,P=O.length;L<P;L++){var Q=O[L];I=!0===E?K[Q.materialIndex]:H;if(void 0!==I){J=T[Q.a];U=T[Q.b];S=T[Q.c];if(!0===I.morphTargets){I=D.morphTargets;var M=this.morphTargetInfluences;l.set(0,0,0);m.set(0,0,0);r.set(0,0,0);for(var V=0,X=I.length;V<X;V++){var W=
M[V];if(0!==W){var N=I[V].vertices;l.addScaledVector(k.subVectors(N[Q.a],J),W);m.addScaledVector(p.subVectors(N[Q.b],U),W);r.addScaledVector(u.subVectors(N[Q.c],S),W)}}l.add(J);m.add(U);r.add(S);J=l;U=m;S=r}if(I=c(this,A,g,J,U,S,B))F&&(M=F[L],q.copy(M[0]),v.copy(M[1]),n.copy(M[2]),I.uv=a(B,J,U,S,q,v,n)),I.face=Q,I.faceIndex=L,z.push(I)}}}}}}(),clone:function(){return(new this.constructor(this.geometry,this.material)).copy(this)}});b.Bone=function(a){b.Object3D.call(this);this.type="Bone";this.skin=
a};b.Bone.prototype=Object.assign(Object.create(b.Object3D.prototype),{constructor:b.Bone,copy:function(a){b.Object3D.prototype.copy.call(this,a);this.skin=a.skin;return this}});b.Skeleton=function(a,c,e){this.useVertexTexture=void 0!==e?e:!0;this.identityMatrix=new b.Matrix4;a=a||[];this.bones=a.slice(0);this.useVertexTexture?(a=Math.sqrt(4*this.bones.length),a=b.Math.nextPowerOfTwo(Math.ceil(a)),this.boneTextureHeight=this.boneTextureWidth=a=Math.max(a,4),this.boneMatrices=new Float32Array(this.boneTextureWidth*
this.boneTextureHeight*4),this.boneTexture=new b.DataTexture(this.boneMatrices,this.boneTextureWidth,this.boneTextureHeight,b.RGBAFormat,b.FloatType)):this.boneMatrices=new Float32Array(16*this.bones.length);if(void 0===c)this.calculateInverses();else if(this.bones.length===c.length)this.boneInverses=c.slice(0);else for(console.warn("THREE.Skeleton bonInverses is the wrong length."),this.boneInverses=[],c=0,a=this.bones.length;c<a;c++)this.boneInverses.push(new b.Matrix4)};Object.assign(b.Skeleton.prototype,
{calculateInverses:function(){this.boneInverses=[];for(var a=0,c=this.bones.length;a<c;a++){var e=new b.Matrix4;this.bones[a]&&e.getInverse(this.bones[a].matrixWorld);this.boneInverses.push(e)}},pose:function(){for(var a,b=0,e=this.bones.length;b<e;b++)(a=this.bones[b])&&a.matrixWorld.getInverse(this.boneInverses[b]);b=0;for(e=this.bones.length;b<e;b++)if(a=this.bones[b])a.parent?(a.matrix.getInverse(a.parent.matrixWorld),a.matrix.multiply(a.matrixWorld)):a.matrix.copy(a.matrixWorld),a.matrix.decompose(a.position,
a.quaternion,a.scale)},update:function(){var a=new b.Matrix4;return function(){for(var b=0,e=this.bones.length;b<e;b++)a.multiplyMatrices(this.bones[b]?this.bones[b].matrixWorld:this.identityMatrix,this.boneInverses[b]),a.toArray(this.boneMatrices,16*b);this.useVertexTexture&&(this.boneTexture.needsUpdate=!0)}}(),clone:function(){return new b.Skeleton(this.bones,this.boneInverses,this.useVertexTexture)}});b.SkinnedMesh=function(a,c,e){b.Mesh.call(this,a,c);this.type="SkinnedMesh";this.bindMode="attached";
this.bindMatrix=new b.Matrix4;this.bindMatrixInverse=new b.Matrix4;a=[];if(this.geometry&&void 0!==this.geometry.bones){for(var d,g=0,f=this.geometry.bones.length;g<f;++g)d=this.geometry.bones[g],c=new b.Bone(this),a.push(c),c.name=d.name,c.position.fromArray(d.pos),c.quaternion.fromArray(d.rotq),void 0!==d.scl&&c.scale.fromArray(d.scl);g=0;for(f=this.geometry.bones.length;g<f;++g)d=this.geometry.bones[g],-1!==d.parent&&null!==d.parent&&void 0!==a[d.parent]?a[d.parent].add(a[g]):this.add(a[g])}this.normalizeSkinWeights();
this.updateMatrixWorld(!0);this.bind(new b.Skeleton(a,void 0,e),this.matrixWorld)};b.SkinnedMesh.prototype=Object.assign(Object.create(b.Mesh.prototype),{constructor:b.SkinnedMesh,bind:function(a,b){this.skeleton=a;void 0===b&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),b=this.matrixWorld);this.bindMatrix.copy(b);this.bindMatrixInverse.getInverse(b)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){if(this.geometry instanceof b.Geometry)for(var a=0;a<this.geometry.skinWeights.length;a++){var c=
this.geometry.skinWeights[a],e=1/c.lengthManhattan();Infinity!==e?c.multiplyScalar(e):c.set(1,0,0,0)}else if(this.geometry instanceof b.BufferGeometry)for(var c=new b.Vector4,d=this.geometry.attributes.skinWeight,a=0;a<d.count;a++)c.x=d.getX(a),c.y=d.getY(a),c.z=d.getZ(a),c.w=d.getW(a),e=1/c.lengthManhattan(),Infinity!==e?c.multiplyScalar(e):c.set(1,0,0,0),d.setXYZW(a,c.x,c.y,c.z,c.w)},updateMatrixWorld:function(a){b.Mesh.prototype.updateMatrixWorld.call(this,!0);"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):
"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh unrecognized bindMode: "+this.bindMode)},clone:function(){return(new this.constructor(this.geometry,this.material,this.useVertexTexture)).copy(this)}});b.LOD=function(){b.Object3D.call(this);this.type="LOD";Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})};b.LOD.prototype=Object.assign(Object.create(b.Object3D.prototype),{constructor:b.LOD,copy:function(a){b.Object3D.prototype.copy.call(this,
a,!1);a=a.levels;for(var c=0,e=a.length;c<e;c++){var d=a[c];this.addLevel(d.object.clone(),d.distance)}return this},addLevel:function(a,b){void 0===b&&(b=0);b=Math.abs(b);for(var e=this.levels,d=0;d<e.length&&!(b<e[d].distance);d++);e.splice(d,0,{distance:b,object:a});this.add(a)},getObjectForDistance:function(a){for(var b=this.levels,e=1,d=b.length;e<d&&!(a<b[e].distance);e++);return b[e-1].object},raycast:function(){var a=new b.Vector3;return function(b,e){a.setFromMatrixPosition(this.matrixWorld);
var d=b.ray.origin.distanceTo(a);this.getObjectForDistance(d).raycast(b,e)}}(),update:function(){var a=new b.Vector3,c=new b.Vector3;return function(b){var d=this.levels;if(1<d.length){a.setFromMatrixPosition(b.matrixWorld);c.setFromMatrixPosition(this.matrixWorld);b=a.distanceTo(c);d[0].object.visible=!0;for(var g=1,f=d.length;g<f;g++)if(b>=d[g].distance)d[g-1].object.visible=!1,d[g].object.visible=!0;else break;for(;g<f;g++)d[g].object.visible=!1}}}(),toJSON:function(a){a=b.Object3D.prototype.toJSON.call(this,
a);a.object.levels=[];for(var c=this.levels,e=0,d=c.length;e<d;e++){var g=c[e];a.object.levels.push({object:g.object.uuid,distance:g.distance})}return a}});b.Sprite=function(a){b.Object3D.call(this);this.type="Sprite";this.material=void 0!==a?a:new b.SpriteMaterial};b.Sprite.prototype=Object.assign(Object.create(b.Object3D.prototype),{constructor:b.Sprite,raycast:function(){var a=new b.Vector3;return function(b,e){a.setFromMatrixPosition(this.matrixWorld);var d=b.ray.distanceSqToPoint(a);d>this.scale.x*
this.scale.y/4||e.push({distance:Math.sqrt(d),point:this.position,face:null,object:this})}}(),clone:function(){return(new this.constructor(this.material)).copy(this)}});b.LensFlare=function(a,c,e,d,g){b.Object3D.call(this);this.lensFlares=[];this.positionScreen=new b.Vector3;this.customUpdateCallback=void 0;void 0!==a&&this.add(a,c,e,d,g)};b.LensFlare.prototype=Object.assign(Object.create(b.Object3D.prototype),{constructor:b.LensFlare,copy:function(a){b.Object3D.prototype.copy.call(this,a);this.positionScreen.copy(a.positionScreen);
this.customUpdateCallback=a.customUpdateCallback;for(var c=0,e=a.lensFlares.length;c<e;c++)this.lensFlares.push(a.lensFlares[c]);return this},add:function(a,c,e,d,g,f){void 0===c&&(c=-1);void 0===e&&(e=0);void 0===f&&(f=1);void 0===g&&(g=new b.Color(16777215));void 0===d&&(d=b.NormalBlending);e=Math.min(e,Math.max(0,e));this.lensFlares.push({texture:a,size:c,distance:e,x:0,y:0,z:0,scale:1,rotation:0,opacity:f,color:g,blending:d})},updateLensFlares:function(){var a,b=this.lensFlares.length,e,d=2*-this.positionScreen.x,
g=2*-this.positionScreen.y;for(a=0;a<b;a++)e=this.lensFlares[a],e.x=this.positionScreen.x+d*e.distance,e.y=this.positionScreen.y+g*e.distance,e.wantedRotation=e.x*Math.PI*.25,e.rotation+=.25*(e.wantedRotation-e.rotation)}});b.Scene=function(){b.Object3D.call(this);this.type="Scene";this.overrideMaterial=this.fog=null;this.autoUpdate=!0};b.Scene.prototype=Object.create(b.Object3D.prototype);b.Scene.prototype.constructor=b.Scene;b.Scene.prototype.copy=function(a,c){b.Object3D.prototype.copy.call(this,
a,c);null!==a.fog&&(this.fog=a.fog.clone());null!==a.overrideMaterial&&(this.overrideMaterial=a.overrideMaterial.clone());this.autoUpdate=a.autoUpdate;this.matrixAutoUpdate=a.matrixAutoUpdate;return this};b.Fog=function(a,c,e){this.name="";this.color=new b.Color(a);this.near=void 0!==c?c:1;this.far=void 0!==e?e:1E3};b.Fog.prototype.clone=function(){return new b.Fog(this.color.getHex(),this.near,this.far)};b.FogExp2=function(a,c){this.name="";this.color=new b.Color(a);this.density=void 0!==c?c:2.5E-4};
b.FogExp2.prototype.clone=function(){return new b.FogExp2(this.color.getHex(),this.density)};b.ShaderChunk={};b.ShaderChunk.alphamap_fragment="#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n";b.ShaderChunk.alphamap_pars_fragment="#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n";b.ShaderChunk.alphatest_fragment="#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n";b.ShaderChunk.aomap_fragment="#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n";
b.ShaderChunk.aomap_pars_fragment="#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif";b.ShaderChunk.begin_vertex="\nvec3 transformed = vec3( position );\n";b.ShaderChunk.beginnormal_vertex="\nvec3 objectNormal = vec3( normal );\n";b.ShaderChunk.bsdfs="bool testLightInRange( const in float lightDistance, const in float cutoffDistance ) {\n\treturn any( bvec2( cutoffDistance == 0.0, lightDistance < cutoffDistance ) );\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t\t}\n\t\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n";
b.ShaderChunk.bumpmap_pars_fragment="#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos );\n\t\tvec3 vSigmaY = dFdy( surf_pos );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n";
b.ShaderChunk.clipping_planes_fragment="#if NUM_CLIPPING_PLANES > 0\n\tfor ( int i = 0; i < NUM_CLIPPING_PLANES; ++ i ) {\n\t\tvec4 plane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n#endif\n";b.ShaderChunk.clipping_planes_pars_fragment="#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n";b.ShaderChunk.clipping_planes_pars_vertex=
"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n";b.ShaderChunk.clipping_planes_vertex="#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n";b.ShaderChunk.color_fragment="#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif";b.ShaderChunk.color_pars_fragment="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n";b.ShaderChunk.color_pars_vertex="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif";
b.ShaderChunk.color_vertex="#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif";b.ShaderChunk.common="#define PI 3.14159265359\n#define PI2 6.28318530718\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\n";
b.ShaderChunk.cube_uv_reflection_fragment="#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n";
b.ShaderChunk.defaultnormal_vertex="#ifdef FLIP_SIDED\n\tobjectNormal = -objectNormal;\n#endif\nvec3 transformedNormal = normalMatrix * objectNormal;\n";b.ShaderChunk.displacementmap_vertex="#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normal * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n";b.ShaderChunk.displacementmap_pars_vertex="#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n";
b.ShaderChunk.emissivemap_fragment="#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n";b.ShaderChunk.emissivemap_pars_fragment="#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n";b.ShaderChunk.encodings_pars_fragment="\nvec4 LinearToLinear( in vec4 value ) {\n  return value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n  return vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n  return vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n  return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n  return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n  return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n  float maxComponent = max( max( value.r, value.g ), value.b );\n  float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n  return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n  return vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n  float maxRGB = max( value.x, max( value.g, value.b ) );\n  float M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n  M            = ceil( M * 255.0 ) / 255.0;\n  return vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n    return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n    float maxRGB = max( value.x, max( value.g, value.b ) );\n    float D      = max( maxRange / maxRGB, 1.0 );\n    D            = min( floor( D ) / 255.0, 1.0 );\n    return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n  vec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n  Xp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n  vec4 vResult;\n  vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n  float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n  vResult.w = fract(Le);\n  vResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n  return vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n  float Le = value.z * 255.0 + value.w;\n  vec3 Xp_Y_XYZp;\n  Xp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n  Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n  Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n  vec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n  return vec4( max(vRGB, 0.0), 1.0 );\n}\n";
b.ShaderChunk.encodings_fragment="  gl_FragColor = linearToOutputTexel( gl_FragColor );\n";b.ShaderChunk.envmap_fragment="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#else\n\t\tfloat flipNormal = 1.0;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\tvec3 reflectView = flipNormal * normalize((viewMatrix * vec4( reflectVec, 0.0 )).xyz + vec3(0.0,0.0,1.0));\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n";
b.ShaderChunk.envmap_pars_fragment="#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntenstiy;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n";
b.ShaderChunk.envmap_pars_vertex="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n";b.ShaderChunk.envmap_vertex="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n";
b.ShaderChunk.fog_fragment="#ifdef USE_FOG\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tfloat depth = gl_FragDepthEXT / gl_FragCoord.w;\n\t#else\n\t\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;\n\t#endif\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * depth * depth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, depth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n";b.ShaderChunk.fog_pars_fragment=
"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif";b.ShaderChunk.lightmap_fragment="#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n";b.ShaderChunk.lightmap_pars_fragment="#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif";b.ShaderChunk.lights_lambert_vertex=
"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n";
b.ShaderChunk.lights_pars="uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tif ( testLightInRange( lightDistance, pointLight.distance ) ) {\n\t\t\tdirectLight.color = pointLight.color;\n\t\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( all( bvec2( angleCos > spotLight.coneCos, testLightInRange( lightDistance, spotLight.distance ) ) ) ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#else\n\t\t\tfloat flipNormal = 1.0;\n\t\t#endif\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = flipNormal * vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = flipNormal * vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar - 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#else\n\t\t\tfloat flipNormal = 1.0;\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = flipNormal * normalize((viewMatrix * vec4( reflectVec, 0.0 )).xyz + vec3(0.0,0.0,1.0));\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n";
b.ShaderChunk.lights_phong_fragment="BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n";b.ShaderChunk.lights_phong_pars_fragment="varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n";
b.ShaderChunk.lights_physical_fragment="PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.16 * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n#endif\n";b.ShaderChunk.lights_physical_pars_fragment="struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t#endif\n};\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectSpecular += radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n";
b.ShaderChunk.lights_template="\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t \tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\n\t#endif\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n\tRE_IndirectSpecular( radiance, geometry, material, reflectedLight );\n#endif\n";
b.ShaderChunk.logdepthbuf_fragment="#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\n\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\n#endif";b.ShaderChunk.logdepthbuf_pars_fragment="#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n";b.ShaderChunk.logdepthbuf_pars_vertex="#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif";
b.ShaderChunk.logdepthbuf_vertex="#ifdef USE_LOGDEPTHBUF\n\tgl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\n\t#endif\n#endif\n";b.ShaderChunk.map_fragment="#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n";b.ShaderChunk.map_pars_fragment=
"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n";b.ShaderChunk.map_particle_fragment="#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n";b.ShaderChunk.map_particle_pars_fragment="#ifdef USE_MAP\n\tuniform vec4 offsetRepeat;\n\tuniform sampler2D map;\n#endif\n";b.ShaderChunk.metalnessmap_fragment="float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.r;\n#endif\n";
b.ShaderChunk.metalnessmap_pars_fragment="#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif";b.ShaderChunk.morphnormal_vertex="#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n";b.ShaderChunk.morphtarget_pars_vertex=
"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif";b.ShaderChunk.morphtarget_vertex="#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n";
b.ShaderChunk.normal_fragment="#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( -1.0 + 2.0 * float( gl_FrontFacing ) );\n\t#endif\n#endif\n#ifdef USE_NORMALMAP\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n";
b.ShaderChunk.normalmap_pars_fragment="#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n";
b.ShaderChunk.packing="vec3 packNormalToRGB( const in vec3 normal ) {\n  return normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n  return 1.0 - 2.0 * rgb.xyz;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthoDepth( const in float viewZ, const in float near, const in float far ) {\n  return ( viewZ + near ) / ( near - far );\n}\nfloat OrthoDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n  return linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n  return (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n  return ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n";
b.ShaderChunk.premultiplied_alpha_fragment="#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n";b.ShaderChunk.project_vertex="#ifdef USE_SKINNING\n\tvec4 mvPosition = modelViewMatrix * skinned;\n#else\n\tvec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n#endif\ngl_Position = projectionMatrix * mvPosition;\n";b.ShaderChunk.roughnessmap_fragment="float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.r;\n#endif\n";
b.ShaderChunk.roughnessmap_pars_fragment="#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif";b.ShaderChunk.shadowmap_pars_fragment="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn 1.0;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\tfloat dp = ( length( lightToPosition ) - shadowBias ) / 1000.0;\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n";
b.ShaderChunk.shadowmap_pars_vertex="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n";
b.ShaderChunk.shadowmap_vertex="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n";
b.ShaderChunk.shadowmask_pars_fragment="float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n";
b.ShaderChunk.skinbase_vertex="#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif";b.ShaderChunk.skinning_pars_vertex="#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureWidth;\n\t\tuniform int boneTextureHeight;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureWidth ) );\n\t\t\tfloat y = floor( j / float( boneTextureWidth ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureWidth );\n\t\t\tfloat dy = 1.0 / float( boneTextureHeight );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n";
b.ShaderChunk.skinning_vertex="#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\tskinned  = bindMatrixInverse * skinned;\n#endif\n";b.ShaderChunk.skinnormal_vertex="#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n";
b.ShaderChunk.specularmap_fragment="float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif";b.ShaderChunk.specularmap_pars_fragment="#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif";b.ShaderChunk.tonemapping_fragment="#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n";b.ShaderChunk.tonemapping_pars_fragment="#define saturate(a) clamp( a, 0.0, 1.0 )\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n  return toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  return saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  return saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  color = max( vec3( 0.0 ), color - 0.004 );\n  return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n";
b.ShaderChunk.uv2_pars_fragment="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif";b.ShaderChunk.uv2_pars_vertex="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif";b.ShaderChunk.uv2_vertex="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif";b.ShaderChunk.uv_pars_fragment="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif";
b.ShaderChunk.uv_pars_vertex="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform vec4 offsetRepeat;\n#endif\n";b.ShaderChunk.uv_vertex="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n#endif";
b.ShaderChunk.worldpos_vertex="#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( PHYSICAL ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n\t#ifdef USE_SKINNING\n\t\tvec4 worldPosition = modelMatrix * skinned;\n\t#else\n\t\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n\t#endif\n#endif\n";b.UniformsUtils={merge:function(a){for(var b={},e=0;e<a.length;e++){var d=this.clone(a[e]),g;for(g in d)b[g]=d[g]}return b},clone:function(a){var c={},e;for(e in a){c[e]={};for(var d in a[e]){var g=
a[e][d];g instanceof b.Color||g instanceof b.Vector2||g instanceof b.Vector3||g instanceof b.Vector4||g instanceof b.Matrix3||g instanceof b.Matrix4||g instanceof b.Texture?c[e][d]=g.clone():Array.isArray(g)?c[e][d]=g.slice():c[e][d]=g}}return c}};b.UniformsLib={common:{diffuse:{type:"c",value:new b.Color(15658734)},opacity:{type:"1f",value:1},map:{type:"t",value:null},offsetRepeat:{type:"v4",value:new b.Vector4(0,0,1,1)},specularMap:{type:"t",value:null},alphaMap:{type:"t",value:null},envMap:{type:"t",
value:null},flipEnvMap:{type:"1f",value:-1},reflectivity:{type:"1f",value:1},refractionRatio:{type:"1f",value:.98}},aomap:{aoMap:{type:"t",value:null},aoMapIntensity:{type:"1f",value:1}},lightmap:{lightMap:{type:"t",value:null},lightMapIntensity:{type:"1f",value:1}},emissivemap:{emissiveMap:{type:"t",value:null}},bumpmap:{bumpMap:{type:"t",value:null},bumpScale:{type:"1f",value:1}},normalmap:{normalMap:{type:"t",value:null},normalScale:{type:"v2",value:new b.Vector2(1,1)}},displacementmap:{displacementMap:{type:"t",
value:null},displacementScale:{type:"1f",value:1},displacementBias:{type:"1f",value:0}},roughnessmap:{roughnessMap:{type:"t",value:null}},metalnessmap:{metalnessMap:{type:"t",value:null}},fog:{fogDensity:{type:"1f",value:2.5E-4},fogNear:{type:"1f",value:1},fogFar:{type:"1f",value:2E3},fogColor:{type:"c",value:new b.Color(16777215)}},lights:{ambientLightColor:{type:"3fv",value:[]},directionalLights:{type:"sa",value:[],properties:{direction:{type:"v3"},color:{type:"c"},shadow:{type:"1i"},shadowBias:{type:"1f"},
shadowRadius:{type:"1f"},shadowMapSize:{type:"v2"}}},directionalShadowMap:{type:"tv",value:[]},directionalShadowMatrix:{type:"m4v",value:[]},spotLights:{type:"sa",value:[],properties:{color:{type:"c"},position:{type:"v3"},direction:{type:"v3"},distance:{type:"1f"},coneCos:{type:"1f"},penumbraCos:{type:"1f"},decay:{type:"1f"},shadow:{type:"1i"},shadowBias:{type:"1f"},shadowRadius:{type:"1f"},shadowMapSize:{type:"v2"}}},spotShadowMap:{type:"tv",value:[]},spotShadowMatrix:{type:"m4v",value:[]},pointLights:{type:"sa",
value:[],properties:{color:{type:"c"},position:{type:"v3"},decay:{type:"1f"},distance:{type:"1f"},shadow:{type:"1i"},shadowBias:{type:"1f"},shadowRadius:{type:"1f"},shadowMapSize:{type:"v2"}}},pointShadowMap:{type:"tv",value:[]},pointShadowMatrix:{type:"m4v",value:[]},hemisphereLights:{type:"sa",value:[],properties:{direction:{type:"v3"},skyColor:{type:"c"},groundColor:{type:"c"}}}},points:{diffuse:{type:"c",value:new b.Color(15658734)},opacity:{type:"1f",value:1},size:{type:"1f",value:1},scale:{type:"1f",
value:1},map:{type:"t",value:null},offsetRepeat:{type:"v4",value:new b.Vector4(0,0,1,1)}}};b.ShaderChunk.cube_frag="uniform samplerCube tCube;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\t#include <logdepthbuf_fragment>\n}\n";b.ShaderChunk.cube_vert=
"varying vec3 vWorldPosition;\n#include <common>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n";b.ShaderChunk.depth_frag="#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n";
b.ShaderChunk.depth_vert="#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n";
b.ShaderChunk.distanceRGBA_frag="uniform vec3 lightPos;\nvarying vec4 vWorldPosition;\n#include <common>\n#include <packing>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tgl_FragColor = packDepthToRGBA( length( vWorldPosition.xyz - lightPos.xyz ) / 1000.0 );\n}\n";b.ShaderChunk.distanceRGBA_vert="varying vec4 vWorldPosition;\n#include <common>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition;\n}\n";
b.ShaderChunk.equirect_frag="uniform sampler2D tEquirect;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <logdepthbuf_fragment>\n}\n";
b.ShaderChunk.equirect_vert="varying vec3 vWorldPosition;\n#include <common>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n";b.ShaderChunk.linedashed_frag="uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n";
b.ShaderChunk.linedashed_vert="uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n";
b.ShaderChunk.meshbasic_frag="uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight;\n\treflectedLight.directDiffuse = vec3( 0.0 );\n\treflectedLight.directSpecular = vec3( 0.0 );\n\treflectedLight.indirectDiffuse = diffuseColor.rgb;\n\treflectedLight.indirectSpecular = vec3( 0.0 );\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n";
b.ShaderChunk.meshbasic_vert="#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n}\n";
b.ShaderChunk.meshlambert_frag="uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n";
b.ShaderChunk.meshlambert_vert="#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n}\n";
b.ShaderChunk.meshphong_frag="#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n";
b.ShaderChunk.meshphong_vert="#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n}\n";
b.ShaderChunk.meshphysical_frag="#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\nuniform float envMapIntensity;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n";
b.ShaderChunk.meshphysical_vert="#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n";
b.ShaderChunk.normal_frag="uniform float opacity;\nvarying vec3 vNormal;\n#include <common>\n#include <packing>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tgl_FragColor = vec4( packNormalToRGB( vNormal ), opacity );\n\t#include <logdepthbuf_fragment>\n}\n";b.ShaderChunk.normal_vert="varying vec3 vNormal;\n#include <common>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvNormal = normalize( normalMatrix * normal );\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n";
b.ShaderChunk.points_frag="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n";
b.ShaderChunk.points_vert="uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n";
b.ShaderChunk.shadow_frag="uniform float opacity;\n#include <common>\n#include <packing>\n#include <bsdfs>\n#include <lights_pars>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( 0.0, 0.0, 0.0, opacity * ( 1.0  - getShadowMask() ) );\n}\n";b.ShaderChunk.shadow_vert="#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n";
b.ShaderLib={basic:{uniforms:b.UniformsUtils.merge([b.UniformsLib.common,b.UniformsLib.aomap,b.UniformsLib.fog]),vertexShader:b.ShaderChunk.meshbasic_vert,fragmentShader:b.ShaderChunk.meshbasic_frag},lambert:{uniforms:b.UniformsUtils.merge([b.UniformsLib.common,b.UniformsLib.aomap,b.UniformsLib.lightmap,b.UniformsLib.emissivemap,b.UniformsLib.fog,b.UniformsLib.lights,{emissive:{type:"c",value:new b.Color(0)}}]),vertexShader:b.ShaderChunk.meshlambert_vert,fragmentShader:b.ShaderChunk.meshlambert_frag},
phong:{uniforms:b.UniformsUtils.merge([b.UniformsLib.common,b.UniformsLib.aomap,b.UniformsLib.lightmap,b.UniformsLib.emissivemap,b.UniformsLib.bumpmap,b.UniformsLib.normalmap,b.UniformsLib.displacementmap,b.UniformsLib.fog,b.UniformsLib.lights,{emissive:{type:"c",value:new b.Color(0)},specular:{type:"c",value:new b.Color(1118481)},shininess:{type:"1f",value:30}}]),vertexShader:b.ShaderChunk.meshphong_vert,fragmentShader:b.ShaderChunk.meshphong_frag},standard:{uniforms:b.UniformsUtils.merge([b.UniformsLib.common,
b.UniformsLib.aomap,b.UniformsLib.lightmap,b.UniformsLib.emissivemap,b.UniformsLib.bumpmap,b.UniformsLib.normalmap,b.UniformsLib.displacementmap,b.UniformsLib.roughnessmap,b.UniformsLib.metalnessmap,b.UniformsLib.fog,b.UniformsLib.lights,{emissive:{type:"c",value:new b.Color(0)},roughness:{type:"1f",value:.5},metalness:{type:"1f",value:0},envMapIntensity:{type:"1f",value:1}}]),vertexShader:b.ShaderChunk.meshphysical_vert,fragmentShader:b.ShaderChunk.meshphysical_frag},points:{uniforms:b.UniformsUtils.merge([b.UniformsLib.points,
b.UniformsLib.fog]),vertexShader:b.ShaderChunk.points_vert,fragmentShader:b.ShaderChunk.points_frag},dashed:{uniforms:b.UniformsUtils.merge([b.UniformsLib.common,b.UniformsLib.fog,{scale:{type:"1f",value:1},dashSize:{type:"1f",value:1},totalSize:{type:"1f",value:2}}]),vertexShader:b.ShaderChunk.linedashed_vert,fragmentShader:b.ShaderChunk.linedashed_frag},depth:{uniforms:b.UniformsUtils.merge([b.UniformsLib.common,b.UniformsLib.displacementmap]),vertexShader:b.ShaderChunk.depth_vert,fragmentShader:b.ShaderChunk.depth_frag},
normal:{uniforms:{opacity:{type:"1f",value:1}},vertexShader:b.ShaderChunk.normal_vert,fragmentShader:b.ShaderChunk.normal_frag},cube:{uniforms:{tCube:{type:"t",value:null},tFlip:{type:"1f",value:-1}},vertexShader:b.ShaderChunk.cube_vert,fragmentShader:b.ShaderChunk.cube_frag},equirect:{uniforms:{tEquirect:{type:"t",value:null},tFlip:{type:"1f",value:-1}},vertexShader:b.ShaderChunk.equirect_vert,fragmentShader:b.ShaderChunk.equirect_frag},distanceRGBA:{uniforms:{lightPos:{type:"v3",value:new b.Vector3}},
vertexShader:b.ShaderChunk.distanceRGBA_vert,fragmentShader:b.ShaderChunk.distanceRGBA_frag}};b.ShaderLib.physical={uniforms:b.UniformsUtils.merge([b.ShaderLib.standard.uniforms,{}]),vertexShader:b.ShaderChunk.meshphysical_vert,fragmentShader:b.ShaderChunk.meshphysical_frag};b.WebGLRenderer=function(a){function c(a,b,c,d){!0===P&&(a*=d,b*=d,c*=d);R.clearColor(a,b,c,d)}function e(){R.init();R.scissor(ya.copy(Ga).multiplyScalar(ia));R.viewport(ua.copy(va).multiplyScalar(ia));c(ha.r,ha.g,ha.b,qa)}function d(){oa=
ka=null;ta="";fa=-1;R.reset()}function g(a){a.preventDefault();d();e();aa.clear()}function f(a){a=a.target;a.removeEventListener("dispose",f);a:{var b=aa.get(a);if(a.image&&b.__image__webglTextureCube)y.deleteTexture(b.__image__webglTextureCube);else{if(void 0===b.__webglInit)break a;y.deleteTexture(b.__webglTexture)}aa["delete"](a)}ra.textures--}function l(a){a=a.target;a.removeEventListener("dispose",l);var c=aa.get(a),d=aa.get(a.texture);if(a){void 0!==d.__webglTexture&&y.deleteTexture(d.__webglTexture);
a.depthTexture&&a.depthTexture.dispose();if(a instanceof b.WebGLRenderTargetCube)for(d=0;6>d;d++)y.deleteFramebuffer(c.__webglFramebuffer[d]),c.__webglDepthbuffer&&y.deleteRenderbuffer(c.__webglDepthbuffer[d]);else y.deleteFramebuffer(c.__webglFramebuffer),c.__webglDepthbuffer&&y.deleteRenderbuffer(c.__webglDepthbuffer);aa["delete"](a.texture);aa["delete"](a)}ra.textures--}function m(a){a=a.target;a.removeEventListener("dispose",m);k(a);aa["delete"](a)}function k(a){var b=aa.get(a).program;a.program=
void 0;void 0!==b&&wa.releaseProgram(b)}function t(a,b){return Math.abs(b[0])-Math.abs(a[0])}function p(a,b){return a.object.renderOrder!==b.object.renderOrder?a.object.renderOrder-b.object.renderOrder:a.material.id!==b.material.id?a.material.id-b.material.id:a.z!==b.z?a.z-b.z:a.id-b.id}function u(a,b){return a.object.renderOrder!==b.object.renderOrder?a.object.renderOrder-b.object.renderOrder:a.z!==b.z?b.z-a.z:a.id-b.id}function q(a,b,c,d,e){var g;c.transparent?(d=W,g=++N):(d=V,g=++X);g=d[g];void 0!==
g?(g.id=a.id,g.object=a,g.geometry=b,g.material=c,g.z=ea.z,g.group=e):(g={id:a.id,object:a,geometry:b,material:c,z:ea.z,group:e},d.push(g))}function v(a){if(!Ia.intersectsSphere(a))return!1;var b=la.numPlanes;if(0===b)return!0;var c=ca.clippingPlanes,d=a.center;a=-a.radius;var e=0;do if(c[e].distanceToPoint(d)<a)return!1;while(++e!==b);return!0}function n(a,c){if(!1!==a.visible){if(a.layers.test(c.layers))if(a instanceof b.Light)M.push(a);else if(a instanceof b.Sprite){var d;(d=!1===a.frustumCulled)||
(sa.center.set(0,0,0),sa.radius=.7071067811865476,sa.applyMatrix4(a.matrixWorld),d=!0===v(sa));d&&Z.push(a)}else if(a instanceof b.LensFlare)da.push(a);else if(a instanceof b.ImmediateRenderObject)!0===ca.sortObjects&&(ea.setFromMatrixPosition(a.matrixWorld),ea.applyProjection(Ca)),q(a,null,a.material,ea.z,null);else if(a instanceof b.Mesh||a instanceof b.Line||a instanceof b.Points)if(a instanceof b.SkinnedMesh&&a.skeleton.update(),(d=!1===a.frustumCulled)||(d=a.geometry,null===d.boundingSphere&&
d.computeBoundingSphere(),sa.copy(d.boundingSphere).applyMatrix4(a.matrixWorld),d=!0===v(sa)),d){var e=a.material;if(!0===e.visible)if(!0===ca.sortObjects&&(ea.setFromMatrixPosition(a.matrixWorld),ea.applyProjection(Ca)),d=xa.update(a),e instanceof b.MultiMaterial)for(var g=d.groups,f=e.materials,e=0,h=g.length;e<h;e++){var l=g[e],m=f[l.materialIndex];!0===m.visible&&q(a,d,m,ea.z,l)}else q(a,d,e,ea.z,null)}d=a.children;e=0;for(h=d.length;e<h;e++)n(d[e],c)}}function z(a,c,d,e){for(var g=0,f=a.length;g<
f;g++){var h=a[g],l=h.object,m=h.geometry,k=void 0===e?h.material:e,h=h.group;l.modelViewMatrix.multiplyMatrices(c.matrixWorldInverse,l.matrixWorld);l.normalMatrix.getNormalMatrix(l.modelViewMatrix);if(l instanceof b.ImmediateRenderObject){B(k);var r=A(c,d,k,l);ta="";l.render(function(a){ca.renderBufferImmediate(a,r,k)})}else ca.renderBufferDirect(c,d,m,k,l,h)}}function B(a){a.side!==b.DoubleSide?R.enable(y.CULL_FACE):R.disable(y.CULL_FACE);R.setFlipSided(a.side===b.BackSide);!0===a.transparent?R.setBlending(a.blending,
a.blendEquation,a.blendSrc,a.blendDst,a.blendEquationAlpha,a.blendSrcAlpha,a.blendDstAlpha,a.premultipliedAlpha):R.setBlending(b.NoBlending);R.setDepthFunc(a.depthFunc);R.setDepthTest(a.depthTest);R.setDepthWrite(a.depthWrite);R.setColorWrite(a.colorWrite);R.setPolygonOffset(a.polygonOffset,a.polygonOffsetFactor,a.polygonOffsetUnits)}function A(a,c,d,e){za=0;var g=aa.get(d);Da&&((Ha||a!==oa)&&la.setState(d.clippingPlanes,d.clipShadows,a,g,a===oa&&d.id===fa),void 0!==g.numClippingPlanes&&g.numClippingPlanes!==
la.numPlanes&&(d.needsUpdate=!0));void 0===g.program&&(d.needsUpdate=!0);void 0!==g.lightsHash&&g.lightsHash!==Y.hash&&(d.needsUpdate=!0);if(d.needsUpdate){a:{var f=aa.get(d),h=wa.getParameters(d,Y,c,la.numPlanes,e),l=wa.getProgramCode(d,h),t=f.program,q=!0;if(void 0===t)d.addEventListener("dispose",m);else if(t.code!==l)k(d);else if(void 0!==h.shaderID)break a;else q=!1;q&&(h.shaderID?(t=b.ShaderLib[h.shaderID],f.__webglShader={name:d.type,uniforms:b.UniformsUtils.clone(t.uniforms),vertexShader:t.vertexShader,
fragmentShader:t.fragmentShader}):f.__webglShader={name:d.type,uniforms:d.uniforms,vertexShader:d.vertexShader,fragmentShader:d.fragmentShader},d.__webglShader=f.__webglShader,t=wa.acquireProgram(d,h,l),f.program=t,d.program=t);h=t.getAttributes();if(d.morphTargets)for(l=d.numSupportedMorphTargets=0;l<ca.maxMorphTargets;l++)0<=h["morphTarget"+l]&&d.numSupportedMorphTargets++;if(d.morphNormals)for(l=d.numSupportedMorphNormals=0;l<ca.maxMorphNormals;l++)0<=h["morphNormal"+l]&&d.numSupportedMorphNormals++;
h=f.__webglShader.uniforms;(d instanceof b.ShaderMaterial||d instanceof b.RawShaderMaterial)&&!0!==d.clipping||(f.numClippingPlanes=la.numPlanes,h.clippingPlanes=la.uniform);d.lights&&(f.lightsHash=Y.hash,h.ambientLightColor.value=Y.ambient,h.directionalLights.value=Y.directional,h.spotLights.value=Y.spot,h.pointLights.value=Y.point,h.hemisphereLights.value=Y.hemi,h.directionalShadowMap.value=Y.directionalShadowMap,h.directionalShadowMatrix.value=Y.directionalShadowMatrix,h.spotShadowMap.value=Y.spotShadowMap,
h.spotShadowMatrix.value=Y.spotShadowMatrix,h.pointShadowMap.value=Y.pointShadowMap,h.pointShadowMatrix.value=Y.pointShadowMatrix);l=f.program.getUniforms();l=b.WebGLUniforms.seqWithValue(l.seq,h);f.uniformsList=l;f.dynamicUniforms=b.WebGLUniforms.splitDynamic(l,h)}d.needsUpdate=!1}var u=!1,q=t=!1,f=g.program,l=f.getUniforms(),h=g.__webglShader.uniforms;f.id!==ka&&(y.useProgram(f.program),ka=f.id,q=t=u=!0);d.id!==fa&&(fa=d.id,t=!0);if(u||a!==oa){l.set(y,a,"projectionMatrix");ma.logarithmicDepthBuffer&&
l.setValue(y,"logDepthBufFC",2/(Math.log(a.far+1)/Math.LN2));a!==oa&&(oa=a,q=t=!0);if(d instanceof b.ShaderMaterial||d instanceof b.MeshPhongMaterial||d instanceof b.MeshStandardMaterial||d.envMap)u=l.map.cameraPosition,void 0!==u&&u.setValue(y,ea.setFromMatrixPosition(a.matrixWorld));(d instanceof b.MeshPhongMaterial||d instanceof b.MeshLambertMaterial||d instanceof b.MeshBasicMaterial||d instanceof b.MeshStandardMaterial||d instanceof b.ShaderMaterial||d.skinning)&&l.setValue(y,"viewMatrix",a.matrixWorldInverse);
l.set(y,ca,"toneMappingExposure");l.set(y,ca,"toneMappingWhitePoint")}d.skinning&&(l.setOptional(y,e,"bindMatrix"),l.setOptional(y,e,"bindMatrixInverse"),u=e.skeleton)&&(ma.floatVertexTextures&&u.useVertexTexture?(l.set(y,u,"boneTexture"),l.set(y,u,"boneTextureWidth"),l.set(y,u,"boneTextureHeight")):l.setOptional(y,u,"boneMatrices"));if(t){d.lights&&(t=q,h.ambientLightColor.needsUpdate=t,h.directionalLights.needsUpdate=t,h.pointLights.needsUpdate=t,h.spotLights.needsUpdate=t,h.hemisphereLights.needsUpdate=
t);c&&d.fog&&(h.fogColor.value=c.color,c instanceof b.Fog?(h.fogNear.value=c.near,h.fogFar.value=c.far):c instanceof b.FogExp2&&(h.fogDensity.value=c.density));if(d instanceof b.MeshBasicMaterial||d instanceof b.MeshLambertMaterial||d instanceof b.MeshPhongMaterial||d instanceof b.MeshStandardMaterial||d instanceof b.MeshDepthMaterial){h.opacity.value=d.opacity;h.diffuse.value=d.color;d.emissive&&h.emissive.value.copy(d.emissive).multiplyScalar(d.emissiveIntensity);h.map.value=d.map;h.specularMap.value=
d.specularMap;h.alphaMap.value=d.alphaMap;d.aoMap&&(h.aoMap.value=d.aoMap,h.aoMapIntensity.value=d.aoMapIntensity);var p;d.map?p=d.map:d.specularMap?p=d.specularMap:d.displacementMap?p=d.displacementMap:d.normalMap?p=d.normalMap:d.bumpMap?p=d.bumpMap:d.roughnessMap?p=d.roughnessMap:d.metalnessMap?p=d.metalnessMap:d.alphaMap?p=d.alphaMap:d.emissiveMap&&(p=d.emissiveMap);void 0!==p&&(p instanceof b.WebGLRenderTarget&&(p=p.texture),c=p.offset,p=p.repeat,h.offsetRepeat.value.set(c.x,c.y,p.x,p.y));h.envMap.value=
d.envMap;h.flipEnvMap.value=d.envMap instanceof b.CubeTexture?-1:1;h.reflectivity.value=d.reflectivity;h.refractionRatio.value=d.refractionRatio}d instanceof b.LineBasicMaterial?(h.diffuse.value=d.color,h.opacity.value=d.opacity):d instanceof b.LineDashedMaterial?(h.diffuse.value=d.color,h.opacity.value=d.opacity,h.dashSize.value=d.dashSize,h.totalSize.value=d.dashSize+d.gapSize,h.scale.value=d.scale):d instanceof b.PointsMaterial?(h.diffuse.value=d.color,h.opacity.value=d.opacity,h.size.value=d.size*
ia,h.scale.value=.5*J.clientHeight,h.map.value=d.map,null!==d.map&&(p=d.map.offset,d=d.map.repeat,h.offsetRepeat.value.set(p.x,p.y,d.x,d.y))):d instanceof b.MeshLambertMaterial?(d.lightMap&&(h.lightMap.value=d.lightMap,h.lightMapIntensity.value=d.lightMapIntensity),d.emissiveMap&&(h.emissiveMap.value=d.emissiveMap)):d instanceof b.MeshPhongMaterial?(h.specular.value=d.specular,h.shininess.value=Math.max(d.shininess,1E-4),d.lightMap&&(h.lightMap.value=d.lightMap,h.lightMapIntensity.value=d.lightMapIntensity),
d.emissiveMap&&(h.emissiveMap.value=d.emissiveMap),d.bumpMap&&(h.bumpMap.value=d.bumpMap,h.bumpScale.value=d.bumpScale),d.normalMap&&(h.normalMap.value=d.normalMap,h.normalScale.value.copy(d.normalScale)),d.displacementMap&&(h.displacementMap.value=d.displacementMap,h.displacementScale.value=d.displacementScale,h.displacementBias.value=d.displacementBias)):d instanceof b.MeshPhysicalMaterial?C(h,d):d instanceof b.MeshStandardMaterial?C(h,d):d instanceof b.MeshDepthMaterial?d.displacementMap&&(h.displacementMap.value=
d.displacementMap,h.displacementScale.value=d.displacementScale,h.displacementBias.value=d.displacementBias):d instanceof b.MeshNormalMaterial&&(h.opacity.value=d.opacity);b.WebGLUniforms.upload(y,g.uniformsList,h,ca)}l.set(y,e,"modelViewMatrix");l.set(y,e,"normalMatrix");l.setValue(y,"modelMatrix",e.matrixWorld);g=g.dynamicUniforms;null!==g&&(b.WebGLUniforms.evalDynamic(g,h,e,a),b.WebGLUniforms.upload(y,g,h,ca));return f}function C(a,b){a.roughness.value=b.roughness;a.metalness.value=b.metalness;
b.roughnessMap&&(a.roughnessMap.value=b.roughnessMap);b.metalnessMap&&(a.metalnessMap.value=b.metalnessMap);b.lightMap&&(a.lightMap.value=b.lightMap,a.lightMapIntensity.value=b.lightMapIntensity);b.emissiveMap&&(a.emissiveMap.value=b.emissiveMap);b.bumpMap&&(a.bumpMap.value=b.bumpMap,a.bumpScale.value=b.bumpScale);b.normalMap&&(a.normalMap.value=b.normalMap,a.normalScale.value.copy(b.normalScale));b.displacementMap&&(a.displacementMap.value=b.displacementMap,a.displacementScale.value=b.displacementScale,
a.displacementBias.value=b.displacementBias);b.envMap&&(a.envMapIntensity.value=b.envMapIntensity)}function G(a,c,d){d?(y.texParameteri(a,y.TEXTURE_WRAP_S,O(c.wrapS)),y.texParameteri(a,y.TEXTURE_WRAP_T,O(c.wrapT)),y.texParameteri(a,y.TEXTURE_MAG_FILTER,O(c.magFilter)),y.texParameteri(a,y.TEXTURE_MIN_FILTER,O(c.minFilter))):(y.texParameteri(a,y.TEXTURE_WRAP_S,y.CLAMP_TO_EDGE),y.texParameteri(a,y.TEXTURE_WRAP_T,y.CLAMP_TO_EDGE),c.wrapS===b.ClampToEdgeWrapping&&c.wrapT===b.ClampToEdgeWrapping||console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.",
c),y.texParameteri(a,y.TEXTURE_MAG_FILTER,I(c.magFilter)),y.texParameteri(a,y.TEXTURE_MIN_FILTER,I(c.minFilter)),c.minFilter!==b.NearestFilter&&c.minFilter!==b.LinearFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.",c));!(d=ba.get("EXT_texture_filter_anisotropic"))||c.type===b.FloatType&&null===ba.get("OES_texture_float_linear")||c.type===b.HalfFloatType&&null===ba.get("OES_texture_half_float_linear")||
!(1<c.anisotropy||aa.get(c).__currentAnisotropy)||(y.texParameterf(a,d.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(c.anisotropy,ca.getMaxAnisotropy())),aa.get(c).__currentAnisotropy=c.anisotropy)}function D(a,b){if(a.width>b||a.height>b){var c=b/Math.max(a.width,a.height),d=document.createElement("canvas");d.width=Math.floor(a.width*c);d.height=Math.floor(a.height*c);d.getContext("2d").drawImage(a,0,0,a.width,a.height,0,0,d.width,d.height);console.warn("THREE.WebGLRenderer: image is too big ("+a.width+"x"+
a.height+"). Resized to "+d.width+"x"+d.height,a);return d}return a}function H(a){return b.Math.isPowerOfTwo(a.width)&&b.Math.isPowerOfTwo(a.height)}function E(a,b,c,d){var e=O(b.texture.format),g=O(b.texture.type);R.texImage2D(d,0,e,b.width,b.height,0,e,g,null);y.bindFramebuffer(y.FRAMEBUFFER,a);y.framebufferTexture2D(y.FRAMEBUFFER,c,d,aa.get(b.texture).__webglTexture,0);y.bindFramebuffer(y.FRAMEBUFFER,null)}function F(a,b){y.bindRenderbuffer(y.RENDERBUFFER,a);b.depthBuffer&&!b.stencilBuffer?(y.renderbufferStorage(y.RENDERBUFFER,
y.DEPTH_COMPONENT16,b.width,b.height),y.framebufferRenderbuffer(y.FRAMEBUFFER,y.DEPTH_ATTACHMENT,y.RENDERBUFFER,a)):b.depthBuffer&&b.stencilBuffer?(y.renderbufferStorage(y.RENDERBUFFER,y.DEPTH_STENCIL,b.width,b.height),y.framebufferRenderbuffer(y.FRAMEBUFFER,y.DEPTH_STENCIL_ATTACHMENT,y.RENDERBUFFER,a)):y.renderbufferStorage(y.RENDERBUFFER,y.RGBA4,b.width,b.height);y.bindRenderbuffer(y.RENDERBUFFER,null)}function I(a){return a===b.NearestFilter||a===b.NearestMipMapNearestFilter||a===b.NearestMipMapLinearFilter?
y.NEAREST:y.LINEAR}function O(a){var c;if(a===b.RepeatWrapping)return y.REPEAT;if(a===b.ClampToEdgeWrapping)return y.CLAMP_TO_EDGE;if(a===b.MirroredRepeatWrapping)return y.MIRRORED_REPEAT;if(a===b.NearestFilter)return y.NEAREST;if(a===b.NearestMipMapNearestFilter)return y.NEAREST_MIPMAP_NEAREST;if(a===b.NearestMipMapLinearFilter)return y.NEAREST_MIPMAP_LINEAR;if(a===b.LinearFilter)return y.LINEAR;if(a===b.LinearMipMapNearestFilter)return y.LINEAR_MIPMAP_NEAREST;if(a===b.LinearMipMapLinearFilter)return y.LINEAR_MIPMAP_LINEAR;
if(a===b.UnsignedByteType)return y.UNSIGNED_BYTE;if(a===b.UnsignedShort4444Type)return y.UNSIGNED_SHORT_4_4_4_4;if(a===b.UnsignedShort5551Type)return y.UNSIGNED_SHORT_5_5_5_1;if(a===b.UnsignedShort565Type)return y.UNSIGNED_SHORT_5_6_5;if(a===b.ByteType)return y.BYTE;if(a===b.ShortType)return y.SHORT;if(a===b.UnsignedShortType)return y.UNSIGNED_SHORT;if(a===b.IntType)return y.INT;if(a===b.UnsignedIntType)return y.UNSIGNED_INT;if(a===b.FloatType)return y.FLOAT;c=ba.get("OES_texture_half_float");if(null!==
c&&a===b.HalfFloatType)return c.HALF_FLOAT_OES;if(a===b.AlphaFormat)return y.ALPHA;if(a===b.RGBFormat)return y.RGB;if(a===b.RGBAFormat)return y.RGBA;if(a===b.LuminanceFormat)return y.LUMINANCE;if(a===b.LuminanceAlphaFormat)return y.LUMINANCE_ALPHA;if(a===b.DepthFormat)return y.DEPTH_COMPONENT;if(a===b.AddEquation)return y.FUNC_ADD;if(a===b.SubtractEquation)return y.FUNC_SUBTRACT;if(a===b.ReverseSubtractEquation)return y.FUNC_REVERSE_SUBTRACT;if(a===b.ZeroFactor)return y.ZERO;if(a===b.OneFactor)return y.ONE;
if(a===b.SrcColorFactor)return y.SRC_COLOR;if(a===b.OneMinusSrcColorFactor)return y.ONE_MINUS_SRC_COLOR;if(a===b.SrcAlphaFactor)return y.SRC_ALPHA;if(a===b.OneMinusSrcAlphaFactor)return y.ONE_MINUS_SRC_ALPHA;if(a===b.DstAlphaFactor)return y.DST_ALPHA;if(a===b.OneMinusDstAlphaFactor)return y.ONE_MINUS_DST_ALPHA;if(a===b.DstColorFactor)return y.DST_COLOR;if(a===b.OneMinusDstColorFactor)return y.ONE_MINUS_DST_COLOR;if(a===b.SrcAlphaSaturateFactor)return y.SRC_ALPHA_SATURATE;c=ba.get("WEBGL_compressed_texture_s3tc");
if(null!==c){if(a===b.RGB_S3TC_DXT1_Format)return c.COMPRESSED_RGB_S3TC_DXT1_EXT;if(a===b.RGBA_S3TC_DXT1_Format)return c.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(a===b.RGBA_S3TC_DXT3_Format)return c.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(a===b.RGBA_S3TC_DXT5_Format)return c.COMPRESSED_RGBA_S3TC_DXT5_EXT}c=ba.get("WEBGL_compressed_texture_pvrtc");if(null!==c){if(a===b.RGB_PVRTC_4BPPV1_Format)return c.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(a===b.RGB_PVRTC_2BPPV1_Format)return c.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(a===
b.RGBA_PVRTC_4BPPV1_Format)return c.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(a===b.RGBA_PVRTC_2BPPV1_Format)return c.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}c=ba.get("WEBGL_compressed_texture_etc1");if(null!==c&&a===b.RGB_ETC1_Format)return c.COMPRESSED_RGB_ETC1_WEBGL;c=ba.get("EXT_blend_minmax");if(null!==c){if(a===b.MinEquation)return c.MIN_EXT;if(a===b.MaxEquation)return c.MAX_EXT}return 0}console.log("THREE.WebGLRenderer",b.REVISION);a=a||{};var J=void 0!==a.canvas?a.canvas:document.createElement("canvas"),
K=void 0!==a.context?a.context:null,T=void 0!==a.alpha?a.alpha:!1,U=void 0!==a.depth?a.depth:!0,S=void 0!==a.stencil?a.stencil:!0,L=void 0!==a.antialias?a.antialias:!1,P=void 0!==a.premultipliedAlpha?a.premultipliedAlpha:!0,Q=void 0!==a.preserveDrawingBuffer?a.preserveDrawingBuffer:!1,M=[],V=[],X=-1,W=[],N=-1,ga=new Float32Array(8),Z=[],da=[];this.domElement=J;this.context=null;this.sortObjects=this.autoClearStencil=this.autoClearDepth=this.autoClearColor=this.autoClear=!0;this.clippingPlanes=[];
this.localClippingEnabled=!1;this.gammaFactor=2;this.physicallyCorrectLights=this.gammaOutput=this.gammaInput=!1;this.toneMapping=b.LinearToneMapping;this.toneMappingWhitePoint=this.toneMappingExposure=1;this.maxMorphTargets=8;this.maxMorphNormals=4;this.autoScaleCubemaps=!0;var ca=this,ka=null,na=null,ja=null,fa=-1,ta="",oa=null,ya=new b.Vector4,Fa=null,ua=new b.Vector4,za=0,ha=new b.Color(0),qa=0,Aa=J.width,Ba=J.height,ia=1,Ga=new b.Vector4(0,0,Aa,Ba),Ja=!1,va=new b.Vector4(0,0,Aa,Ba),Ia=new b.Frustum,
la=new b.WebGLClipping,Da=!1,Ha=!1,sa=new b.Sphere,Ca=new b.Matrix4,ea=new b.Vector3,Y={hash:"",ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],shadows:[]},ra={geometries:0,textures:0},pa={calls:0,vertices:0,faces:0,points:0};this.info={render:pa,memory:ra,programs:null};var y;try{T={alpha:T,depth:U,stencil:S,antialias:L,premultipliedAlpha:P,preserveDrawingBuffer:Q};
y=K||J.getContext("webgl",T)||J.getContext("experimental-webgl",T);if(null===y){if(null!==J.getContext("webgl"))throw"Error creating WebGL context with your selected attributes.";throw"Error creating WebGL context.";}void 0===y.getShaderPrecisionFormat&&(y.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}});J.addEventListener("webglcontextlost",g,!1)}catch(Ma){console.error("THREE.WebGLRenderer: "+Ma)}var Ka="undefined"!==typeof WebGL2RenderingContext&&y instanceof WebGL2RenderingContext,
ba=new b.WebGLExtensions(y);ba.get("WEBGL_depth_texture");ba.get("OES_texture_float");ba.get("OES_texture_float_linear");ba.get("OES_texture_half_float");ba.get("OES_texture_half_float_linear");ba.get("OES_standard_derivatives");ba.get("ANGLE_instanced_arrays");ba.get("OES_element_index_uint")&&(b.BufferGeometry.MaxIndex=4294967296);var ma=new b.WebGLCapabilities(y,ba,a),R=new b.WebGLState(y,ba,O),aa=new b.WebGLProperties,xa=new b.WebGLObjects(y,aa,this.info),wa=new b.WebGLPrograms(this,ma),Ea=new b.WebGLLights;
this.info.programs=wa.programs;var Na=new b.WebGLBufferRenderer(y,ba,pa),Oa=new b.WebGLIndexedBufferRenderer(y,ba,pa);e();this.context=y;this.capabilities=ma;this.extensions=ba;this.properties=aa;this.state=R;var La=new b.WebGLShadowMap(this,Y,xa);this.shadowMap=La;var Pa=new b.SpritePlugin(this,Z),Qa=new b.LensFlarePlugin(this,da);this.getContext=function(){return y};this.getContextAttributes=function(){return y.getContextAttributes()};this.forceContextLoss=function(){ba.get("WEBGL_lose_context").loseContext()};
this.getMaxAnisotropy=function(){var a;return function(){if(void 0!==a)return a;var b=ba.get("EXT_texture_filter_anisotropic");return a=null!==b?y.getParameter(b.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0}}();this.getPrecision=function(){return ma.precision};this.getPixelRatio=function(){return ia};this.setPixelRatio=function(a){void 0!==a&&(ia=a,this.setSize(va.z,va.w,!1))};this.getSize=function(){return{width:Aa,height:Ba}};this.setSize=function(a,b,c){Aa=a;Ba=b;J.width=a*ia;J.height=b*ia;!1!==c&&(J.style.width=
a+"px",J.style.height=b+"px");this.setViewport(0,0,a,b)};this.setViewport=function(a,b,c,d){R.viewport(va.set(a,b,c,d))};this.setScissor=function(a,b,c,d){R.scissor(Ga.set(a,b,c,d))};this.setScissorTest=function(a){R.setScissorTest(Ja=a)};this.getClearColor=function(){return ha};this.setClearColor=function(a,b){ha.set(a);qa=void 0!==b?b:1;c(ha.r,ha.g,ha.b,qa)};this.getClearAlpha=function(){return qa};this.setClearAlpha=function(a){qa=a;c(ha.r,ha.g,ha.b,qa)};this.clear=function(a,b,c){var d=0;if(void 0===
a||a)d|=y.COLOR_BUFFER_BIT;if(void 0===b||b)d|=y.DEPTH_BUFFER_BIT;if(void 0===c||c)d|=y.STENCIL_BUFFER_BIT;y.clear(d)};this.clearColor=function(){this.clear(!0,!1,!1)};this.clearDepth=function(){this.clear(!1,!0,!1)};this.clearStencil=function(){this.clear(!1,!1,!0)};this.clearTarget=function(a,b,c,d){this.setRenderTarget(a);this.clear(b,c,d)};this.resetGLState=d;this.dispose=function(){J.removeEventListener("webglcontextlost",g,!1)};this.renderBufferImmediate=function(a,c,d){R.initAttributes();var e=
aa.get(a);a.hasPositions&&!e.position&&(e.position=y.createBuffer());a.hasNormals&&!e.normal&&(e.normal=y.createBuffer());a.hasUvs&&!e.uv&&(e.uv=y.createBuffer());a.hasColors&&!e.color&&(e.color=y.createBuffer());c=c.getAttributes();a.hasPositions&&(y.bindBuffer(y.ARRAY_BUFFER,e.position),y.bufferData(y.ARRAY_BUFFER,a.positionArray,y.DYNAMIC_DRAW),R.enableAttribute(c.position),y.vertexAttribPointer(c.position,3,y.FLOAT,!1,0,0));if(a.hasNormals){y.bindBuffer(y.ARRAY_BUFFER,e.normal);if("MeshPhongMaterial"!==
d.type&&"MeshStandardMaterial"!==d.type&&"MeshPhysicalMaterial"!==d.type&&d.shading===b.FlatShading)for(var g=0,f=3*a.count;g<f;g+=9){var h=a.normalArray,l=(h[g+0]+h[g+3]+h[g+6])/3,m=(h[g+1]+h[g+4]+h[g+7])/3,k=(h[g+2]+h[g+5]+h[g+8])/3;h[g+0]=l;h[g+1]=m;h[g+2]=k;h[g+3]=l;h[g+4]=m;h[g+5]=k;h[g+6]=l;h[g+7]=m;h[g+8]=k}y.bufferData(y.ARRAY_BUFFER,a.normalArray,y.DYNAMIC_DRAW);R.enableAttribute(c.normal);y.vertexAttribPointer(c.normal,3,y.FLOAT,!1,0,0)}a.hasUvs&&d.map&&(y.bindBuffer(y.ARRAY_BUFFER,e.uv),
y.bufferData(y.ARRAY_BUFFER,a.uvArray,y.DYNAMIC_DRAW),R.enableAttribute(c.uv),y.vertexAttribPointer(c.uv,2,y.FLOAT,!1,0,0));a.hasColors&&d.vertexColors!==b.NoColors&&(y.bindBuffer(y.ARRAY_BUFFER,e.color),y.bufferData(y.ARRAY_BUFFER,a.colorArray,y.DYNAMIC_DRAW),R.enableAttribute(c.color),y.vertexAttribPointer(c.color,3,y.FLOAT,!1,0,0));R.disableUnusedAttributes();y.drawArrays(y.TRIANGLES,0,a.count);a.count=0};this.renderBufferDirect=function(a,c,d,e,g,f){B(e);var h=A(a,c,e,g),l=!1;a=d.id+"_"+h.id+
"_"+e.wireframe;a!==ta&&(ta=a,l=!0);c=g.morphTargetInfluences;if(void 0!==c){a=[];for(var m=0,l=c.length;m<l;m++){var k=c[m];a.push([k,m])}a.sort(t);8<a.length&&(a.length=8);for(var r=d.morphAttributes,m=0,l=a.length;m<l;m++)k=a[m],ga[m]=k[0],0!==k[0]?(c=k[1],!0===e.morphTargets&&r.position&&d.addAttribute("morphTarget"+m,r.position[c]),!0===e.morphNormals&&r.normal&&d.addAttribute("morphNormal"+m,r.normal[c])):(!0===e.morphTargets&&d.removeAttribute("morphTarget"+m),!0===e.morphNormals&&d.removeAttribute("morphNormal"+
m));h.getUniforms().setValue(y,"morphTargetInfluences",ga);l=!0}c=d.index;m=d.attributes.position;!0===e.wireframe&&(c=xa.getWireframeAttribute(d));null!==c?(a=Oa,a.setIndex(c)):a=Na;if(l){a:{var l=void 0,q;if(d instanceof b.InstancedBufferGeometry&&(q=ba.get("ANGLE_instanced_arrays"),null===q)){console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");break a}void 0===l&&(l=0);R.initAttributes();
var k=d.attributes,h=h.getAttributes(),r=e.defaultAttributeValues,u;for(u in h){var p=h[u];if(0<=p){var v=k[u];if(void 0!==v){var n=y.FLOAT,w=v.array,x=v.normalized;w instanceof Float32Array?n=y.FLOAT:w instanceof Float64Array?console.warn("Unsupported data buffer format: Float64Array"):w instanceof Uint16Array?n=y.UNSIGNED_SHORT:w instanceof Int16Array?n=y.SHORT:w instanceof Uint32Array?n=y.UNSIGNED_INT:w instanceof Int32Array?n=y.INT:w instanceof Int8Array?n=y.BYTE:w instanceof Uint8Array&&(n=y.UNSIGNED_BYTE);
var w=v.itemSize,z=xa.getAttributeBuffer(v);if(v instanceof b.InterleavedBufferAttribute){var C=v.data,D=C.stride,v=v.offset;C instanceof b.InstancedInterleavedBuffer?(R.enableAttributeAndDivisor(p,C.meshPerAttribute,q),void 0===d.maxInstancedCount&&(d.maxInstancedCount=C.meshPerAttribute*C.count)):R.enableAttribute(p);y.bindBuffer(y.ARRAY_BUFFER,z);y.vertexAttribPointer(p,w,n,x,D*C.array.BYTES_PER_ELEMENT,(l*D+v)*C.array.BYTES_PER_ELEMENT)}else v instanceof b.InstancedBufferAttribute?(R.enableAttributeAndDivisor(p,
v.meshPerAttribute,q),void 0===d.maxInstancedCount&&(d.maxInstancedCount=v.meshPerAttribute*v.count)):R.enableAttribute(p),y.bindBuffer(y.ARRAY_BUFFER,z),y.vertexAttribPointer(p,w,n,x,0,l*w*v.array.BYTES_PER_ELEMENT)}else if(void 0!==r&&(n=r[u],void 0!==n))switch(n.length){case 2:y.vertexAttrib2fv(p,n);break;case 3:y.vertexAttrib3fv(p,n);break;case 4:y.vertexAttrib4fv(p,n);break;default:y.vertexAttrib1fv(p,n)}}}R.disableUnusedAttributes()}null!==c&&y.bindBuffer(y.ELEMENT_ARRAY_BUFFER,xa.getAttributeBuffer(c))}q=
Infinity;null!==c?q=c.count:void 0!==m&&(q=m.count);c=d.drawRange.start;m=null!==f?f.start:0;u=Math.max(0,c,m);f=Math.max(0,Math.min(0+q,c+d.drawRange.count,m+(null!==f?f.count:Infinity))-1-u+1);if(g instanceof b.Mesh)if(!0===e.wireframe)R.setLineWidth(e.wireframeLinewidth*(null===na?ia:1)),a.setMode(y.LINES);else switch(g.drawMode){case b.TrianglesDrawMode:a.setMode(y.TRIANGLES);break;case b.TriangleStripDrawMode:a.setMode(y.TRIANGLE_STRIP);break;case b.TriangleFanDrawMode:a.setMode(y.TRIANGLE_FAN)}else g instanceof
b.Line?(e=e.linewidth,void 0===e&&(e=1),R.setLineWidth(e*(null===na?ia:1)),g instanceof b.LineSegments?a.setMode(y.LINES):a.setMode(y.LINE_STRIP)):g instanceof b.Points&&a.setMode(y.POINTS);d instanceof b.InstancedBufferGeometry?0<d.maxInstancedCount&&a.renderInstances(d,u,f):a.render(u,f)};this.render=function(a,c,d,e){if(!1===c instanceof b.Camera)console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");else{var g=a.fog;ta="";fa=-1;oa=null;!0===a.autoUpdate&&a.updateMatrixWorld();
null===c.parent&&c.updateMatrixWorld();c.matrixWorldInverse.getInverse(c.matrixWorld);Ca.multiplyMatrices(c.projectionMatrix,c.matrixWorldInverse);Ia.setFromMatrix(Ca);M.length=0;N=X=-1;Z.length=0;da.length=0;Ha=this.localClippingEnabled;Da=la.init(this.clippingPlanes,Ha,c);n(a,c);V.length=X+1;W.length=N+1;!0===ca.sortObjects&&(V.sort(p),W.sort(u));Da&&la.beginShadows();for(var f=M,h=0,l=0,m=f.length;l<m;l++){var k=f[l];k.castShadow&&(Y.shadows[h++]=k)}Y.shadows.length=h;La.render(a,c);for(var f=
M,r=k=0,t=0,q,v,A,C,D=c.matrixWorldInverse,L=0,B=0,G=0,F=0,h=0,l=f.length;h<l;h++)if(m=f[h],q=m.color,v=m.intensity,A=m.distance,C=m.shadow&&m.shadow.map?m.shadow.map.texture:null,m instanceof b.AmbientLight)k+=q.r*v,r+=q.g*v,t+=q.b*v;else if(m instanceof b.DirectionalLight){var E=Ea.get(m);E.color.copy(m.color).multiplyScalar(m.intensity);E.direction.setFromMatrixPosition(m.matrixWorld);ea.setFromMatrixPosition(m.target.matrixWorld);E.direction.sub(ea);E.direction.transformDirection(D);if(E.shadow=
m.castShadow)E.shadowBias=m.shadow.bias,E.shadowRadius=m.shadow.radius,E.shadowMapSize=m.shadow.mapSize;Y.directionalShadowMap[L]=C;Y.directionalShadowMatrix[L]=m.shadow.matrix;Y.directional[L++]=E}else if(m instanceof b.SpotLight){E=Ea.get(m);E.position.setFromMatrixPosition(m.matrixWorld);E.position.applyMatrix4(D);E.color.copy(q).multiplyScalar(v);E.distance=A;E.direction.setFromMatrixPosition(m.matrixWorld);ea.setFromMatrixPosition(m.target.matrixWorld);E.direction.sub(ea);E.direction.transformDirection(D);
E.coneCos=Math.cos(m.angle);E.penumbraCos=Math.cos(m.angle*(1-m.penumbra));E.decay=0===m.distance?0:m.decay;if(E.shadow=m.castShadow)E.shadowBias=m.shadow.bias,E.shadowRadius=m.shadow.radius,E.shadowMapSize=m.shadow.mapSize;Y.spotShadowMap[G]=C;Y.spotShadowMatrix[G]=m.shadow.matrix;Y.spot[G++]=E}else if(m instanceof b.PointLight){E=Ea.get(m);E.position.setFromMatrixPosition(m.matrixWorld);E.position.applyMatrix4(D);E.color.copy(m.color).multiplyScalar(m.intensity);E.distance=m.distance;E.decay=0===
m.distance?0:m.decay;if(E.shadow=m.castShadow)E.shadowBias=m.shadow.bias,E.shadowRadius=m.shadow.radius,E.shadowMapSize=m.shadow.mapSize;Y.pointShadowMap[B]=C;void 0===Y.pointShadowMatrix[B]&&(Y.pointShadowMatrix[B]=new b.Matrix4);ea.setFromMatrixPosition(m.matrixWorld).negate();Y.pointShadowMatrix[B].identity().setPosition(ea);Y.point[B++]=E}else m instanceof b.HemisphereLight&&(E=Ea.get(m),E.direction.setFromMatrixPosition(m.matrixWorld),E.direction.transformDirection(D),E.direction.normalize(),
E.skyColor.copy(m.color).multiplyScalar(v),E.groundColor.copy(m.groundColor).multiplyScalar(v),Y.hemi[F++]=E);Y.ambient[0]=k;Y.ambient[1]=r;Y.ambient[2]=t;Y.directional.length=L;Y.spot.length=G;Y.point.length=B;Y.hemi.length=F;Y.hash=L+","+B+","+G+","+F+","+Y.shadows.length;Da&&la.endShadows();pa.calls=0;pa.vertices=0;pa.faces=0;pa.points=0;void 0===d&&(d=null);this.setRenderTarget(d);(this.autoClear||e)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil);a.overrideMaterial?
(e=a.overrideMaterial,z(V,c,g,e),z(W,c,g,e)):(R.setBlending(b.NoBlending),z(V,c,g),z(W,c,g));Pa.render(a,c);Qa.render(a,c,ua);d&&(a=d.texture,a.generateMipmaps&&H(d)&&a.minFilter!==b.NearestFilter&&a.minFilter!==b.LinearFilter&&(a=d instanceof b.WebGLRenderTargetCube?y.TEXTURE_CUBE_MAP:y.TEXTURE_2D,d=aa.get(d.texture).__webglTexture,R.bindTexture(a,d),y.generateMipmap(a),R.bindTexture(a,null)));R.setDepthTest(!0);R.setDepthWrite(!0);R.setColorWrite(!0)}};this.setFaceCulling=function(a,c){R.setCullFace(a);
R.setFlipSided(c===b.FrontFaceDirectionCW)};this.allocTextureUnit=function(){var a=za;a>=ma.maxTextures&&console.warn("WebGLRenderer: trying to use "+a+" texture units while this GPU supports only "+ma.maxTextures);za+=1;return a};this.setTexture2D=function(){var a=!1;return function(c,d){c instanceof b.WebGLRenderTarget&&(a||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),a=!0),c=c.texture);var e=c,g=aa.get(e);if(0<e.version&&
g.__version!==e.version){var l=e.image;if(void 0===l)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined",e);else if(!1===l.complete)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete",e);else{void 0===g.__webglInit&&(g.__webglInit=!0,e.addEventListener("dispose",f),g.__webglTexture=y.createTexture(),ra.textures++);R.activeTexture(y.TEXTURE0+d);R.bindTexture(y.TEXTURE_2D,g.__webglTexture);y.pixelStorei(y.UNPACK_FLIP_Y_WEBGL,e.flipY);
y.pixelStorei(y.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e.premultiplyAlpha);y.pixelStorei(y.UNPACK_ALIGNMENT,e.unpackAlignment);var m=D(e.image,ma.maxTextureSize);if((e.wrapS!==b.ClampToEdgeWrapping||e.wrapT!==b.ClampToEdgeWrapping||e.minFilter!==b.NearestFilter&&e.minFilter!==b.LinearFilter)&&!1===H(m))if(l=m,l instanceof HTMLImageElement||l instanceof HTMLCanvasElement){var k=document.createElement("canvas");k.width=b.Math.nearestPowerOfTwo(l.width);k.height=b.Math.nearestPowerOfTwo(l.height);k.getContext("2d").drawImage(l,
0,0,k.width,k.height);console.warn("THREE.WebGLRenderer: image is not power of two ("+l.width+"x"+l.height+"). Resized to "+k.width+"x"+k.height,l);m=k}else m=l;var l=H(m),k=O(e.format),r=O(e.type);G(y.TEXTURE_2D,e,l);var t=e.mipmaps;if(e instanceof b.DepthTexture){t=y.DEPTH_COMPONENT;if(e.type===b.FloatType){if(!Ka)throw Error("Float Depth Texture only supported in WebGL2.0");t=y.DEPTH_COMPONENT32F}else Ka&&(t=y.DEPTH_COMPONENT16);R.texImage2D(y.TEXTURE_2D,0,t,m.width,m.height,0,k,r,null)}else if(e instanceof
b.DataTexture)if(0<t.length&&l){for(var q=0,u=t.length;q<u;q++)m=t[q],R.texImage2D(y.TEXTURE_2D,q,k,m.width,m.height,0,k,r,m.data);e.generateMipmaps=!1}else R.texImage2D(y.TEXTURE_2D,0,k,m.width,m.height,0,k,r,m.data);else if(e instanceof b.CompressedTexture)for(q=0,u=t.length;q<u;q++)m=t[q],e.format!==b.RGBAFormat&&e.format!==b.RGBFormat?-1<R.getCompressedTextureFormats().indexOf(k)?R.compressedTexImage2D(y.TEXTURE_2D,q,k,m.width,m.height,0,m.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):
R.texImage2D(y.TEXTURE_2D,q,k,m.width,m.height,0,k,r,m.data);else if(0<t.length&&l){q=0;for(u=t.length;q<u;q++)m=t[q],R.texImage2D(y.TEXTURE_2D,q,k,k,r,m);e.generateMipmaps=!1}else R.texImage2D(y.TEXTURE_2D,0,k,k,r,m);e.generateMipmaps&&l&&y.generateMipmap(y.TEXTURE_2D);g.__version=e.version;if(e.onUpdate)e.onUpdate(e)}}else R.activeTexture(y.TEXTURE0+d),R.bindTexture(y.TEXTURE_2D,g.__webglTexture)}}();this.setTexture=function(){var a=!1;return function(b,c){a||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),
a=!0);ca.setTexture2D(b,c)}}();this.setTextureCube=function(){var a=!1;return function(c,d){c instanceof b.WebGLRenderTargetCube&&(a||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),a=!0),c=c.texture);if(c instanceof b.CubeTexture||Array.isArray(c.image)&&6===c.image.length){var e=c,g=aa.get(e);if(6===e.image.length)if(0<e.version&&g.__version!==e.version){g.__image__webglTextureCube||(e.addEventListener("dispose",
f),g.__image__webglTextureCube=y.createTexture(),ra.textures++);R.activeTexture(y.TEXTURE0+d);R.bindTexture(y.TEXTURE_CUBE_MAP,g.__image__webglTextureCube);y.pixelStorei(y.UNPACK_FLIP_Y_WEBGL,e.flipY);for(var l=e instanceof b.CompressedTexture,m=e.image[0]instanceof b.DataTexture,k=[],r=0;6>r;r++)k[r]=!ca.autoScaleCubemaps||l||m?m?e.image[r].image:e.image[r]:D(e.image[r],ma.maxCubemapSize);var t=H(k[0]),q=O(e.format),u=O(e.type);G(y.TEXTURE_CUBE_MAP,e,t);for(r=0;6>r;r++)if(l)for(var p,v=k[r].mipmaps,
n=0,w=v.length;n<w;n++)p=v[n],e.format!==b.RGBAFormat&&e.format!==b.RGBFormat?-1<R.getCompressedTextureFormats().indexOf(q)?R.compressedTexImage2D(y.TEXTURE_CUBE_MAP_POSITIVE_X+r,n,q,p.width,p.height,0,p.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):R.texImage2D(y.TEXTURE_CUBE_MAP_POSITIVE_X+r,n,q,p.width,p.height,0,q,u,p.data);else m?R.texImage2D(y.TEXTURE_CUBE_MAP_POSITIVE_X+r,0,q,k[r].width,k[r].height,0,q,u,k[r].data):R.texImage2D(y.TEXTURE_CUBE_MAP_POSITIVE_X+
r,0,q,q,u,k[r]);e.generateMipmaps&&t&&y.generateMipmap(y.TEXTURE_CUBE_MAP);g.__version=e.version;if(e.onUpdate)e.onUpdate(e)}else R.activeTexture(y.TEXTURE0+d),R.bindTexture(y.TEXTURE_CUBE_MAP,g.__image__webglTextureCube)}else e=c,R.activeTexture(y.TEXTURE0+d),R.bindTexture(y.TEXTURE_CUBE_MAP,aa.get(e).__webglTexture)}}();this.getCurrentRenderTarget=function(){return na};this.setRenderTarget=function(a){if((na=a)&&void 0===aa.get(a).__webglFramebuffer){var c=aa.get(a),d=aa.get(a.texture);a.addEventListener("dispose",
l);d.__webglTexture=y.createTexture();ra.textures++;var e=a instanceof b.WebGLRenderTargetCube,g=b.Math.isPowerOfTwo(a.width)&&b.Math.isPowerOfTwo(a.height);if(e){c.__webglFramebuffer=[];for(var f=0;6>f;f++)c.__webglFramebuffer[f]=y.createFramebuffer()}else c.__webglFramebuffer=y.createFramebuffer();if(e){R.bindTexture(y.TEXTURE_CUBE_MAP,d.__webglTexture);G(y.TEXTURE_CUBE_MAP,a.texture,g);for(f=0;6>f;f++)E(c.__webglFramebuffer[f],a,y.COLOR_ATTACHMENT0,y.TEXTURE_CUBE_MAP_POSITIVE_X+f);a.texture.generateMipmaps&&
g&&y.generateMipmap(y.TEXTURE_CUBE_MAP);R.bindTexture(y.TEXTURE_CUBE_MAP,null)}else R.bindTexture(y.TEXTURE_2D,d.__webglTexture),G(y.TEXTURE_2D,a.texture,g),E(c.__webglFramebuffer,a,y.COLOR_ATTACHMENT0,y.TEXTURE_2D),a.texture.generateMipmaps&&g&&y.generateMipmap(y.TEXTURE_2D),R.bindTexture(y.TEXTURE_2D,null);if(a.depthBuffer){c=aa.get(a);d=a instanceof b.WebGLRenderTargetCube;if(a.depthTexture){if(d)throw Error("target.depthTexture not supported in Cube render targets");if(a instanceof b.WebGLRenderTargetCube)throw Error("Depth Texture with cube render targets is not supported!");
y.bindFramebuffer(y.FRAMEBUFFER,c.__webglFramebuffer);if(!(a.depthTexture instanceof b.DepthTexture))throw Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");aa.get(a.depthTexture).__webglTexture&&a.depthTexture.image.width===a.width&&a.depthTexture.image.height===a.height||(a.depthTexture.image.width=a.width,a.depthTexture.image.height=a.height,a.depthTexture.needsUpdate=!0);ca.setTexture2D(a.depthTexture,0);c=aa.get(a.depthTexture).__webglTexture;y.framebufferTexture2D(y.FRAMEBUFFER,
y.DEPTH_ATTACHMENT,y.TEXTURE_2D,c,0)}else if(d)for(c.__webglDepthbuffer=[],d=0;6>d;d++)y.bindFramebuffer(y.FRAMEBUFFER,c.__webglFramebuffer[d]),c.__webglDepthbuffer[d]=y.createRenderbuffer(),F(c.__webglDepthbuffer[d],a);else y.bindFramebuffer(y.FRAMEBUFFER,c.__webglFramebuffer),c.__webglDepthbuffer=y.createRenderbuffer(),F(c.__webglDepthbuffer,a);y.bindFramebuffer(y.FRAMEBUFFER,null)}}c=a instanceof b.WebGLRenderTargetCube;a?(d=aa.get(a),d=c?d.__webglFramebuffer[a.activeCubeFace]:d.__webglFramebuffer,
ya.copy(a.scissor),Fa=a.scissorTest,ua.copy(a.viewport)):(d=null,ya.copy(Ga).multiplyScalar(ia),Fa=Ja,ua.copy(va).multiplyScalar(ia));ja!==d&&(y.bindFramebuffer(y.FRAMEBUFFER,d),ja=d);R.scissor(ya);R.setScissorTest(Fa);R.viewport(ua);c&&(c=aa.get(a.texture),y.framebufferTexture2D(y.FRAMEBUFFER,y.COLOR_ATTACHMENT0,y.TEXTURE_CUBE_MAP_POSITIVE_X+a.activeCubeFace,c.__webglTexture,a.activeMipMapLevel))};this.readRenderTargetPixels=function(a,c,d,e,g,f){if(!1===a instanceof b.WebGLRenderTarget)console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");
else{var h=aa.get(a).__webglFramebuffer;if(h){var l=!1;h!==ja&&(y.bindFramebuffer(y.FRAMEBUFFER,h),l=!0);try{var m=a.texture;m.format!==b.RGBAFormat&&O(m.format)!==y.getParameter(y.IMPLEMENTATION_COLOR_READ_FORMAT)?console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format."):m.type===b.UnsignedByteType||O(m.type)===y.getParameter(y.IMPLEMENTATION_COLOR_READ_TYPE)||m.type===b.FloatType&&ba.get("WEBGL_color_buffer_float")||m.type===b.HalfFloatType&&
ba.get("EXT_color_buffer_half_float")?y.checkFramebufferStatus(y.FRAMEBUFFER)===y.FRAMEBUFFER_COMPLETE?0<=c&&c<=a.width-e&&0<=d&&d<=a.height-g&&y.readPixels(c,d,e,g,O(m.format),O(m.type),f):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete."):console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.")}finally{l&&y.bindFramebuffer(y.FRAMEBUFFER,ja)}}}}};b.WebGLRenderTarget=
function(a,c,e){this.uuid=b.Math.generateUUID();this.width=a;this.height=c;this.scissor=new b.Vector4(0,0,a,c);this.scissorTest=!1;this.viewport=new b.Vector4(0,0,a,c);e=e||{};void 0===e.minFilter&&(e.minFilter=b.LinearFilter);this.texture=new b.Texture(void 0,void 0,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.encoding);this.depthBuffer=void 0!==e.depthBuffer?e.depthBuffer:!0;this.stencilBuffer=void 0!==e.stencilBuffer?e.stencilBuffer:!0;this.depthTexture=null};Object.assign(b.WebGLRenderTarget.prototype,
b.EventDispatcher.prototype,{setSize:function(a,b){if(this.width!==a||this.height!==b)this.width=a,this.height=b,this.dispose();this.viewport.set(0,0,a,b);this.scissor.set(0,0,a,b)},clone:function(){return(new this.constructor).copy(this)},copy:function(a){this.width=a.width;this.height=a.height;this.viewport.copy(a.viewport);this.texture=a.texture.clone();this.depthBuffer=a.depthBuffer;this.stencilBuffer=a.stencilBuffer;this.depthTexture=a.depthTexture;return this},dispose:function(){this.dispatchEvent({type:"dispose"})}});
b.WebGLRenderTargetCube=function(a,c,e){b.WebGLRenderTarget.call(this,a,c,e);this.activeMipMapLevel=this.activeCubeFace=0};b.WebGLRenderTargetCube.prototype=Object.create(b.WebGLRenderTarget.prototype);b.WebGLRenderTargetCube.prototype.constructor=b.WebGLRenderTargetCube;b.WebGLBufferRenderer=function(a,c,e){var d;this.setMode=function(a){d=a};this.render=function(b,c){a.drawArrays(d,b,c);e.calls++;e.vertices+=c;d===a.TRIANGLES&&(e.faces+=c/3)};this.renderInstances=function(g){var f=c.get("ANGLE_instanced_arrays");
if(null===f)console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");else{var l=g.attributes.position,m=0,m=l instanceof b.InterleavedBufferAttribute?l.data.count:l.count;f.drawArraysInstancedANGLE(d,0,m,g.maxInstancedCount);e.calls++;e.vertices+=m*g.maxInstancedCount;d===a.TRIANGLES&&(e.faces+=g.maxInstancedCount*m/3)}}};b.WebGLClipping=function(){function a(){t.value!==d&&(t.value=d,t.needsUpdate=0<g);e.numPlanes=
g}function c(a,b,c,d){var g=null!==a?a.length:0,f=null;if(0!==g){f=t.value;if(!0!==d||null===f){d=c+4*g;b=b.matrixWorldInverse;k.getNormalMatrix(b);if(null===f||f.length<d)f=new Float32Array(d);for(d=0;d!==g;++d,c+=4)m.copy(a[d]).applyMatrix4(b,k),m.normal.toArray(f,c),f[c+3]=m.constant}t.value=f;t.needsUpdate=!0}e.numPlanes=g;return f}var e=this,d=null,g=0,f=!1,l=!1,m=new b.Plane,k=new b.Matrix3,t={value:null,needsUpdate:!1};this.uniform=t;this.numPlanes=0;this.init=function(a,b,e){var l=0!==a.length||
b||0!==g||f;f=b;d=c(a,e,0);g=a.length;return l};this.beginShadows=function(){l=!0;c(null)};this.endShadows=function(){l=!1;a()};this.setState=function(b,e,m,k,r){if(!f||null===b||0===b.length||l&&!e)l?c(null):a();else{e=l?0:g;var p=4*e,n=k.clippingState||null;t.value=n;n=c(b,m,p,r);for(b=0;b!==p;++b)n[b]=d[b];k.clippingState=n;this.numPlanes+=e}}};b.WebGLIndexedBufferRenderer=function(a,b,e){var d,g,f;this.setMode=function(a){d=a};this.setIndex=function(d){d.array instanceof Uint32Array&&b.get("OES_element_index_uint")?
(g=a.UNSIGNED_INT,f=4):(g=a.UNSIGNED_SHORT,f=2)};this.render=function(b,c){a.drawElements(d,c,g,b*f);e.calls++;e.vertices+=c;d===a.TRIANGLES&&(e.faces+=c/3)};this.renderInstances=function(l,m,k){var t=b.get("ANGLE_instanced_arrays");null===t?console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays."):(t.drawElementsInstancedANGLE(d,k,g,m*f,l.maxInstancedCount),e.calls++,e.vertices+=k*l.maxInstancedCount,d===a.TRIANGLES&&
(e.faces+=l.maxInstancedCount*k/3))}};b.WebGLExtensions=function(a){var b={};this.get=function(e){if(void 0!==b[e])return b[e];var d;switch(e){case "WEBGL_depth_texture":d=a.getExtension("WEBGL_depth_texture")||a.getExtension("MOZ_WEBGL_depth_texture")||a.getExtension("WEBKIT_WEBGL_depth_texture");break;case "EXT_texture_filter_anisotropic":d=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic");
break;case "WEBGL_compressed_texture_s3tc":d=a.getExtension("WEBGL_compressed_texture_s3tc")||a.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||a.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case "WEBGL_compressed_texture_pvrtc":d=a.getExtension("WEBGL_compressed_texture_pvrtc")||a.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case "WEBGL_compressed_texture_etc1":d=a.getExtension("WEBGL_compressed_texture_etc1");break;default:d=a.getExtension(e)}null===d&&console.warn("THREE.WebGLRenderer: "+
e+" extension not supported.");return b[e]=d}};b.WebGLCapabilities=function(a,b,e){function d(b){if("highp"===b){if(0<a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.HIGH_FLOAT).precision&&0<a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.HIGH_FLOAT).precision)return"highp";b="mediump"}return"mediump"===b&&0<a.getShaderPrecisionFormat(a.VERTEX_SHADER,a.MEDIUM_FLOAT).precision&&0<a.getShaderPrecisionFormat(a.FRAGMENT_SHADER,a.MEDIUM_FLOAT).precision?"mediump":"lowp"}this.getMaxPrecision=d;this.precision=
void 0!==e.precision?e.precision:"highp";this.logarithmicDepthBuffer=void 0!==e.logarithmicDepthBuffer?e.logarithmicDepthBuffer:!1;this.maxTextures=a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS);this.maxVertexTextures=a.getParameter(a.MAX_VERTEX_TEXTURE_IMAGE_UNITS);this.maxTextureSize=a.getParameter(a.MAX_TEXTURE_SIZE);this.maxCubemapSize=a.getParameter(a.MAX_CUBE_MAP_TEXTURE_SIZE);this.maxAttributes=a.getParameter(a.MAX_VERTEX_ATTRIBS);this.maxVertexUniforms=a.getParameter(a.MAX_VERTEX_UNIFORM_VECTORS);
this.maxVaryings=a.getParameter(a.MAX_VARYING_VECTORS);this.maxFragmentUniforms=a.getParameter(a.MAX_FRAGMENT_UNIFORM_VECTORS);this.vertexTextures=0<this.maxVertexTextures;this.floatFragmentTextures=!!b.get("OES_texture_float");this.floatVertexTextures=this.vertexTextures&&this.floatFragmentTextures;e=d(this.precision);e!==this.precision&&(console.warn("THREE.WebGLRenderer:",this.precision,"not supported, using",e,"instead."),this.precision=e);this.logarithmicDepthBuffer&&(this.logarithmicDepthBuffer=
!!b.get("EXT_frag_depth"))};b.WebGLGeometries=function(a,c,e){function d(a){var b=a.target;a=f[b.id];null!==a.index&&g(a.index);var k=a.attributes,t;for(t in k)g(k[t]);b.removeEventListener("dispose",d);delete f[b.id];t=c.get(b);t.wireframe&&g(t.wireframe);c["delete"](b);b=c.get(a);b.wireframe&&g(b.wireframe);c["delete"](a);e.memory.geometries--}function g(d){var e;e=d instanceof b.InterleavedBufferAttribute?c.get(d.data).__webglBuffer:c.get(d).__webglBuffer;void 0!==e&&(a.deleteBuffer(e),d instanceof
b.InterleavedBufferAttribute?c["delete"](d.data):c["delete"](d))}var f={};this.get=function(a){var c=a.geometry;if(void 0!==f[c.id])return f[c.id];c.addEventListener("dispose",d);var g;c instanceof b.BufferGeometry?g=c:c instanceof b.Geometry&&(void 0===c._bufferGeometry&&(c._bufferGeometry=(new b.BufferGeometry).setFromObject(a)),g=c._bufferGeometry);f[c.id]=g;e.memory.geometries++;return g}};b.WebGLLights=function(){var a={};this.get=function(c){if(void 0!==a[c.id])return a[c.id];var e;switch(c.type){case "DirectionalLight":e=
{direction:new b.Vector3,color:new b.Color,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new b.Vector2};break;case "SpotLight":e={position:new b.Vector3,direction:new b.Vector3,color:new b.Color,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new b.Vector2};break;case "PointLight":e={position:new b.Vector3,color:new b.Color,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new b.Vector2};break;case "HemisphereLight":e={direction:new b.Vector3,
skyColor:new b.Color,groundColor:new b.Color}}return a[c.id]=e}};b.WebGLObjects=function(a,c,e){function d(d,e){var g=d instanceof b.InterleavedBufferAttribute?d.data:d,f=c.get(g);void 0===f.__webglBuffer?(f.__webglBuffer=a.createBuffer(),a.bindBuffer(e,f.__webglBuffer),a.bufferData(e,g.array,g.dynamic?a.DYNAMIC_DRAW:a.STATIC_DRAW),f.version=g.version):f.version!==g.version&&(a.bindBuffer(e,f.__webglBuffer),!1===g.dynamic||-1===g.updateRange.count?a.bufferSubData(e,0,g.array):0===g.updateRange.count?
console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(a.bufferSubData(e,g.updateRange.offset*g.array.BYTES_PER_ELEMENT,g.array.subarray(g.updateRange.offset,g.updateRange.offset+g.updateRange.count)),g.updateRange.count=0),f.version=g.version)}function g(a,b,c){if(b>c){var d=b;b=c;c=d}d=a[b];return void 0===d?(a[b]=[c],!0):-1===d.indexOf(c)?(d.push(c),!0):!1}var f=new b.WebGLGeometries(a,
c,e);this.getAttributeBuffer=function(a){return a instanceof b.InterleavedBufferAttribute?c.get(a.data).__webglBuffer:c.get(a).__webglBuffer};this.getWireframeAttribute=function(e){var f=c.get(e);if(void 0!==f.wireframe)return f.wireframe;var h=[],k=e.index,p=e.attributes;e=p.position;if(null!==k)for(var p={},k=k.array,u=0,q=k.length;u<q;u+=3){var v=k[u+0],n=k[u+1],z=k[u+2];g(p,v,n)&&h.push(v,n);g(p,n,z)&&h.push(n,z);g(p,z,v)&&h.push(z,v)}else for(k=p.position.array,u=0,q=k.length/3-1;u<q;u+=3)v=
u+0,n=u+1,z=u+2,h.push(v,n,n,z,z,v);h=new b.BufferAttribute(new (65535<e.count?Uint32Array:Uint16Array)(h),1);d(h,a.ELEMENT_ARRAY_BUFFER);return f.wireframe=h};this.update=function(c){var e=f.get(c);c.geometry instanceof b.Geometry&&e.updateFromObject(c);c=e.index;var g=e.attributes;null!==c&&d(c,a.ELEMENT_ARRAY_BUFFER);for(var k in g)d(g[k],a.ARRAY_BUFFER);c=e.morphAttributes;for(k in c)for(var g=c[k],p=0,u=g.length;p<u;p++)d(g[p],a.ARRAY_BUFFER);return e}};b.WebGLProgram=function(){function a(a){switch(a){case b.LinearEncoding:return["Linear",
"( value )"];case b.sRGBEncoding:return["sRGB","( value )"];case b.RGBEEncoding:return["RGBE","( value )"];case b.RGBM7Encoding:return["RGBM","( value, 7.0 )"];case b.RGBM16Encoding:return["RGBM","( value, 16.0 )"];case b.RGBDEncoding:return["RGBD","( value, 256.0 )"];case b.GammaEncoding:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw Error("unsupported encoding: "+a);}}function c(b,c){var d=a(c);return"vec4 "+b+"( vec4 value ) { return "+d[0]+"ToLinear"+d[1]+"; }"}function e(b,
c){var d=a(c);return"vec4 "+b+"( vec4 value ) { return LinearTo"+d[0]+d[1]+"; }"}function d(a,c){var d;switch(c){case b.LinearToneMapping:d="Linear";break;case b.ReinhardToneMapping:d="Reinhard";break;case b.Uncharted2ToneMapping:d="Uncharted2";break;case b.CineonToneMapping:d="OptimizedCineon";break;default:throw Error("unsupported toneMapping: "+c);}return"vec3 "+a+"( vec3 color ) { return "+d+"ToneMapping( color ); }"}function g(a,b,c){a=a||{};return[a.derivatives||b.envMapCubeUV||b.bumpMap||b.normalMap||
b.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(a.fragDepth||b.logarithmicDepthBuffer)&&c.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",a.drawBuffers&&c.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(a.shaderTextureLOD||b.envMap)&&c.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(l).join("\n")}function f(a){var b=[],c;for(c in a){var d=a[c];!1!==d&&b.push("#define "+c+" "+d)}return b.join("\n")}
function l(a){return""!==a}function m(a,b){return a.replace(/NUM_DIR_LIGHTS/g,b.numDirLights).replace(/NUM_SPOT_LIGHTS/g,b.numSpotLights).replace(/NUM_POINT_LIGHTS/g,b.numPointLights).replace(/NUM_HEMI_LIGHTS/g,b.numHemiLights)}function k(a){return a.replace(/#include +<([\w\d.]+)>/g,function(a,c){var d=b.ShaderChunk[c];if(void 0===d)throw Error("Can not resolve #include <"+c+">");return k(d)})}function t(a){return a.replace(/for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,function(a,
b,c,d){a="";for(b=parseInt(b);b<parseInt(c);b++)a+=d.replace(/\[ i \]/g,"[ "+b+" ]");return a})}var p=0;return function(a,q,n,x){var z=a.context,B=n.extensions,A=n.defines,C=n.__webglShader.vertexShader,G=n.__webglShader.fragmentShader,D="SHADOWMAP_TYPE_BASIC";x.shadowMapType===b.PCFShadowMap?D="SHADOWMAP_TYPE_PCF":x.shadowMapType===b.PCFSoftShadowMap&&(D="SHADOWMAP_TYPE_PCF_SOFT");var H="ENVMAP_TYPE_CUBE",E="ENVMAP_MODE_REFLECTION",F="ENVMAP_BLENDING_MULTIPLY";if(x.envMap){switch(n.envMap.mapping){case b.CubeReflectionMapping:case b.CubeRefractionMapping:H=
"ENVMAP_TYPE_CUBE";break;case b.CubeUVReflectionMapping:case b.CubeUVRefractionMapping:H="ENVMAP_TYPE_CUBE_UV";break;case b.EquirectangularReflectionMapping:case b.EquirectangularRefractionMapping:H="ENVMAP_TYPE_EQUIREC";break;case b.SphericalReflectionMapping:H="ENVMAP_TYPE_SPHERE"}switch(n.envMap.mapping){case b.CubeRefractionMapping:case b.EquirectangularRefractionMapping:E="ENVMAP_MODE_REFRACTION"}switch(n.combine){case b.MultiplyOperation:F="ENVMAP_BLENDING_MULTIPLY";break;case b.MixOperation:F=
"ENVMAP_BLENDING_MIX";break;case b.AddOperation:F="ENVMAP_BLENDING_ADD"}}var I=0<a.gammaFactor?a.gammaFactor:1,B=g(B,x,a.extensions),O=f(A),J=z.createProgram();n instanceof b.RawShaderMaterial?D=A="":(A=["precision "+x.precision+" float;","precision "+x.precision+" int;","#define SHADER_NAME "+n.__webglShader.name,O,x.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+I,"#define MAX_BONES "+x.maxBones,x.map?"#define USE_MAP":"",x.envMap?"#define USE_ENVMAP":"",x.envMap?"#define "+
E:"",x.lightMap?"#define USE_LIGHTMAP":"",x.aoMap?"#define USE_AOMAP":"",x.emissiveMap?"#define USE_EMISSIVEMAP":"",x.bumpMap?"#define USE_BUMPMAP":"",x.normalMap?"#define USE_NORMALMAP":"",x.displacementMap&&x.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",x.specularMap?"#define USE_SPECULARMAP":"",x.roughnessMap?"#define USE_ROUGHNESSMAP":"",x.metalnessMap?"#define USE_METALNESSMAP":"",x.alphaMap?"#define USE_ALPHAMAP":"",x.vertexColors?"#define USE_COLOR":"",x.flatShading?"#define FLAT_SHADED":
"",x.skinning?"#define USE_SKINNING":"",x.useVertexTexture?"#define BONE_TEXTURE":"",x.morphTargets?"#define USE_MORPHTARGETS":"",x.morphNormals&&!1===x.flatShading?"#define USE_MORPHNORMALS":"",x.doubleSided?"#define DOUBLE_SIDED":"",x.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+x.numClippingPlanes,x.shadowMapEnabled?"#define USE_SHADOWMAP":"",x.shadowMapEnabled?"#define "+D:"",x.sizeAttenuation?"#define USE_SIZEATTENUATION":"",x.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":
"",x.logarithmicDepthBuffer&&a.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;",
"\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(l).join("\n"),D=[B,"precision "+
x.precision+" float;","precision "+x.precision+" int;","#define SHADER_NAME "+n.__webglShader.name,O,x.alphaTest?"#define ALPHATEST "+x.alphaTest:"","#define GAMMA_FACTOR "+I,x.useFog&&x.fog?"#define USE_FOG":"",x.useFog&&x.fogExp?"#define FOG_EXP2":"",x.map?"#define USE_MAP":"",x.envMap?"#define USE_ENVMAP":"",x.envMap?"#define "+H:"",x.envMap?"#define "+E:"",x.envMap?"#define "+F:"",x.lightMap?"#define USE_LIGHTMAP":"",x.aoMap?"#define USE_AOMAP":"",x.emissiveMap?"#define USE_EMISSIVEMAP":"",x.bumpMap?
"#define USE_BUMPMAP":"",x.normalMap?"#define USE_NORMALMAP":"",x.specularMap?"#define USE_SPECULARMAP":"",x.roughnessMap?"#define USE_ROUGHNESSMAP":"",x.metalnessMap?"#define USE_METALNESSMAP":"",x.alphaMap?"#define USE_ALPHAMAP":"",x.vertexColors?"#define USE_COLOR":"",x.flatShading?"#define FLAT_SHADED":"",x.doubleSided?"#define DOUBLE_SIDED":"",x.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+x.numClippingPlanes,x.shadowMapEnabled?"#define USE_SHADOWMAP":"",x.shadowMapEnabled?
"#define "+D:"",x.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",x.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",x.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",x.logarithmicDepthBuffer&&a.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"",x.envMap&&a.extensions.get("EXT_shader_texture_lod")?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",x.toneMapping!==b.NoToneMapping?"#define TONE_MAPPING":"",x.toneMapping!==b.NoToneMapping?
b.ShaderChunk.tonemapping_pars_fragment:"",x.toneMapping!==b.NoToneMapping?d("toneMapping",x.toneMapping):"",x.outputEncoding||x.mapEncoding||x.envMapEncoding||x.emissiveMapEncoding?b.ShaderChunk.encodings_pars_fragment:"",x.mapEncoding?c("mapTexelToLinear",x.mapEncoding):"",x.envMapEncoding?c("envMapTexelToLinear",x.envMapEncoding):"",x.emissiveMapEncoding?c("emissiveMapTexelToLinear",x.emissiveMapEncoding):"",x.outputEncoding?e("linearToOutputTexel",x.outputEncoding):"",x.depthPacking?"#define DEPTH_PACKING "+
n.depthPacking:"","\n"].filter(l).join("\n"));C=k(C,x);C=m(C,x);G=k(G,x);G=m(G,x);!1===n instanceof b.ShaderMaterial&&(C=t(C),G=t(G));G=D+G;C=b.WebGLShader(z,z.VERTEX_SHADER,A+C);G=b.WebGLShader(z,z.FRAGMENT_SHADER,G);z.attachShader(J,C);z.attachShader(J,G);void 0!==n.index0AttributeName?z.bindAttribLocation(J,0,n.index0AttributeName):!0===x.morphTargets&&z.bindAttribLocation(J,0,"position");z.linkProgram(J);x=z.getProgramInfoLog(J);H=z.getShaderInfoLog(C);E=z.getShaderInfoLog(G);I=F=!0;if(!1===z.getProgramParameter(J,
z.LINK_STATUS))F=!1,console.error("THREE.WebGLProgram: shader error: ",z.getError(),"gl.VALIDATE_STATUS",z.getProgramParameter(J,z.VALIDATE_STATUS),"gl.getProgramInfoLog",x,H,E);else if(""!==x)console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",x);else if(""===H||""===E)I=!1;I&&(this.diagnostics={runnable:F,material:n,programLog:x,vertexShader:{log:H,prefix:A},fragmentShader:{log:E,prefix:D}});z.deleteShader(C);z.deleteShader(G);var K;this.getUniforms=function(){void 0===K&&(K=new b.WebGLUniforms(z,
J,a));return K};var T;this.getAttributes=function(){if(void 0===T){for(var a={},b=z.getProgramParameter(J,z.ACTIVE_ATTRIBUTES),c=0;c<b;c++){var d=z.getActiveAttrib(J,c).name;a[d]=z.getAttribLocation(J,d)}T=a}return T};this.destroy=function(){z.deleteProgram(J);this.program=void 0};Object.defineProperties(this,{uniforms:{get:function(){console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms().");return this.getUniforms()}},attributes:{get:function(){console.warn("THREE.WebGLProgram: .attributes is now .getAttributes().");
return this.getAttributes()}}});this.id=p++;this.code=q;this.usedTimes=1;this.program=J;this.vertexShader=C;this.fragmentShader=G;return this}}();b.WebGLPrograms=function(a,c){function e(a,c){var d;a?a instanceof b.Texture?d=a.encoding:a instanceof b.WebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),d=a.texture.encoding):d=b.LinearEncoding;d===b.LinearEncoding&&c&&(d=b.GammaEncoding);return d}
var d=[],g={MeshDepthMaterial:"depth",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points"},f="precision supportsVertexTextures map mapEncoding envMap envMapMode envMapEncoding lightMap aoMap emissiveMap emissiveMapEncoding bumpMap normalMap displacementMap specularMap roughnessMap metalnessMap alphaMap combine vertexColors fog useFog fogExp flatShading sizeAttenuation logarithmicDepthBuffer skinning maxBones useVertexTexture morphTargets morphNormals maxMorphTargets maxMorphNormals premultipliedAlpha numDirLights numPointLights numSpotLights numHemiLights shadowMapEnabled shadowMapType toneMapping physicallyCorrectLights alphaTest doubleSided flipSided numClippingPlanes depthPacking".split(" ");
this.getParameters=function(d,f,h,k,p){var n=g[d.type],q;c.floatVertexTextures&&p&&p.skeleton&&p.skeleton.useVertexTexture?q=1024:(q=Math.floor((c.maxVertexUniforms-20)/4),void 0!==p&&p instanceof b.SkinnedMesh&&(q=Math.min(p.skeleton.bones.length,q),q<p.skeleton.bones.length&&console.warn("WebGLRenderer: too many bones - "+p.skeleton.bones.length+", this GPU supports just "+q+" (try OpenGL instead of ANGLE)")));var v=a.getPrecision();null!==d.precision&&(v=c.getMaxPrecision(d.precision),v!==d.precision&&
console.warn("THREE.WebGLProgram.getParameters:",d.precision,"not supported, using",v,"instead."));var x=a.getCurrentRenderTarget();return{shaderID:n,precision:v,supportsVertexTextures:c.vertexTextures,outputEncoding:e(x?x.texture:null,a.gammaOutput),map:!!d.map,mapEncoding:e(d.map,a.gammaInput),envMap:!!d.envMap,envMapMode:d.envMap&&d.envMap.mapping,envMapEncoding:e(d.envMap,a.gammaInput),envMapCubeUV:!!d.envMap&&(d.envMap.mapping===b.CubeUVReflectionMapping||d.envMap.mapping===b.CubeUVRefractionMapping),
lightMap:!!d.lightMap,aoMap:!!d.aoMap,emissiveMap:!!d.emissiveMap,emissiveMapEncoding:e(d.emissiveMap,a.gammaInput),bumpMap:!!d.bumpMap,normalMap:!!d.normalMap,displacementMap:!!d.displacementMap,roughnessMap:!!d.roughnessMap,metalnessMap:!!d.metalnessMap,specularMap:!!d.specularMap,alphaMap:!!d.alphaMap,combine:d.combine,vertexColors:d.vertexColors,fog:h,useFog:d.fog,fogExp:h instanceof b.FogExp2,flatShading:d.shading===b.FlatShading,sizeAttenuation:d.sizeAttenuation,logarithmicDepthBuffer:c.logarithmicDepthBuffer,
skinning:d.skinning,maxBones:q,useVertexTexture:c.floatVertexTextures&&p&&p.skeleton&&p.skeleton.useVertexTexture,morphTargets:d.morphTargets,morphNormals:d.morphNormals,maxMorphTargets:a.maxMorphTargets,maxMorphNormals:a.maxMorphNormals,numDirLights:f.directional.length,numPointLights:f.point.length,numSpotLights:f.spot.length,numHemiLights:f.hemi.length,numClippingPlanes:k,shadowMapEnabled:a.shadowMap.enabled&&p.receiveShadow&&0<f.shadows.length,shadowMapType:a.shadowMap.type,toneMapping:a.toneMapping,
physicallyCorrectLights:a.physicallyCorrectLights,premultipliedAlpha:d.premultipliedAlpha,alphaTest:d.alphaTest,doubleSided:d.side===b.DoubleSide,flipSided:d.side===b.BackSide,depthPacking:void 0!==d.depthPacking?d.depthPacking:!1}};this.getProgramCode=function(a,b){var c=[];b.shaderID?c.push(b.shaderID):(c.push(a.fragmentShader),c.push(a.vertexShader));if(void 0!==a.defines)for(var d in a.defines)c.push(d),c.push(a.defines[d]);for(d=0;d<f.length;d++)c.push(b[f[d]]);return c.join()};this.acquireProgram=
function(c,e,g){for(var f,h=0,k=d.length;h<k;h++){var q=d[h];if(q.code===g){f=q;++f.usedTimes;break}}void 0===f&&(f=new b.WebGLProgram(a,g,c,e),d.push(f));return f};this.releaseProgram=function(a){if(0===--a.usedTimes){var b=d.indexOf(a);d[b]=d[d.length-1];d.pop();a.destroy()}};this.programs=d};b.WebGLProperties=function(){var a={};this.get=function(b){b=b.uuid;var e=a[b];void 0===e&&(e={},a[b]=e);return e};this["delete"]=function(b){delete a[b.uuid]};this.clear=function(){a={}}};b.WebGLShader=function(){function a(a){a=
a.split("\n");for(var b=0;b<a.length;b++)a[b]=b+1+": "+a[b];return a.join("\n")}return function(b,e,d){var g=b.createShader(e);b.shaderSource(g,d);b.compileShader(g);!1===b.getShaderParameter(g,b.COMPILE_STATUS)&&console.error("THREE.WebGLShader: Shader couldn't compile.");""!==b.getShaderInfoLog(g)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",e===b.VERTEX_SHADER?"vertex":"fragment",b.getShaderInfoLog(g),a(d));return g}}();b.WebGLShadowMap=function(a,c,e){function d(c,d,e,g){var f=c.geometry,
h=null,h=x,l=c.customDepthMaterial;e&&(h=z,l=c.customDistanceMaterial);l?h=l:(c=c instanceof b.SkinnedMesh&&d.skinning,l=0,void 0!==f.morphTargets&&0<f.morphTargets.length&&d.morphTargets&&(l|=1),c&&(l|=2),h=h[l]);a.localClippingEnabled&&!0===d.clipShadows&&0!==d.clippingPlanes.length&&(l=h.uuid,f=d.uuid,c=B[l],void 0===c&&(c={},B[l]=c),l=c[f],void 0===l&&(l=h.clone(),c[f]=l),h=l);h.visible=d.visible;h.wireframe=d.wireframe;f=d.side;J.renderSingleSided&&f==b.DoubleSide&&(f=b.FrontSide);J.renderReverseSided&&
(f===b.FrontSide?f=b.BackSide:f===b.BackSide&&(f=b.FrontSide));h.side=f;h.clipShadows=d.clipShadows;h.clippingPlanes=d.clippingPlanes;h.wireframeLinewidth=d.wireframeLinewidth;h.linewidth=d.linewidth;e&&void 0!==h.uniforms.lightPos&&h.uniforms.lightPos.value.copy(g);return h}function g(a,c,d){if(!1!==a.visible){a.layers.test(c.layers)&&(a instanceof b.Mesh||a instanceof b.Line||a instanceof b.Points)&&a.castShadow&&(!1===a.frustumCulled||!0===m.intersectsObject(a))&&!0===a.material.visible&&(a.modelViewMatrix.multiplyMatrices(d.matrixWorldInverse,
a.matrixWorld),v.push(a));a=a.children;for(var e=0,f=a.length;e<f;e++)g(a[e],c,d)}}var f=a.context,l=a.state,m=new b.Frustum,k=new b.Matrix4,t=c.shadows,p=new b.Vector2,n=new b.Vector3,q=new b.Vector3,v=[],x=Array(4),z=Array(4),B={},A=[new b.Vector3(1,0,0),new b.Vector3(-1,0,0),new b.Vector3(0,0,1),new b.Vector3(0,0,-1),new b.Vector3(0,1,0),new b.Vector3(0,-1,0)],C=[new b.Vector3(0,1,0),new b.Vector3(0,1,0),new b.Vector3(0,1,0),new b.Vector3(0,1,0),new b.Vector3(0,0,1),new b.Vector3(0,0,-1)],G=[new b.Vector4,
new b.Vector4,new b.Vector4,new b.Vector4,new b.Vector4,new b.Vector4];c=new b.MeshDepthMaterial;c.depthPacking=b.RGBADepthPacking;c.clipping=!0;for(var D=b.ShaderLib.distanceRGBA,H=b.UniformsUtils.clone(D.uniforms),E=0;4!==E;++E){var F=0!==(E&1),I=0!==(E&2),O=c.clone();O.morphTargets=F;O.skinning=I;x[E]=O;F=new b.ShaderMaterial({defines:{USE_SHADOWMAP:""},uniforms:H,vertexShader:D.vertexShader,fragmentShader:D.fragmentShader,morphTargets:F,skinning:I,clipping:!0});z[E]=F}var J=this;this.enabled=
!1;this.autoUpdate=!0;this.needsUpdate=!1;this.type=b.PCFShadowMap;this.renderSingleSided=this.renderReverseSided=!0;this.render=function(c,x){if(!1!==J.enabled&&(!1!==J.autoUpdate||!1!==J.needsUpdate)&&0!==t.length){l.clearColor(1,1,1,1);l.disable(f.BLEND);l.setDepthTest(!0);l.setScissorTest(!1);for(var z,D,B=0,E=t.length;B<E;B++){var F=t[B],M=F.shadow;if(void 0===M)console.warn("THREE.WebGLShadowMap:",F,"has no shadow.");else{var V=M.camera;p.copy(M.mapSize);if(F instanceof b.PointLight){z=6;D=
!0;var I=p.x,H=p.y;G[0].set(2*I,H,I,H);G[1].set(0,H,I,H);G[2].set(3*I,H,I,H);G[3].set(I,H,I,H);G[4].set(3*I,0,I,H);G[5].set(I,0,I,H);p.x*=4;p.y*=2}else z=1,D=!1;null===M.map&&(M.map=new b.WebGLRenderTarget(p.x,p.y,{minFilter:b.NearestFilter,magFilter:b.NearestFilter,format:b.RGBAFormat}),V.updateProjectionMatrix());M instanceof b.SpotLightShadow&&M.update(F);I=M.map;M=M.matrix;q.setFromMatrixPosition(F.matrixWorld);V.position.copy(q);a.setRenderTarget(I);a.clear();for(I=0;I<z;I++){D?(n.copy(V.position),
n.add(A[I]),V.up.copy(C[I]),V.lookAt(n),l.viewport(G[I])):(n.setFromMatrixPosition(F.target.matrixWorld),V.lookAt(n));V.updateMatrixWorld();V.matrixWorldInverse.getInverse(V.matrixWorld);M.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1);M.multiply(V.projectionMatrix);M.multiply(V.matrixWorldInverse);k.multiplyMatrices(V.projectionMatrix,V.matrixWorldInverse);m.setFromMatrix(k);v.length=0;g(c,x,V);for(var H=0,N=v.length;H<N;H++){var O=v[H],Z=e.update(O),da=O.material;if(da instanceof b.MultiMaterial)for(var ca=
Z.groups,da=da.materials,ka=0,na=ca.length;ka<na;ka++){var ja=ca[ka],fa=da[ja.materialIndex];!0===fa.visible&&(fa=d(O,fa,D,q),a.renderBufferDirect(V,null,Z,fa,O,ja))}else fa=d(O,da,D,q),a.renderBufferDirect(V,null,Z,fa,O,null)}}}}z=a.getClearColor();D=a.getClearAlpha();a.setClearColor(z,D);J.needsUpdate=!1}}};b.WebGLState=function(a,c,e){function d(b,c,d){var e=new Uint8Array(3),g=a.createTexture();a.bindTexture(b,g);a.texParameteri(b,a.TEXTURE_MIN_FILTER,a.NEAREST);a.texParameteri(b,a.TEXTURE_MAG_FILTER,
a.NEAREST);for(b=0;b<d;b++)a.texImage2D(c+b,0,a.RGB,1,1,0,a.RGB,a.UNSIGNED_BYTE,e);return g}var g=this;this.buffers={color:new b.WebGLColorBuffer(a,this),depth:new b.WebGLDepthBuffer(a,this),stencil:new b.WebGLStencilBuffer(a,this)};var f=a.getParameter(a.MAX_VERTEX_ATTRIBS),l=new Uint8Array(f),m=new Uint8Array(f),k=new Uint8Array(f),t={},p=null,n=null,q=null,v=null,x=null,z=null,B=null,A=null,C=!1,G=null,D=null,H=null,E=null,F=null,I=null,O=a.getParameter(a.MAX_TEXTURE_IMAGE_UNITS),J=null,K={},T=
new b.Vector4,U=new b.Vector4,S={};S[a.TEXTURE_2D]=d(a.TEXTURE_2D,a.TEXTURE_2D,1);S[a.TEXTURE_CUBE_MAP]=d(a.TEXTURE_CUBE_MAP,a.TEXTURE_CUBE_MAP_POSITIVE_X,6);this.init=function(){this.clearColor(0,0,0,1);this.clearDepth(1);this.clearStencil(0);this.enable(a.DEPTH_TEST);this.setDepthFunc(b.LessEqualDepth);this.setFlipSided(!1);this.setCullFace(b.CullFaceBack);this.enable(a.CULL_FACE);this.enable(a.BLEND);this.setBlending(b.NormalBlending)};this.initAttributes=function(){for(var a=0,b=l.length;a<b;a++)l[a]=
0};this.enableAttribute=function(b){l[b]=1;0===m[b]&&(a.enableVertexAttribArray(b),m[b]=1);0!==k[b]&&(c.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(b,0),k[b]=0)};this.enableAttributeAndDivisor=function(b,c,d){l[b]=1;0===m[b]&&(a.enableVertexAttribArray(b),m[b]=1);k[b]!==c&&(d.vertexAttribDivisorANGLE(b,c),k[b]=c)};this.disableUnusedAttributes=function(){for(var b=0,c=m.length;b!==c;++b)m[b]!==l[b]&&(a.disableVertexAttribArray(b),m[b]=0)};this.enable=function(b){!0!==t[b]&&(a.enable(b),
t[b]=!0)};this.disable=function(b){!1!==t[b]&&(a.disable(b),t[b]=!1)};this.getCompressedTextureFormats=function(){if(null===p&&(p=[],c.get("WEBGL_compressed_texture_pvrtc")||c.get("WEBGL_compressed_texture_s3tc")||c.get("WEBGL_compressed_texture_etc1")))for(var b=a.getParameter(a.COMPRESSED_TEXTURE_FORMATS),d=0;d<b.length;d++)p.push(b[d]);return p};this.setBlending=function(c,d,g,f,h,l,m,k){if(c!==b.NoBlending){this.enable(a.BLEND);if(c!==n||k!==C)c===b.AdditiveBlending?k?(a.blendEquationSeparate(a.FUNC_ADD,
a.FUNC_ADD),a.blendFuncSeparate(a.ONE,a.ONE,a.ONE,a.ONE)):(a.blendEquation(a.FUNC_ADD),a.blendFunc(a.SRC_ALPHA,a.ONE)):c===b.SubtractiveBlending?k?(a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),a.blendFuncSeparate(a.ZERO,a.ZERO,a.ONE_MINUS_SRC_COLOR,a.ONE_MINUS_SRC_ALPHA)):(a.blendEquation(a.FUNC_ADD),a.blendFunc(a.ZERO,a.ONE_MINUS_SRC_COLOR)):c===b.MultiplyBlending?k?(a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),a.blendFuncSeparate(a.ZERO,a.SRC_COLOR,a.ZERO,a.SRC_ALPHA)):(a.blendEquation(a.FUNC_ADD),
a.blendFunc(a.ZERO,a.SRC_COLOR)):k?(a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),a.blendFuncSeparate(a.ONE,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA)):(a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),a.blendFuncSeparate(a.SRC_ALPHA,a.ONE_MINUS_SRC_ALPHA,a.ONE,a.ONE_MINUS_SRC_ALPHA)),n=c,C=k;if(c===b.CustomBlending){h=h||d;l=l||g;m=m||f;if(d!==q||h!==z)a.blendEquationSeparate(e(d),e(h)),q=d,z=h;if(g!==v||f!==x||l!==B||m!==A)a.blendFuncSeparate(e(g),e(f),e(l),e(m)),v=g,x=f,B=l,A=m}else A=B=
z=x=v=q=null}else this.disable(a.BLEND),n=c};this.setColorWrite=function(a){this.buffers.color.setMask(a)};this.setDepthTest=function(a){this.buffers.depth.setTest(a)};this.setDepthWrite=function(a){this.buffers.depth.setMask(a)};this.setDepthFunc=function(a){this.buffers.depth.setFunc(a)};this.setStencilTest=function(a){this.buffers.stencil.setTest(a)};this.setStencilWrite=function(a){this.buffers.stencil.setMask(a)};this.setStencilFunc=function(a,b,c){this.buffers.stencil.setFunc(a,b,c)};this.setStencilOp=
function(a,b,c){this.buffers.stencil.setOp(a,b,c)};this.setFlipSided=function(b){G!==b&&(b?a.frontFace(a.CW):a.frontFace(a.CCW),G=b)};this.setCullFace=function(c){c!==b.CullFaceNone?(this.enable(a.CULL_FACE),c!==D&&(c===b.CullFaceBack?a.cullFace(a.BACK):c===b.CullFaceFront?a.cullFace(a.FRONT):a.cullFace(a.FRONT_AND_BACK))):this.disable(a.CULL_FACE);D=c};this.setLineWidth=function(b){b!==H&&(a.lineWidth(b),H=b)};this.setPolygonOffset=function(b,c,d){if(b){if(this.enable(a.POLYGON_OFFSET_FILL),E!==
c||F!==d)a.polygonOffset(c,d),E=c,F=d}else this.disable(a.POLYGON_OFFSET_FILL)};this.getScissorTest=function(){return I};this.setScissorTest=function(b){(I=b)?this.enable(a.SCISSOR_TEST):this.disable(a.SCISSOR_TEST)};this.activeTexture=function(b){void 0===b&&(b=a.TEXTURE0+O-1);J!==b&&(a.activeTexture(b),J=b)};this.bindTexture=function(b,c){null===J&&g.activeTexture();var d=K[J];void 0===d&&(d={type:void 0,texture:void 0},K[J]=d);if(d.type!==b||d.texture!==c)a.bindTexture(b,c||S[b]),d.type=b,d.texture=
c};this.compressedTexImage2D=function(){try{a.compressedTexImage2D.apply(a,arguments)}catch(b){console.error(b)}};this.texImage2D=function(){try{a.texImage2D.apply(a,arguments)}catch(b){console.error(b)}};this.clearColor=function(a,b,c,d){this.buffers.color.setClear(a,b,c,d)};this.clearDepth=function(a){this.buffers.depth.setClear(a)};this.clearStencil=function(a){this.buffers.stencil.setClear(a)};this.scissor=function(b){!1===T.equals(b)&&(a.scissor(b.x,b.y,b.z,b.w),T.copy(b))};this.viewport=function(b){!1===
U.equals(b)&&(a.viewport(b.x,b.y,b.z,b.w),U.copy(b))};this.reset=function(){for(var b=0;b<m.length;b++)1===m[b]&&(a.disableVertexAttribArray(b),m[b]=0);t={};J=p=null;K={};D=G=n=null;this.buffers.color.reset();this.buffers.depth.reset();this.buffers.stencil.reset()}};b.WebGLColorBuffer=function(a,c){var e=!1,d=new b.Vector4,g=null,f=new b.Vector4;this.setMask=function(b){g===b||e||(a.colorMask(b,b,b,b),g=b)};this.setLocked=function(a){e=a};this.setClear=function(b,c,e,g){d.set(b,c,e,g);!1===f.equals(d)&&
(a.clearColor(b,c,e,g),f.copy(d))};this.reset=function(){e=!1;g=null;f=new b.Vector4}};b.WebGLDepthBuffer=function(a,c){var e=!1,d=null,g=null,f=null;this.setTest=function(b){b?c.enable(a.DEPTH_TEST):c.disable(a.DEPTH_TEST)};this.setMask=function(b){d===b||e||(a.depthMask(b),d=b)};this.setFunc=function(c){if(g!==c){if(c)switch(c){case b.NeverDepth:a.depthFunc(a.NEVER);break;case b.AlwaysDepth:a.depthFunc(a.ALWAYS);break;case b.LessDepth:a.depthFunc(a.LESS);break;case b.LessEqualDepth:a.depthFunc(a.LEQUAL);
break;case b.EqualDepth:a.depthFunc(a.EQUAL);break;case b.GreaterEqualDepth:a.depthFunc(a.GEQUAL);break;case b.GreaterDepth:a.depthFunc(a.GREATER);break;case b.NotEqualDepth:a.depthFunc(a.NOTEQUAL);break;default:a.depthFunc(a.LEQUAL)}else a.depthFunc(a.LEQUAL);g=c}};this.setLocked=function(a){e=a};this.setClear=function(b){f!==b&&(a.clearDepth(b),f=b)};this.reset=function(){e=!1;f=g=d=null}};b.WebGLStencilBuffer=function(a,b){var e=!1,d=null,g=null,f=null,l=null,m=null,k=null,t=null,p=null;this.setTest=
function(d){d?b.enable(a.STENCIL_TEST):b.disable(a.STENCIL_TEST)};this.setMask=function(b){d===b||e||(a.stencilMask(b),d=b)};this.setFunc=function(b,c,d){if(g!==b||f!==c||l!==d)a.stencilFunc(b,c,d),g=b,f=c,l=d};this.setOp=function(b,c,d){if(m!==b||k!==c||t!==d)a.stencilOp(b,c,d),m=b,k=c,t=d};this.setLocked=function(a){e=a};this.setClear=function(b){p!==b&&(a.clearStencil(b),p=b)};this.reset=function(){e=!1;p=t=k=m=l=f=g=d=null}};b.WebGLUniforms=function(){var a=[],b=[],e=function(b,c,d){var e=b[0];
if(0>=e||0<e)return b;var g=c*d,f=a[g];void 0===f&&(f=new Float32Array(g),a[g]=f);if(0!==c)for(e.toArray(f,0),e=1,g=0;e!==c;++e)g+=d,b[e].toArray(f,g);return f},d=function(a,d){var e=b[d];void 0===e&&(e=new Int32Array(d),b[d]=e);for(var g=0;g!==d;++g)e[g]=a.allocTextureUnit();return e},g=function(a,b){a.uniform1f(this.addr,b)},f=function(a,b){a.uniform1i(this.addr,b)},l=function(a,b){void 0===b.x?a.uniform2fv(this.addr,b):a.uniform2f(this.addr,b.x,b.y)},m=function(a,b){void 0!==b.x?a.uniform3f(this.addr,
b.x,b.y,b.z):void 0!==b.r?a.uniform3f(this.addr,b.r,b.g,b.b):a.uniform3fv(this.addr,b)},k=function(a,b){void 0===b.x?a.uniform4fv(this.addr,b):a.uniform4f(this.addr,b.x,b.y,b.z,b.w)},t=function(a,b){a.uniformMatrix2fv(this.addr,!1,b.elements||b)},p=function(a,b){a.uniformMatrix3fv(this.addr,!1,b.elements||b)},n=function(a,b){a.uniformMatrix4fv(this.addr,!1,b.elements||b)},q=function(a,b,c){var d=c.allocTextureUnit();a.uniform1i(this.addr,d);b&&c.setTexture2D(b,d)},v=function(a,b,c){var d=c.allocTextureUnit();
a.uniform1i(this.addr,d);b&&c.setTextureCube(b,d)},x=function(a,b){a.uniform2iv(this.addr,b)},z=function(a,b){a.uniform3iv(this.addr,b)},B=function(a,b){a.uniform4iv(this.addr,b)},A=function(a){switch(a){case 5126:return g;case 35664:return l;case 35665:return m;case 35666:return k;case 35674:return t;case 35675:return p;case 35676:return n;case 35678:return q;case 35680:return v;case 5124:case 35670:return f;case 35667:case 35671:return x;case 35668:case 35672:return z;case 35669:case 35673:return B}},
C=function(a,b){a.uniform1fv(this.addr,b)},G=function(a,b){a.uniform1iv(this.addr,b)},D=function(a,b){a.uniform2fv(this.addr,e(b,this.size,2))},H=function(a,b){a.uniform3fv(this.addr,e(b,this.size,3))},E=function(a,b){a.uniform4fv(this.addr,e(b,this.size,4))},F=function(a,b){a.uniformMatrix2fv(this.addr,!1,e(b,this.size,4))},I=function(a,b){a.uniformMatrix3fv(this.addr,!1,e(b,this.size,9))},O=function(a,b){a.uniformMatrix4fv(this.addr,!1,e(b,this.size,16))},J=function(a,b,c){var e=b.length,g=d(c,
e);a.uniform1iv(this.addr,g);for(a=0;a!==e;++a){var f=b[a];f&&c.setTexture2D(f,g[a])}},K=function(a,b,c){var e=b.length,g=d(c,e);a.uniform1iv(this.addr,g);for(a=0;a!==e;++a){var f=b[a];f&&c.setTextureCube(f,g[a])}},T=function(a){switch(a){case 5126:return C;case 35664:return D;case 35665:return H;case 35666:return E;case 35674:return F;case 35675:return I;case 35676:return O;case 35678:return J;case 35680:return K;case 5124:case 35670:return G;case 35667:case 35671:return x;case 35668:case 35672:return z;
case 35669:case 35673:return B}},U=function(a,b,c){this.id=a;this.addr=c;this.setValue=A(b.type)},S=function(a,b,c){this.id=a;this.addr=c;this.size=b.size;this.setValue=T(b.type)},L=function(a){this.id=a;this.seq=[];this.map={}};L.prototype.setValue=function(a,b){for(var c=this.seq,d=0,e=c.length;d!==e;++d){var g=c[d];g.setValue(a,b[g.id])}};var P=/([\w\d_]+)(\])?(\[|\.)?/g,Q=function(a,b,c){this.seq=[];this.map={};this.renderer=c;c=a.getProgramParameter(b,a.ACTIVE_UNIFORMS);for(var d=0;d!==c;++d){var e=
a.getActiveUniform(b,d),g=a.getUniformLocation(b,e.name),f=this,h=e.name,l=h.length;for(P.lastIndex=0;;){var m=P.exec(h),k=P.lastIndex,r=m[1],t=m[3];"]"===m[2]&&(r|=0);if(void 0===t||"["===t&&k+2===l){h=f;e=void 0===t?new U(r,e,g):new S(r,e,g);h.seq.push(e);h.map[e.id]=e;break}else t=f.map[r],void 0===t&&(t=new L(r),r=f,f=t,r.seq.push(f),r.map[f.id]=f),f=t}}};Q.prototype.setValue=function(a,b,c){b=this.map[b];void 0!==b&&b.setValue(a,c,this.renderer)};Q.prototype.set=function(a,b,c){var d=this.map[c];
void 0!==d&&d.setValue(a,b[c],this.renderer)};Q.prototype.setOptional=function(a,b,c){b=b[c];void 0!==b&&this.setValue(a,c,b)};Q.upload=function(a,b,c,d){for(var e=0,g=b.length;e!==g;++e){var f=b[e],h=c[f.id];!1!==h.needsUpdate&&f.setValue(a,h.value,d)}};Q.seqWithValue=function(a,b){for(var c=[],d=0,e=a.length;d!==e;++d){var g=a[d];g.id in b&&c.push(g)}return c};Q.splitDynamic=function(a,b){for(var c=null,d=a.length,e=0,g=0;g!==d;++g){var f=a[g],h=b[f.id];h&&!0===h.dynamic?(null===c&&(c=[]),c.push(f)):
(e<g&&(a[e]=f),++e)}e<d&&(a.length=e);return c};Q.evalDynamic=function(a,b,c,d){for(var e=0,g=a.length;e!==g;++e){var f=b[a[e].id],h=f.onUpdateCallback;void 0!==h&&h.call(f,c,d)}};return Q}();b.LensFlarePlugin=function(a,c){var e,d,g,f,l,m,k,t,p,n,q=a.context,v=a.state,x,z,B,A,C,G;this.render=function(D,H,E){if(0!==c.length){D=new b.Vector3;var F=E.w/E.z,I=.5*E.z,O=.5*E.w,J=16/E.w,K=new b.Vector2(J*F,J),T=new b.Vector3(1,1,0),U=new b.Vector2(1,1),S=new b.Box2;S.min.set(0,0);S.max.set(E.z-16,E.w-16);
if(void 0===A){var J=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),L=new Uint16Array([0,1,2,0,2,3]);x=q.createBuffer();z=q.createBuffer();q.bindBuffer(q.ARRAY_BUFFER,x);q.bufferData(q.ARRAY_BUFFER,J,q.STATIC_DRAW);q.bindBuffer(q.ELEMENT_ARRAY_BUFFER,z);q.bufferData(q.ELEMENT_ARRAY_BUFFER,L,q.STATIC_DRAW);C=q.createTexture();G=q.createTexture();v.bindTexture(q.TEXTURE_2D,C);q.texImage2D(q.TEXTURE_2D,0,q.RGB,16,16,0,q.RGB,q.UNSIGNED_BYTE,null);q.texParameteri(q.TEXTURE_2D,q.TEXTURE_WRAP_S,
q.CLAMP_TO_EDGE);q.texParameteri(q.TEXTURE_2D,q.TEXTURE_WRAP_T,q.CLAMP_TO_EDGE);q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MAG_FILTER,q.NEAREST);q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MIN_FILTER,q.NEAREST);v.bindTexture(q.TEXTURE_2D,G);q.texImage2D(q.TEXTURE_2D,0,q.RGBA,16,16,0,q.RGBA,q.UNSIGNED_BYTE,null);q.texParameteri(q.TEXTURE_2D,q.TEXTURE_WRAP_S,q.CLAMP_TO_EDGE);q.texParameteri(q.TEXTURE_2D,q.TEXTURE_WRAP_T,q.CLAMP_TO_EDGE);q.texParameteri(q.TEXTURE_2D,q.TEXTURE_MAG_FILTER,q.NEAREST);q.texParameteri(q.TEXTURE_2D,
q.TEXTURE_MIN_FILTER,q.NEAREST);var J=B={vertexShader:"uniform lowp int renderType;\nuniform vec3 screenPosition;\nuniform vec2 scale;\nuniform float rotation;\nuniform sampler2D occlusionMap;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvarying float vVisibility;\nvoid main() {\nvUV = uv;\nvec2 pos = position;\nif ( renderType == 2 ) {\nvec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );\nvisibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );\nvVisibility =        visibility.r / 9.0;\nvVisibility *= 1.0 - visibility.g / 9.0;\nvVisibility *=       visibility.b / 9.0;\nvVisibility *= 1.0 - visibility.a / 9.0;\npos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;\npos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;\n}\ngl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );\n}",
fragmentShader:"uniform lowp int renderType;\nuniform sampler2D map;\nuniform float opacity;\nuniform vec3 color;\nvarying vec2 vUV;\nvarying float vVisibility;\nvoid main() {\nif ( renderType == 0 ) {\ngl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );\n} else if ( renderType == 1 ) {\ngl_FragColor = texture2D( map, vUV );\n} else {\nvec4 texture = texture2D( map, vUV );\ntexture.a *= opacity * vVisibility;\ngl_FragColor = texture;\ngl_FragColor.rgb *= color;\n}\n}"},L=q.createProgram(),P=q.createShader(q.FRAGMENT_SHADER),
Q=q.createShader(q.VERTEX_SHADER),M="precision "+a.getPrecision()+" float;\n";q.shaderSource(P,M+J.fragmentShader);q.shaderSource(Q,M+J.vertexShader);q.compileShader(P);q.compileShader(Q);q.attachShader(L,P);q.attachShader(L,Q);q.linkProgram(L);A=L;p=q.getAttribLocation(A,"position");n=q.getAttribLocation(A,"uv");e=q.getUniformLocation(A,"renderType");d=q.getUniformLocation(A,"map");g=q.getUniformLocation(A,"occlusionMap");f=q.getUniformLocation(A,"opacity");l=q.getUniformLocation(A,"color");m=q.getUniformLocation(A,
"scale");k=q.getUniformLocation(A,"rotation");t=q.getUniformLocation(A,"screenPosition")}q.useProgram(A);v.initAttributes();v.enableAttribute(p);v.enableAttribute(n);v.disableUnusedAttributes();q.uniform1i(g,0);q.uniform1i(d,1);q.bindBuffer(q.ARRAY_BUFFER,x);q.vertexAttribPointer(p,2,q.FLOAT,!1,16,0);q.vertexAttribPointer(n,2,q.FLOAT,!1,16,8);q.bindBuffer(q.ELEMENT_ARRAY_BUFFER,z);v.disable(q.CULL_FACE);v.setDepthWrite(!1);L=0;for(P=c.length;L<P;L++)if(J=16/E.w,K.set(J*F,J),Q=c[L],D.set(Q.matrixWorld.elements[12],
Q.matrixWorld.elements[13],Q.matrixWorld.elements[14]),D.applyMatrix4(H.matrixWorldInverse),D.applyProjection(H.projectionMatrix),T.copy(D),U.x=E.x+T.x*I+I-8,U.y=E.y+T.y*O+O-8,!0===S.containsPoint(U)){v.activeTexture(q.TEXTURE0);v.bindTexture(q.TEXTURE_2D,null);v.activeTexture(q.TEXTURE1);v.bindTexture(q.TEXTURE_2D,C);q.copyTexImage2D(q.TEXTURE_2D,0,q.RGB,U.x,U.y,16,16,0);q.uniform1i(e,0);q.uniform2f(m,K.x,K.y);q.uniform3f(t,T.x,T.y,T.z);v.disable(q.BLEND);v.enable(q.DEPTH_TEST);q.drawElements(q.TRIANGLES,
6,q.UNSIGNED_SHORT,0);v.activeTexture(q.TEXTURE0);v.bindTexture(q.TEXTURE_2D,G);q.copyTexImage2D(q.TEXTURE_2D,0,q.RGBA,U.x,U.y,16,16,0);q.uniform1i(e,1);v.disable(q.DEPTH_TEST);v.activeTexture(q.TEXTURE1);v.bindTexture(q.TEXTURE_2D,C);q.drawElements(q.TRIANGLES,6,q.UNSIGNED_SHORT,0);Q.positionScreen.copy(T);Q.customUpdateCallback?Q.customUpdateCallback(Q):Q.updateLensFlares();q.uniform1i(e,2);v.enable(q.BLEND);for(var M=0,V=Q.lensFlares.length;M<V;M++){var X=Q.lensFlares[M];.001<X.opacity&&.001<X.scale&&
(T.x=X.x,T.y=X.y,T.z=X.z,J=X.size*X.scale/E.w,K.x=J*F,K.y=J,q.uniform3f(t,T.x,T.y,T.z),q.uniform2f(m,K.x,K.y),q.uniform1f(k,X.rotation),q.uniform1f(f,X.opacity),q.uniform3f(l,X.color.r,X.color.g,X.color.b),v.setBlending(X.blending,X.blendEquation,X.blendSrc,X.blendDst),a.setTexture2D(X.texture,1),q.drawElements(q.TRIANGLES,6,q.UNSIGNED_SHORT,0))}}v.enable(q.CULL_FACE);v.enable(q.DEPTH_TEST);v.setDepthWrite(!0);a.resetGLState()}}};b.SpritePlugin=function(a,c){var e,d,g,f,l,m,k,t,p,n,q,v,x,z,B,A,C;
function G(a,b){return a.renderOrder!==b.renderOrder?a.renderOrder-b.renderOrder:a.z!==b.z?b.z-a.z:b.id-a.id}var D=a.context,H=a.state,E,F,I,O,J=new b.Vector3,K=new b.Quaternion,T=new b.Vector3;this.render=function(U,S){if(0!==c.length){if(void 0===I){var L=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),P=new Uint16Array([0,1,2,0,2,3]);E=D.createBuffer();F=D.createBuffer();D.bindBuffer(D.ARRAY_BUFFER,E);D.bufferData(D.ARRAY_BUFFER,L,D.STATIC_DRAW);D.bindBuffer(D.ELEMENT_ARRAY_BUFFER,
F);D.bufferData(D.ELEMENT_ARRAY_BUFFER,P,D.STATIC_DRAW);var L=D.createProgram(),P=D.createShader(D.VERTEX_SHADER),Q=D.createShader(D.FRAGMENT_SHADER);D.shaderSource(P,["precision "+a.getPrecision()+" float;","uniform mat4 modelViewMatrix;\nuniform mat4 projectionMatrix;\nuniform float rotation;\nuniform vec2 scale;\nuniform vec2 uvOffset;\nuniform vec2 uvScale;\nattribute vec2 position;\nattribute vec2 uv;\nvarying vec2 vUV;\nvoid main() {\nvUV = uvOffset + uv * uvScale;\nvec2 alignedPosition = position * scale;\nvec2 rotatedPosition;\nrotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\nrotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\nvec4 finalPosition;\nfinalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\nfinalPosition.xy += rotatedPosition;\nfinalPosition = projectionMatrix * finalPosition;\ngl_Position = finalPosition;\n}"].join("\n"));
D.shaderSource(Q,["precision "+a.getPrecision()+" float;","uniform vec3 color;\nuniform sampler2D map;\nuniform float opacity;\nuniform int fogType;\nuniform vec3 fogColor;\nuniform float fogDensity;\nuniform float fogNear;\nuniform float fogFar;\nuniform float alphaTest;\nvarying vec2 vUV;\nvoid main() {\nvec4 texture = texture2D( map, vUV );\nif ( texture.a < alphaTest ) discard;\ngl_FragColor = vec4( color * texture.xyz, texture.a * opacity );\nif ( fogType > 0 ) {\nfloat depth = gl_FragCoord.z / gl_FragCoord.w;\nfloat fogFactor = 0.0;\nif ( fogType == 1 ) {\nfogFactor = smoothstep( fogNear, fogFar, depth );\n} else {\nconst float LOG2 = 1.442695;\nfogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );\nfogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );\n}\ngl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );\n}\n}"].join("\n"));
D.compileShader(P);D.compileShader(Q);D.attachShader(L,P);D.attachShader(L,Q);D.linkProgram(L);I=L;A=D.getAttribLocation(I,"position");C=D.getAttribLocation(I,"uv");e=D.getUniformLocation(I,"uvOffset");d=D.getUniformLocation(I,"uvScale");g=D.getUniformLocation(I,"rotation");f=D.getUniformLocation(I,"scale");l=D.getUniformLocation(I,"color");m=D.getUniformLocation(I,"map");k=D.getUniformLocation(I,"opacity");t=D.getUniformLocation(I,"modelViewMatrix");p=D.getUniformLocation(I,"projectionMatrix");n=
D.getUniformLocation(I,"fogType");q=D.getUniformLocation(I,"fogDensity");v=D.getUniformLocation(I,"fogNear");x=D.getUniformLocation(I,"fogFar");z=D.getUniformLocation(I,"fogColor");B=D.getUniformLocation(I,"alphaTest");L=document.createElement("canvas");L.width=8;L.height=8;P=L.getContext("2d");P.fillStyle="white";P.fillRect(0,0,8,8);O=new b.Texture(L);O.needsUpdate=!0}D.useProgram(I);H.initAttributes();H.enableAttribute(A);H.enableAttribute(C);H.disableUnusedAttributes();H.disable(D.CULL_FACE);H.enable(D.BLEND);
D.bindBuffer(D.ARRAY_BUFFER,E);D.vertexAttribPointer(A,2,D.FLOAT,!1,16,0);D.vertexAttribPointer(C,2,D.FLOAT,!1,16,8);D.bindBuffer(D.ELEMENT_ARRAY_BUFFER,F);D.uniformMatrix4fv(p,!1,S.projectionMatrix.elements);H.activeTexture(D.TEXTURE0);D.uniform1i(m,0);P=L=0;(Q=U.fog)?(D.uniform3f(z,Q.color.r,Q.color.g,Q.color.b),Q instanceof b.Fog?(D.uniform1f(v,Q.near),D.uniform1f(x,Q.far),D.uniform1i(n,1),P=L=1):Q instanceof b.FogExp2&&(D.uniform1f(q,Q.density),D.uniform1i(n,2),P=L=2)):(D.uniform1i(n,0),P=L=0);
for(var Q=0,M=c.length;Q<M;Q++){var V=c[Q];V.modelViewMatrix.multiplyMatrices(S.matrixWorldInverse,V.matrixWorld);V.z=-V.modelViewMatrix.elements[14]}c.sort(G);for(var X=[],Q=0,M=c.length;Q<M;Q++){var V=c[Q],W=V.material;D.uniform1f(B,W.alphaTest);D.uniformMatrix4fv(t,!1,V.modelViewMatrix.elements);V.matrixWorld.decompose(J,K,T);X[0]=T.x;X[1]=T.y;V=0;U.fog&&W.fog&&(V=P);L!==V&&(D.uniform1i(n,V),L=V);null!==W.map?(D.uniform2f(e,W.map.offset.x,W.map.offset.y),D.uniform2f(d,W.map.repeat.x,W.map.repeat.y)):
(D.uniform2f(e,0,0),D.uniform2f(d,1,1));D.uniform1f(k,W.opacity);D.uniform3f(l,W.color.r,W.color.g,W.color.b);D.uniform1f(g,W.rotation);D.uniform2fv(f,X);H.setBlending(W.blending,W.blendEquation,W.blendSrc,W.blendDst);H.setDepthTest(W.depthTest);H.setDepthWrite(W.depthWrite);W.map?a.setTexture2D(W.map,0):a.setTexture2D(O,0);D.drawElements(D.TRIANGLES,6,D.UNSIGNED_SHORT,0)}H.enable(D.CULL_FACE);a.resetGLState()}}};Object.assign(b,{Face4:function(a,c,e,d,g,f,l){console.warn("THREE.Face4 has been removed. A THREE.Face3 will be created instead.");
return new b.Face3(a,c,e,g,f,l)},LineStrip:0,LinePieces:1,MeshFaceMaterial:b.MultiMaterial,PointCloud:function(a,c){console.warn("THREE.PointCloud has been renamed to THREE.Points.");return new b.Points(a,c)},Particle:b.Sprite,ParticleSystem:function(a,c){console.warn("THREE.ParticleSystem has been renamed to THREE.Points.");return new b.Points(a,c)},PointCloudMaterial:function(a){console.warn("THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.");return new b.PointsMaterial(a)},ParticleBasicMaterial:function(a){console.warn("THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.");
return new b.PointsMaterial(a)},ParticleSystemMaterial:function(a){console.warn("THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.");return new b.PointsMaterial(a)},Vertex:function(a,c,e){console.warn("THREE.Vertex has been removed. Use THREE.Vector3 instead.");return new b.Vector3(a,c,e)}});Object.assign(b.Box2.prototype,{empty:function(){console.warn("THREE.Box2: .empty() has been renamed to .isEmpty().");return this.isEmpty()},isIntersectionBox:function(a){console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().");
return this.intersectsBox(a)}});Object.assign(b.Box3.prototype,{empty:function(){console.warn("THREE.Box3: .empty() has been renamed to .isEmpty().");return this.isEmpty()},isIntersectionBox:function(a){console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().");return this.intersectsBox(a)},isIntersectionSphere:function(a){console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().");return this.intersectsSphere(a)}});Object.assign(b.Matrix3.prototype,
{multiplyVector3:function(a){console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.");return a.applyMatrix3(this)},multiplyVector3Array:function(a){console.warn("THREE.Matrix3: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead.");return this.applyToVector3Array(a)}});Object.assign(b.Matrix4.prototype,{extractPosition:function(a){console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().");
return this.copyPosition(a)},setRotationFromQuaternion:function(a){console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().");return this.makeRotationFromQuaternion(a)},multiplyVector3:function(a){console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) or vector.applyProjection( matrix ) instead.");return a.applyProjection(this)},multiplyVector4:function(a){console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.");
return a.applyMatrix4(this)},multiplyVector3Array:function(a){console.warn("THREE.Matrix4: .multiplyVector3Array() has been renamed. Use matrix.applyToVector3Array( array ) instead.");return this.applyToVector3Array(a)},rotateAxis:function(a){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.");a.transformDirection(this)},crossVector:function(a){console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.");
return a.applyMatrix4(this)},translate:function(a){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(a){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(a){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(a){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(a,b){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")}});Object.assign(b.Plane.prototype,{isIntersectionLine:function(a){console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().");
return this.intersectsLine(a)}});Object.assign(b.Quaternion.prototype,{multiplyVector3:function(a){console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.");return a.applyQuaternion(this)}});Object.assign(b.Ray.prototype,{isIntersectionBox:function(a){console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().");return this.intersectsBox(a)},isIntersectionPlane:function(a){console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().");
return this.intersectsPlane(a)},isIntersectionSphere:function(a){console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().");return this.intersectsSphere(a)}});Object.assign(b.Vector3.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},
getPositionFromMatrix:function(a){console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().");return this.setFromMatrixPosition(a)},getScaleFromMatrix:function(a){console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().");return this.setFromMatrixScale(a)},getColumnFromMatrix:function(a,b){console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().");return this.setFromMatrixColumn(b,
a)}});Object.assign(b.Object3D.prototype,{getChildByName:function(a){console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().");return this.getObjectByName(a)},renderDepth:function(a){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(a,b){console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.");return this.translateOnAxis(b,a)}});Object.defineProperties(b.Object3D.prototype,
{eulerOrder:{get:function(){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order.");return this.rotation.order},set:function(a){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order.");this.rotation.order=a}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(a){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}});
Object.defineProperties(b.LOD.prototype,{objects:{get:function(){console.warn("THREE.LOD: .objects has been renamed to .levels.");return this.levels}}});b.PerspectiveCamera.prototype.setLens=function(a,b){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup.");void 0!==b&&(this.filmGauge=b);this.setFocalLength(a)};Object.defineProperties(b.Light.prototype,{onlyShadow:{set:function(a){console.warn("THREE.Light: .onlyShadow has been removed.")}},
shadowCameraFov:{set:function(a){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov.");this.shadow.camera.fov=a}},shadowCameraLeft:{set:function(a){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left.");this.shadow.camera.left=a}},shadowCameraRight:{set:function(a){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right.");this.shadow.camera.right=a}},shadowCameraTop:{set:function(a){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top.");
this.shadow.camera.top=a}},shadowCameraBottom:{set:function(a){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.");this.shadow.camera.bottom=a}},shadowCameraNear:{set:function(a){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near.");this.shadow.camera.near=a}},shadowCameraFar:{set:function(a){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far.");this.shadow.camera.far=a}},shadowCameraVisible:{set:function(a){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},
shadowBias:{set:function(a){console.warn("THREE.Light: .shadowBias is now .shadow.bias.");this.shadow.bias=a}},shadowDarkness:{set:function(a){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(a){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.");this.shadow.mapSize.width=a}},shadowMapHeight:{set:function(a){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.");this.shadow.mapSize.height=a}}});Object.defineProperties(b.BufferAttribute.prototype,
{length:{get:function(){console.warn("THREE.BufferAttribute: .length has been deprecated. Please use .count.");return this.array.length}}});Object.assign(b.BufferGeometry.prototype,{addIndex:function(a){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().");this.setIndex(a)},addDrawCall:function(a,b,e){void 0!==e&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.");console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup().");
this.addGroup(a,b)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().");this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}});Object.defineProperties(b.BufferGeometry.prototype,{drawcalls:{get:function(){console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups.");
return this.groups}},offsets:{get:function(){console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups.");return this.groups}}});Object.defineProperties(b.Material.prototype,{wrapAround:{get:function(){console.warn("THREE."+this.type+": .wrapAround has been removed.")},set:function(a){console.warn("THREE."+this.type+": .wrapAround has been removed.")}},wrapRGB:{get:function(){console.warn("THREE."+this.type+": .wrapRGB has been removed.");return new b.Color}}});Object.defineProperties(b.MeshPhongMaterial.prototype,
{metal:{get:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead.");return!1},set:function(a){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}});Object.defineProperties(b.ShaderMaterial.prototype,{derivatives:{get:function(){console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.");return this.extensions.derivatives},set:function(a){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.");
this.extensions.derivatives=a}}});b.EventDispatcher.prototype=Object.assign(Object.create({constructor:b.EventDispatcher,apply:function(a){console.warn("THREE.EventDispatcher: .apply is deprecated, just inherit or Object.assign the prototype to mix-in.");Object.assign(a,this)}}),b.EventDispatcher.prototype);Object.assign(b.WebGLRenderer.prototype,{supportsFloatTextures:function(){console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' ).");return this.extensions.get("OES_texture_float")},
supportsHalfFloatTextures:function(){console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' ).");return this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' ).");return this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' ).");
return this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' ).");return this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' ).");return this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return this.capabilities.vertexTextures},
supportsInstancedArrays:function(){console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' ).");return this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(a){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().");this.setScissorTest(a)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},
addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")}});Object.defineProperties(b.WebGLRenderer.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(a){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.");this.shadowMap.enabled=a}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(a){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.");
this.shadowMap.type=a}},shadowMapCullFace:{get:function(){return this.shadowMap.cullFace},set:function(a){console.warn("THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace.");this.shadowMap.cullFace=a}}});Object.defineProperties(b.WebGLShadowMap.prototype,{cullFace:{get:function(){return this.renderReverseSided?b.CullFaceFront:b.CullFaceBack},set:function(a){a=a!==b.CullFaceBack;console.warn("WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to "+a+
".");this.renderReverseSided=a}}});Object.defineProperties(b.WebGLRenderTarget.prototype,{wrapS:{get:function(){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.");return this.texture.wrapS},set:function(a){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.");this.texture.wrapS=a}},wrapT:{get:function(){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.");return this.texture.wrapT},set:function(a){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.");
this.texture.wrapT=a}},magFilter:{get:function(){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.");return this.texture.magFilter},set:function(a){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.");this.texture.magFilter=a}},minFilter:{get:function(){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.");return this.texture.minFilter},set:function(a){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.");
this.texture.minFilter=a}},anisotropy:{get:function(){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.");return this.texture.anisotropy},set:function(a){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.");this.texture.anisotropy=a}},offset:{get:function(){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset.");return this.texture.offset},set:function(a){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset.");
this.texture.offset=a}},repeat:{get:function(){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat.");return this.texture.repeat},set:function(a){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat.");this.texture.repeat=a}},format:{get:function(){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format.");return this.texture.format},set:function(a){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format.");this.texture.format=a}},type:{get:function(){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type.");
return this.texture.type},set:function(a){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type.");this.texture.type=a}},generateMipmaps:{get:function(){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.");return this.texture.generateMipmaps},set:function(a){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.");this.texture.generateMipmaps=a}}});Object.assign(b.Audio.prototype,{load:function(a){console.warn("THREE.Audio: .load has been deprecated. Please use THREE.AudioLoader.");
var c=this;(new b.AudioLoader).load(a,function(a){c.setBuffer(a)});return this}});Object.assign(b.AudioAnalyser.prototype,{getData:function(a){console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData().");return this.getFrequencyData()}});b.GeometryUtils={merge:function(a,c,e){console.warn("THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.");var d;c instanceof b.Mesh&&(c.matrixAutoUpdate&&c.updateMatrix(),
d=c.matrix,c=c.geometry);a.merge(c,d,e)},center:function(a){console.warn("THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead.");return a.center()}};b.ImageUtils={crossOrigin:void 0,loadTexture:function(a,c,e,d){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");var g=new b.TextureLoader;g.setCrossOrigin(this.crossOrigin);a=g.load(a,e,void 0,d);c&&(a.mapping=c);return a},loadTextureCube:function(a,c,e,d){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");
var g=new b.CubeTextureLoader;g.setCrossOrigin(this.crossOrigin);a=g.load(a,e,void 0,d);c&&(a.mapping=c);return a},loadCompressedTexture:function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},loadCompressedTextureCube:function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")}};b.Projector=function(){console.error("THREE.Projector has been moved to /examples/js/renderers/Projector.js.");
this.projectVector=function(a,b){console.warn("THREE.Projector: .projectVector() is now vector.project().");a.project(b)};this.unprojectVector=function(a,b){console.warn("THREE.Projector: .unprojectVector() is now vector.unproject().");a.unproject(b)};this.pickingRay=function(a,b){console.error("THREE.Projector: .pickingRay() is now raycaster.setFromCamera().")}};b.CanvasRenderer=function(){console.error("THREE.CanvasRenderer has been moved to /examples/js/renderers/CanvasRenderer.js");this.domElement=
document.createElement("canvas");this.clear=function(){};this.render=function(){};this.setClearColor=function(){};this.setSize=function(){}};b.CurveUtils={tangentQuadraticBezier:function(a,b,e,d){return 2*(1-a)*(e-b)+2*a*(d-e)},tangentCubicBezier:function(a,b,e,d,g){return-3*b*(1-a)*(1-a)+3*e*(1-a)*(1-a)-6*a*e*(1-a)+6*a*d*(1-a)-3*a*a*d+3*a*a*g},tangentSpline:function(a,b,e,d,g){return 6*a*a-6*a+(3*a*a-4*a+1)+(-6*a*a+6*a)+(3*a*a-2*a)},interpolate:function(a,b,e,d,g){a=.5*(e-a);d=.5*(d-b);var f=g*g;
return(2*b-2*e+a+d)*g*f+(-3*b+3*e-2*a-d)*f+a*g+b}};b.SceneUtils={createMultiMaterialObject:function(a,c){for(var e=new b.Group,d=0,g=c.length;d<g;d++)e.add(new b.Mesh(a,c[d]));return e},detach:function(a,b,e){a.applyMatrix(b.matrixWorld);b.remove(a);e.add(a)},attach:function(a,c,e){var d=new b.Matrix4;d.getInverse(e.matrixWorld);a.applyMatrix(d);c.remove(a);e.add(a)}};b.ShapeUtils={area:function(a){for(var b=a.length,e=0,d=b-1,g=0;g<b;d=g++)e+=a[d].x*a[g].y-a[g].x*a[d].y;return.5*e},triangulate:function(){return function(a,
c){var e=a.length;if(3>e)return null;var d=[],g=[],f=[],l,m,k;if(0<b.ShapeUtils.area(a))for(m=0;m<e;m++)g[m]=m;else for(m=0;m<e;m++)g[m]=e-1-m;var t=2*e;for(m=e-1;2<e;){if(0>=t--){console.warn("THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()");break}l=m;e<=l&&(l=0);m=l+1;e<=m&&(m=0);k=m+1;e<=k&&(k=0);var p;a:{var n=p=void 0,q=void 0,v=void 0,x=void 0,z=void 0,B=void 0,A=void 0,C=void 0,n=a[g[l]].x,q=a[g[l]].y,v=a[g[m]].x,x=a[g[m]].y,z=a[g[k]].x,B=a[g[k]].y;if(Number.EPSILON>(v-n)*
(B-q)-(x-q)*(z-n))p=!1;else{var G=void 0,D=void 0,H=void 0,E=void 0,F=void 0,I=void 0,O=void 0,J=void 0,K=void 0,T=void 0,K=J=O=C=A=void 0,G=z-v,D=B-x,H=n-z,E=q-B,F=v-n,I=x-q;for(p=0;p<e;p++)if(A=a[g[p]].x,C=a[g[p]].y,!(A===n&&C===q||A===v&&C===x||A===z&&C===B)&&(O=A-n,J=C-q,K=A-v,T=C-x,A-=z,C-=B,K=G*T-D*K,O=F*J-I*O,J=H*C-E*A,K>=-Number.EPSILON&&J>=-Number.EPSILON&&O>=-Number.EPSILON)){p=!1;break a}p=!0}}if(p){d.push([a[g[l]],a[g[m]],a[g[k]]]);f.push([g[l],g[m],g[k]]);l=m;for(k=m+1;k<e;l++,k++)g[l]=
g[k];e--;t=2*e}}return c?f:d}}(),triangulateShape:function(a,c){function e(a,b,c){return a.x!==b.x?a.x<b.x?a.x<=c.x&&c.x<=b.x:b.x<=c.x&&c.x<=a.x:a.y<b.y?a.y<=c.y&&c.y<=b.y:b.y<=c.y&&c.y<=a.y}function d(a,b,c,d,f){var g=b.x-a.x,h=b.y-a.y,l=d.x-c.x,m=d.y-c.y,k=a.x-c.x,r=a.y-c.y,t=h*l-g*m,p=h*k-g*r;if(Math.abs(t)>Number.EPSILON){if(0<t){if(0>p||p>t)return[];l=m*k-l*r;if(0>l||l>t)return[]}else{if(0<p||p<t)return[];l=m*k-l*r;if(0<l||l<t)return[]}if(0===l)return!f||0!==p&&p!==t?[a]:[];if(l===t)return!f||
0!==p&&p!==t?[b]:[];if(0===p)return[c];if(p===t)return[d];f=l/t;return[{x:a.x+f*g,y:a.y+f*h}]}if(0!==p||m*k!==l*r)return[];h=0===g&&0===h;l=0===l&&0===m;if(h&&l)return a.x!==c.x||a.y!==c.y?[]:[a];if(h)return e(c,d,a)?[a]:[];if(l)return e(a,b,c)?[c]:[];0!==g?(a.x<b.x?(g=a,l=a.x,h=b,a=b.x):(g=b,l=b.x,h=a,a=a.x),c.x<d.x?(b=c,t=c.x,m=d,c=d.x):(b=d,t=d.x,m=c,c=c.x)):(a.y<b.y?(g=a,l=a.y,h=b,a=b.y):(g=b,l=b.y,h=a,a=a.y),c.y<d.y?(b=c,t=c.y,m=d,c=d.y):(b=d,t=d.y,m=c,c=c.y));return l<=t?a<t?[]:a===t?f?[]:[b]:
a<=c?[b,h]:[b,m]:l>c?[]:l===c?f?[]:[g]:a<=c?[g,h]:[g,m]}function f(a,b,c,d){var e=b.x-a.x,g=b.y-a.y;b=c.x-a.x;c=c.y-a.y;var h=d.x-a.x;d=d.y-a.y;a=e*c-g*b;e=e*d-g*h;return Math.abs(a)>Number.EPSILON?(b=h*c-d*b,0<a?0<=e&&0<=b:0<=e||0<=b):0<e}var h,l,m,k,t,p={};m=a.concat();h=0;for(l=c.length;h<l;h++)Array.prototype.push.apply(m,c[h]);h=0;for(l=m.length;h<l;h++)t=m[h].x+":"+m[h].y,void 0!==p[t]&&console.warn("THREE.Shape: Duplicate point",t),p[t]=h;h=function(a,b){function c(a,b){var d=l.length-1,e=
a-1;0>e&&(e=d);var h=a+1;h>d&&(h=0);d=f(l[a],l[e],l[h],m[b]);if(!d)return!1;d=m.length-1;e=b-1;0>e&&(e=d);h=b+1;h>d&&(h=0);return(d=f(m[b],m[e],m[h],l[a]))?!0:!1}function e(a,b){var c,f;for(c=0;c<l.length;c++)if(f=c+1,f%=l.length,f=d(a,b,l[c],l[f],!0),0<f.length)return!0;return!1}function h(a,c){var e,f,g,l;for(e=0;e<k.length;e++)for(f=b[k[e]],g=0;g<f.length;g++)if(l=g+1,l%=f.length,l=d(a,c,f[g],f[l],!0),0<l.length)return!0;return!1}var l=a.concat(),m,k=[],r,t,p,n,u,w=[],J,K,T,U=0;for(r=b.length;U<
r;U++)k.push(U);J=0;for(var S=2*k.length;0<k.length;){S--;if(0>S){console.log("Infinite Loop! Holes left:"+k.length+", Probably Hole outside Shape!");break}for(t=J;t<l.length;t++){p=l[t];r=-1;for(U=0;U<k.length;U++)if(n=k[U],u=p.x+":"+p.y+":"+n,void 0===w[u]){m=b[n];for(K=0;K<m.length;K++)if(n=m[K],c(t,K)&&!e(p,n)&&!h(p,n)){r=K;k.splice(U,1);J=l.slice(0,t+1);n=l.slice(t);K=m.slice(r);T=m.slice(0,r+1);l=J.concat(K).concat(T).concat(n);J=t;break}if(0<=r)break;w[u]=!0}if(0<=r)break}}return l}(a,c);var n=
b.ShapeUtils.triangulate(h,!1);h=0;for(l=n.length;h<l;h++)for(k=n[h],m=0;3>m;m++)t=k[m].x+":"+k[m].y,t=p[t],void 0!==t&&(k[m]=t);return n.concat()},isClockWise:function(a){return 0>b.ShapeUtils.area(a)},b2:function(){return function(a,b,e,d){var f=1-a;return f*f*b+2*(1-a)*a*e+a*a*d}}(),b3:function(){return function(a,b,e,d,f){var h=1-a,l=1-a;return h*h*h*b+3*l*l*a*e+3*(1-a)*a*a*d+a*a*a*f}}()};b.Curve=function(){};b.Curve.prototype={constructor:b.Curve,getPoint:function(a){console.warn("THREE.Curve: Warning, getPoint() not implemented!");
return null},getPointAt:function(a){a=this.getUtoTmapping(a);return this.getPoint(a)},getPoints:function(a){a||(a=5);var b,e=[];for(b=0;b<=a;b++)e.push(this.getPoint(b/a));return e},getSpacedPoints:function(a){a||(a=5);var b,e=[];for(b=0;b<=a;b++)e.push(this.getPointAt(b/a));return e},getLength:function(){var a=this.getLengths();return a[a.length-1]},getLengths:function(a){a||(a=this.__arcLengthDivisions?this.__arcLengthDivisions:200);if(this.cacheArcLengths&&this.cacheArcLengths.length===a+1&&!this.needsUpdate)return this.cacheArcLengths;
this.needsUpdate=!1;var b=[],e,d=this.getPoint(0),f,h=0;b.push(0);for(f=1;f<=a;f++)e=this.getPoint(f/a),h+=e.distanceTo(d),b.push(h),d=e;return this.cacheArcLengths=b},updateArcLengths:function(){this.needsUpdate=!0;this.getLengths()},getUtoTmapping:function(a,b){var e=this.getLengths(),d=0,f=e.length,h;h=b?b:a*e[f-1];for(var l=0,m=f-1,k;l<=m;)if(d=Math.floor(l+(m-l)/2),k=e[d]-h,0>k)l=d+1;else if(0<k)m=d-1;else{m=d;break}d=m;if(e[d]===h)return d/(f-1);l=e[d];return e=(d+(h-l)/(e[d+1]-l))/(f-1)},getTangent:function(a){var b=
a-1E-4;a+=1E-4;0>b&&(b=0);1<a&&(a=1);b=this.getPoint(b);return this.getPoint(a).clone().sub(b).normalize()},getTangentAt:function(a){a=this.getUtoTmapping(a);return this.getTangent(a)}};b.Curve.create=function(a,c){a.prototype=Object.create(b.Curve.prototype);a.prototype.constructor=a;a.prototype.getPoint=c;return a};b.CurvePath=function(){this.curves=[];this.autoClose=!1};b.CurvePath.prototype=Object.assign(Object.create(b.Curve.prototype),{constructor:b.CurvePath,add:function(a){this.curves.push(a)},
closePath:function(){var a=this.curves[0].getPoint(0),c=this.curves[this.curves.length-1].getPoint(1);a.equals(c)||this.curves.push(new b.LineCurve(c,a))},getPoint:function(a){for(var b=a*this.getLength(),e=this.getCurveLengths(),d=0;d<e.length;){if(e[d]>=b)return a=this.curves[d],b=1-(e[d]-b)/a.getLength(),a.getPointAt(b);d++}return null},getLength:function(){var a=this.getCurveLengths();return a[a.length-1]},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;
for(var a=[],b=0,e=0,d=this.curves.length;e<d;e++)b+=this.curves[e].getLength(),a.push(b);return this.cacheLengths=a},createPointsGeometry:function(a){a=this.getPoints(a);return this.createGeometry(a)},createSpacedPointsGeometry:function(a){a=this.getSpacedPoints(a);return this.createGeometry(a)},createGeometry:function(a){for(var c=new b.Geometry,e=0,d=a.length;e<d;e++){var f=a[e];c.vertices.push(new b.Vector3(f.x,f.y,f.z||0))}return c}});b.Font=function(a){this.data=a};Object.assign(b.Font.prototype,
{generateShapes:function(a,c,e){void 0===c&&(c=100);void 0===e&&(e=4);var d=this.data;a=String(a).split("");var f=c/d.resolution,h=0;c=[];for(var l=0;l<a.length;l++){var m;m=f;var k=h,t=d.glyphs[a[l]]||d.glyphs["?"];if(t){var p=new b.Path,n=[],q=b.ShapeUtils.b2,v=b.ShapeUtils.b3,x=void 0,z=void 0,B=z=x=void 0,A=void 0,C=void 0,G=void 0,D=void 0,H=void 0,A=void 0;if(t.o)for(var E=t._cachedOutline||(t._cachedOutline=t.o.split(" ")),F=0,I=E.length;F<I;)switch(E[F++]){case "m":x=E[F++]*m+k;z=E[F++]*m;
p.moveTo(x,z);break;case "l":x=E[F++]*m+k;z=E[F++]*m;p.lineTo(x,z);break;case "q":x=E[F++]*m+k;z=E[F++]*m;C=E[F++]*m+k;G=E[F++]*m;p.quadraticCurveTo(C,G,x,z);if(A=n[n.length-1])for(var B=A.x,A=A.y,O=1;O<=e;O++){var J=O/e;q(J,B,C,x);q(J,A,G,z)}break;case "b":if(x=E[F++]*m+k,z=E[F++]*m,C=E[F++]*m+k,G=E[F++]*m,D=E[F++]*m+k,H=E[F++]*m,p.bezierCurveTo(C,G,D,H,x,z),A=n[n.length-1])for(B=A.x,A=A.y,O=1;O<=e;O++)J=O/e,v(J,B,C,D,x),v(J,A,G,H,z)}m={offset:t.ha*m,path:p}}else m=void 0;h+=m.offset;c.push(m.path)}e=
[];d=0;for(a=c.length;d<a;d++)Array.prototype.push.apply(e,c[d].toShapes());return e}});b.Path=function(a){b.CurvePath.call(this);this.actions=[];a&&this.fromPoints(a)};b.Path.prototype=Object.assign(Object.create(b.CurvePath.prototype),{constructor:b.Path,fromPoints:function(a){this.moveTo(a[0].x,a[0].y);for(var b=1,e=a.length;b<e;b++)this.lineTo(a[b].x,a[b].y)},moveTo:function(a,b){this.actions.push({action:"moveTo",args:[a,b]})},lineTo:function(a,c){var e=this.actions[this.actions.length-1].args,
e=new b.LineCurve(new b.Vector2(e[e.length-2],e[e.length-1]),new b.Vector2(a,c));this.curves.push(e);this.actions.push({action:"lineTo",args:[a,c]})},quadraticCurveTo:function(a,c,e,d){var f=this.actions[this.actions.length-1].args,f=new b.QuadraticBezierCurve(new b.Vector2(f[f.length-2],f[f.length-1]),new b.Vector2(a,c),new b.Vector2(e,d));this.curves.push(f);this.actions.push({action:"quadraticCurveTo",args:[a,c,e,d]})},bezierCurveTo:function(a,c,e,d,f,h){var l=this.actions[this.actions.length-
1].args,l=new b.CubicBezierCurve(new b.Vector2(l[l.length-2],l[l.length-1]),new b.Vector2(a,c),new b.Vector2(e,d),new b.Vector2(f,h));this.curves.push(l);this.actions.push({action:"bezierCurveTo",args:[a,c,e,d,f,h]})},splineThru:function(a){var c=Array.prototype.slice.call(arguments),e=this.actions[this.actions.length-1].args,e=[new b.Vector2(e[e.length-2],e[e.length-1])];Array.prototype.push.apply(e,a);e=new b.SplineCurve(e);this.curves.push(e);this.actions.push({action:"splineThru",args:c})},arc:function(a,
b,e,d,f,h){var l=this.actions[this.actions.length-1].args;this.absarc(a+l[l.length-2],b+l[l.length-1],e,d,f,h)},absarc:function(a,b,e,d,f,h){this.absellipse(a,b,e,e,d,f,h)},ellipse:function(a,b,e,d,f,h,l,m){var k=this.actions[this.actions.length-1].args;this.absellipse(a+k[k.length-2],b+k[k.length-1],e,d,f,h,l,m)},absellipse:function(a,c,e,d,f,h,l,m){var k=[a,c,e,d,f,h,l,m||0];a=new b.EllipseCurve(a,c,e,d,f,h,l,m);this.curves.push(a);a=a.getPoint(1);k.push(a.x);k.push(a.y);this.actions.push({action:"ellipse",
args:k})},getSpacedPoints:function(a){a||(a=40);for(var b=[],e=0;e<a;e++)b.push(this.getPoint(e/a));this.autoClose&&b.push(b[0]);return b},getPoints:function(a){a=a||12;for(var c=b.ShapeUtils.b2,e=b.ShapeUtils.b3,d=[],f,h,l,m,k,t,p,n,q,v,x=0,z=this.actions.length;x<z;x++){q=this.actions[x];var B=q.args;switch(q.action){case "moveTo":d.push(new b.Vector2(B[0],B[1]));break;case "lineTo":d.push(new b.Vector2(B[0],B[1]));break;case "quadraticCurveTo":f=B[2];h=B[3];k=B[0];t=B[1];0<d.length?(q=d[d.length-
1],p=q.x,n=q.y):(q=this.actions[x-1].args,p=q[q.length-2],n=q[q.length-1]);for(B=1;B<=a;B++)v=B/a,q=c(v,p,k,f),v=c(v,n,t,h),d.push(new b.Vector2(q,v));break;case "bezierCurveTo":f=B[4];h=B[5];k=B[0];t=B[1];l=B[2];m=B[3];0<d.length?(q=d[d.length-1],p=q.x,n=q.y):(q=this.actions[x-1].args,p=q[q.length-2],n=q[q.length-1]);for(B=1;B<=a;B++)v=B/a,q=e(v,p,k,l,f),v=e(v,n,t,m,h),d.push(new b.Vector2(q,v));break;case "splineThru":q=this.actions[x-1].args;v=[new b.Vector2(q[q.length-2],q[q.length-1])];q=a*B[0].length;
v=v.concat(B[0]);v=new b.SplineCurve(v);for(B=1;B<=q;B++)d.push(v.getPointAt(B/q));break;case "arc":f=B[0];h=B[1];t=B[2];l=B[3];q=B[4];k=!!B[5];p=q-l;n=2*a;for(B=1;B<=n;B++)v=B/n,k||(v=1-v),v=l+v*p,q=f+t*Math.cos(v),v=h+t*Math.sin(v),d.push(new b.Vector2(q,v));break;case "ellipse":f=B[0];h=B[1];t=B[2];m=B[3];l=B[4];q=B[5];k=!!B[6];var A=B[7];p=q-l;n=2*a;var C,G;0!==A&&(C=Math.cos(A),G=Math.sin(A));for(B=1;B<=n;B++){v=B/n;k||(v=1-v);v=l+v*p;q=f+t*Math.cos(v);v=h+m*Math.sin(v);if(0!==A){var D=q;q=(D-
f)*C-(v-h)*G+f;v=(D-f)*G+(v-h)*C+h}d.push(new b.Vector2(q,v))}}}a=d[d.length-1];Math.abs(a.x-d[0].x)<Number.EPSILON&&Math.abs(a.y-d[0].y)<Number.EPSILON&&d.splice(d.length-1,1);this.autoClose&&d.push(d[0]);return d},toShapes:function(a,c){function e(a){for(var c=[],d=0,e=a.length;d<e;d++){var f=a[d],g=new b.Shape;g.actions=f.actions;g.curves=f.curves;c.push(g)}return c}function d(a,b){for(var c=b.length,d=!1,e=c-1,f=0;f<c;e=f++){var g=b[e],h=b[f],l=h.x-g.x,m=h.y-g.y;if(Math.abs(m)>Number.EPSILON){if(0>
m&&(g=b[f],l=-l,h=b[e],m=-m),!(a.y<g.y||a.y>h.y))if(a.y===g.y){if(a.x===g.x)return!0}else{e=m*(a.x-g.x)-l*(a.y-g.y);if(0===e)return!0;0>e||(d=!d)}}else if(a.y===g.y&&(h.x<=a.x&&a.x<=g.x||g.x<=a.x&&a.x<=h.x))return!0}return d}var f=b.ShapeUtils.isClockWise,h=function(a){for(var c=[],d=new b.Path,e=0,f=a.length;e<f;e++){var g=a[e],h=g.args,g=g.action;"moveTo"===g&&0!==d.actions.length&&(c.push(d),d=new b.Path);d[g].apply(d,h)}0!==d.actions.length&&c.push(d);return c}(this.actions);if(0===h.length)return[];
if(!0===c)return e(h);var l,m,k,p=[];if(1===h.length)return m=h[0],k=new b.Shape,k.actions=m.actions,k.curves=m.curves,p.push(k),p;var n=!f(h[0].getPoints()),n=a?!n:n;k=[];var u=[],q=[],v=0,x;u[v]=void 0;q[v]=[];for(var z=0,B=h.length;z<B;z++)m=h[z],x=m.getPoints(),l=f(x),(l=a?!l:l)?(!n&&u[v]&&v++,u[v]={s:new b.Shape,p:x},u[v].s.actions=m.actions,u[v].s.curves=m.curves,n&&v++,q[v]=[]):q[v].push({h:m,p:x[0]});if(!u[0])return e(h);if(1<u.length){z=!1;m=[];f=0;for(h=u.length;f<h;f++)k[f]=[];f=0;for(h=
u.length;f<h;f++)for(l=q[f],n=0;n<l.length;n++){v=l[n];x=!0;for(B=0;B<u.length;B++)d(v.p,u[B].p)&&(f!==B&&m.push({froms:f,tos:B,hole:n}),x?(x=!1,k[B].push(v)):z=!0);x&&k[f].push(v)}0<m.length&&(z||(q=k))}z=0;for(f=u.length;z<f;z++)for(k=u[z].s,p.push(k),m=q[z],h=0,l=m.length;h<l;h++)k.holes.push(m[h].h);return p}});b.Shape=function(){b.Path.apply(this,arguments);this.holes=[]};b.Shape.prototype=Object.assign(Object.create(b.Path.prototype),{constructor:b.Shape,extrude:function(a){return new b.ExtrudeGeometry(this,
a)},makeGeometry:function(a){return new b.ShapeGeometry(this,a)},getPointsHoles:function(a){for(var b=[],e=0,d=this.holes.length;e<d;e++)b[e]=this.holes[e].getPoints(a);return b},extractAllPoints:function(a){return{shape:this.getPoints(a),holes:this.getPointsHoles(a)}},extractPoints:function(a){return this.extractAllPoints(a)}});b.LineCurve=function(a,b){this.v1=a;this.v2=b};b.LineCurve.prototype=Object.create(b.Curve.prototype);b.LineCurve.prototype.constructor=b.LineCurve;b.LineCurve.prototype.getPoint=
function(a){var b=this.v2.clone().sub(this.v1);b.multiplyScalar(a).add(this.v1);return b};b.LineCurve.prototype.getPointAt=function(a){return this.getPoint(a)};b.LineCurve.prototype.getTangent=function(a){return this.v2.clone().sub(this.v1).normalize()};b.QuadraticBezierCurve=function(a,b,e){this.v0=a;this.v1=b;this.v2=e};b.QuadraticBezierCurve.prototype=Object.create(b.Curve.prototype);b.QuadraticBezierCurve.prototype.constructor=b.QuadraticBezierCurve;b.QuadraticBezierCurve.prototype.getPoint=function(a){var c=
b.ShapeUtils.b2;return new b.Vector2(c(a,this.v0.x,this.v1.x,this.v2.x),c(a,this.v0.y,this.v1.y,this.v2.y))};b.QuadraticBezierCurve.prototype.getTangent=function(a){var c=b.CurveUtils.tangentQuadraticBezier;return(new b.Vector2(c(a,this.v0.x,this.v1.x,this.v2.x),c(a,this.v0.y,this.v1.y,this.v2.y))).normalize()};b.CubicBezierCurve=function(a,b,e,d){this.v0=a;this.v1=b;this.v2=e;this.v3=d};b.CubicBezierCurve.prototype=Object.create(b.Curve.prototype);b.CubicBezierCurve.prototype.constructor=b.CubicBezierCurve;
b.CubicBezierCurve.prototype.getPoint=function(a){var c=b.ShapeUtils.b3;return new b.Vector2(c(a,this.v0.x,this.v1.x,this.v2.x,this.v3.x),c(a,this.v0.y,this.v1.y,this.v2.y,this.v3.y))};b.CubicBezierCurve.prototype.getTangent=function(a){var c=b.CurveUtils.tangentCubicBezier;return(new b.Vector2(c(a,this.v0.x,this.v1.x,this.v2.x,this.v3.x),c(a,this.v0.y,this.v1.y,this.v2.y,this.v3.y))).normalize()};b.SplineCurve=function(a){this.points=void 0==a?[]:a};b.SplineCurve.prototype=Object.create(b.Curve.prototype);
b.SplineCurve.prototype.constructor=b.SplineCurve;b.SplineCurve.prototype.getPoint=function(a){var c=this.points;a*=c.length-1;var e=Math.floor(a);a-=e;var d=c[0===e?e:e-1],f=c[e],h=c[e>c.length-2?c.length-1:e+1],c=c[e>c.length-3?c.length-1:e+2],e=b.CurveUtils.interpolate;return new b.Vector2(e(d.x,f.x,h.x,c.x,a),e(d.y,f.y,h.y,c.y,a))};b.EllipseCurve=function(a,b,e,d,f,h,l,m){this.aX=a;this.aY=b;this.xRadius=e;this.yRadius=d;this.aStartAngle=f;this.aEndAngle=h;this.aClockwise=l;this.aRotation=m||
0};b.EllipseCurve.prototype=Object.create(b.Curve.prototype);b.EllipseCurve.prototype.constructor=b.EllipseCurve;b.EllipseCurve.prototype.getPoint=function(a){var c=this.aEndAngle-this.aStartAngle;0>c&&(c+=2*Math.PI);c>2*Math.PI&&(c-=2*Math.PI);c=!0===this.aClockwise?this.aEndAngle+(1-a)*(2*Math.PI-c):this.aStartAngle+a*c;a=this.aX+this.xRadius*Math.cos(c);var e=this.aY+this.yRadius*Math.sin(c);if(0!==this.aRotation){var c=Math.cos(this.aRotation),d=Math.sin(this.aRotation),f=a;a=(f-this.aX)*c-(e-
this.aY)*d+this.aX;e=(f-this.aX)*d+(e-this.aY)*c+this.aY}return new b.Vector2(a,e)};b.ArcCurve=function(a,c,e,d,f,h){b.EllipseCurve.call(this,a,c,e,e,d,f,h)};b.ArcCurve.prototype=Object.create(b.EllipseCurve.prototype);b.ArcCurve.prototype.constructor=b.ArcCurve;b.LineCurve3=b.Curve.create(function(a,b){this.v1=a;this.v2=b},function(a){var c=new b.Vector3;c.subVectors(this.v2,this.v1);c.multiplyScalar(a);c.add(this.v1);return c});b.QuadraticBezierCurve3=b.Curve.create(function(a,b,e){this.v0=a;this.v1=
b;this.v2=e},function(a){var c=b.ShapeUtils.b2;return new b.Vector3(c(a,this.v0.x,this.v1.x,this.v2.x),c(a,this.v0.y,this.v1.y,this.v2.y),c(a,this.v0.z,this.v1.z,this.v2.z))});b.CubicBezierCurve3=b.Curve.create(function(a,b,e,d){this.v0=a;this.v1=b;this.v2=e;this.v3=d},function(a){var c=b.ShapeUtils.b3;return new b.Vector3(c(a,this.v0.x,this.v1.x,this.v2.x,this.v3.x),c(a,this.v0.y,this.v1.y,this.v2.y,this.v3.y),c(a,this.v0.z,this.v1.z,this.v2.z,this.v3.z))});b.SplineCurve3=b.Curve.create(function(a){console.warn("THREE.SplineCurve3 will be deprecated. Please use THREE.CatmullRomCurve3");
this.points=void 0==a?[]:a},function(a){var c=this.points;a*=c.length-1;var e=Math.floor(a);a-=e;var d=c[0==e?e:e-1],f=c[e],h=c[e>c.length-2?c.length-1:e+1],c=c[e>c.length-3?c.length-1:e+2],e=b.CurveUtils.interpolate;return new b.Vector3(e(d.x,f.x,h.x,c.x,a),e(d.y,f.y,h.y,c.y,a),e(d.z,f.z,h.z,c.z,a))});b.CatmullRomCurve3=function(){function a(){}var c=new b.Vector3,e=new a,d=new a,f=new a;a.prototype.init=function(a,b,c,d){this.c0=a;this.c1=c;this.c2=-3*a+3*b-2*c-d;this.c3=2*a-2*b+c+d};a.prototype.initNonuniformCatmullRom=
function(a,b,c,d,e,f,g){a=((b-a)/e-(c-a)/(e+f)+(c-b)/f)*f;d=((c-b)/f-(d-b)/(f+g)+(d-c)/g)*f;this.init(b,c,a,d)};a.prototype.initCatmullRom=function(a,b,c,d,e){this.init(b,c,e*(c-a),e*(d-b))};a.prototype.calc=function(a){var b=a*a;return this.c0+this.c1*a+this.c2*b+this.c3*b*a};return b.Curve.create(function(a){this.points=a||[];this.closed=!1},function(a){var l=this.points,m,k;k=l.length;2>k&&console.log("duh, you need at least 2 points");a*=k-(this.closed?0:1);m=Math.floor(a);a-=m;this.closed?m+=
0<m?0:(Math.floor(Math.abs(m)/l.length)+1)*l.length:0===a&&m===k-1&&(m=k-2,a=1);var p,n,u;this.closed||0<m?p=l[(m-1)%k]:(c.subVectors(l[0],l[1]).add(l[0]),p=c);n=l[m%k];u=l[(m+1)%k];this.closed||m+2<k?l=l[(m+2)%k]:(c.subVectors(l[k-1],l[k-2]).add(l[k-1]),l=c);if(void 0===this.type||"centripetal"===this.type||"chordal"===this.type){var q="chordal"===this.type?.5:.25;k=Math.pow(p.distanceToSquared(n),q);m=Math.pow(n.distanceToSquared(u),q);q=Math.pow(u.distanceToSquared(l),q);1E-4>m&&(m=1);1E-4>k&&
(k=m);1E-4>q&&(q=m);e.initNonuniformCatmullRom(p.x,n.x,u.x,l.x,k,m,q);d.initNonuniformCatmullRom(p.y,n.y,u.y,l.y,k,m,q);f.initNonuniformCatmullRom(p.z,n.z,u.z,l.z,k,m,q)}else"catmullrom"===this.type&&(k=void 0!==this.tension?this.tension:.5,e.initCatmullRom(p.x,n.x,u.x,l.x,k),d.initCatmullRom(p.y,n.y,u.y,l.y,k),f.initCatmullRom(p.z,n.z,u.z,l.z,k));return new b.Vector3(e.calc(a),d.calc(a),f.calc(a))})}();b.ClosedSplineCurve3=function(a){console.warn("THREE.ClosedSplineCurve3 has been deprecated. Please use THREE.CatmullRomCurve3.");
b.CatmullRomCurve3.call(this,a);this.type="catmullrom";this.closed=!0};b.ClosedSplineCurve3.prototype=Object.create(b.CatmullRomCurve3.prototype);b.BoxGeometry=function(a,c,e,d,f,h){b.Geometry.call(this);this.type="BoxGeometry";this.parameters={width:a,height:c,depth:e,widthSegments:d,heightSegments:f,depthSegments:h};this.fromBufferGeometry(new b.BoxBufferGeometry(a,c,e,d,f,h));this.mergeVertices()};b.BoxGeometry.prototype=Object.create(b.Geometry.prototype);b.BoxGeometry.prototype.constructor=b.BoxGeometry;
b.CubeGeometry=b.BoxGeometry;b.BoxBufferGeometry=function(a,c,e,d,f,h){function l(a,c,d,e,f,g,h,l,k,p,t){var r=g/k,L=h/p,P=g/2,Q=h/2,M=l/2;h=k+1;for(var V=p+1,X=g=0,W=new b.Vector3,N=0;N<V;N++)for(var ga=N*L-Q,Z=0;Z<h;Z++)W[a]=(Z*r-P)*e,W[c]=ga*f,W[d]=M,u[x]=W.x,u[x+1]=W.y,u[x+2]=W.z,W[a]=0,W[c]=0,W[d]=0<l?1:-1,q[x]=W.x,q[x+1]=W.y,q[x+2]=W.z,v[z]=Z/k,v[z+1]=1-N/p,x+=3,z+=2,g+=1;for(N=0;N<p;N++)for(Z=0;Z<k;Z++)a=A+Z+h*(N+1),c=A+(Z+1)+h*(N+1),d=A+(Z+1)+h*N,n[B]=A+Z+h*N,n[B+1]=a,n[B+2]=d,n[B+3]=a,n[B+
4]=c,n[B+5]=d,B+=6,X+=6;m.addGroup(C,X,t);C+=X;A+=g}b.BufferGeometry.call(this);this.type="BoxBufferGeometry";this.parameters={width:a,height:c,depth:e,widthSegments:d,heightSegments:f,depthSegments:h};var m=this;d=Math.floor(d)||1;f=Math.floor(f)||1;h=Math.floor(h)||1;var k=function(a,b,c){a=0+(a+1)*(b+1)*2+(a+1)*(c+1)*2;return a+=(c+1)*(b+1)*2}(d,f,h),p=function(a,b,c){a=0+a*b*2+a*c*2;a+=c*b*2;return 6*a}(d,f,h),n=new (65535<p?Uint32Array:Uint16Array)(p),u=new Float32Array(3*k),q=new Float32Array(3*
k),v=new Float32Array(2*k),x=0,z=0,B=0,A=0,C=0;l("z","y","x",-1,-1,e,c,a,h,f,0);l("z","y","x",1,-1,e,c,-a,h,f,1);l("x","z","y",1,1,a,e,c,d,h,2);l("x","z","y",1,-1,a,e,-c,d,h,3);l("x","y","z",1,-1,a,c,e,d,f,4);l("x","y","z",-1,-1,a,c,-e,d,f,5);this.setIndex(new b.BufferAttribute(n,1));this.addAttribute("position",new b.BufferAttribute(u,3));this.addAttribute("normal",new b.BufferAttribute(q,3));this.addAttribute("uv",new b.BufferAttribute(v,2))};b.BoxBufferGeometry.prototype=Object.create(b.BufferGeometry.prototype);
b.BoxBufferGeometry.prototype.constructor=b.BoxBufferGeometry;b.CircleGeometry=function(a,c,e,d){b.Geometry.call(this);this.type="CircleGeometry";this.parameters={radius:a,segments:c,thetaStart:e,thetaLength:d};this.fromBufferGeometry(new b.CircleBufferGeometry(a,c,e,d))};b.CircleGeometry.prototype=Object.create(b.Geometry.prototype);b.CircleGeometry.prototype.constructor=b.CircleGeometry;b.CircleBufferGeometry=function(a,c,e,d){b.BufferGeometry.call(this);this.type="CircleBufferGeometry";this.parameters=
{radius:a,segments:c,thetaStart:e,thetaLength:d};a=a||50;c=void 0!==c?Math.max(3,c):8;e=void 0!==e?e:0;d=void 0!==d?d:2*Math.PI;var f=c+2,h=new Float32Array(3*f),l=new Float32Array(3*f),f=new Float32Array(2*f);l[2]=1;f[0]=.5;f[1]=.5;for(var m=0,k=3,p=2;m<=c;m++,k+=3,p+=2){var n=e+m/c*d;h[k]=a*Math.cos(n);h[k+1]=a*Math.sin(n);l[k+2]=1;f[p]=(h[k]/a+1)/2;f[p+1]=(h[k+1]/a+1)/2}e=[];for(k=1;k<=c;k++)e.push(k,k+1,0);this.setIndex(new b.BufferAttribute(new Uint16Array(e),1));this.addAttribute("position",
new b.BufferAttribute(h,3));this.addAttribute("normal",new b.BufferAttribute(l,3));this.addAttribute("uv",new b.BufferAttribute(f,2));this.boundingSphere=new b.Sphere(new b.Vector3,a)};b.CircleBufferGeometry.prototype=Object.create(b.BufferGeometry.prototype);b.CircleBufferGeometry.prototype.constructor=b.CircleBufferGeometry;b.CylinderBufferGeometry=function(a,c,e,d,f,h,l,m){function k(e){var f,g,h,n=new b.Vector2,r=new b.Vector3,q=0,u=!0===e?a:c,w=!0===e?1:-1;g=A;for(f=1;f<=d;f++)x.setXYZ(A,0,D*
w,0),z.setXYZ(A,0,w,0),n.x=.5,n.y=.5,B.setXY(A,n.x,n.y),A++;h=A;for(f=0;f<=d;f++){var G=f/d*m+l,P=Math.cos(G),G=Math.sin(G);r.x=u*G;r.y=D*w;r.z=u*P;x.setXYZ(A,r.x,r.y,r.z);z.setXYZ(A,0,w,0);n.x=.5*P+.5;n.y=.5*G*w+.5;B.setXY(A,n.x,n.y);A++}for(f=0;f<d;f++)n=g+f,r=h+f,!0===e?(v.setX(C,r),C++,v.setX(C,r+1)):(v.setX(C,r+1),C++,v.setX(C,r)),C++,v.setX(C,n),C++,q+=3;p.addGroup(H,q,!0===e?1:2);H+=q}b.BufferGeometry.call(this);this.type="CylinderBufferGeometry";this.parameters={radiusTop:a,radiusBottom:c,
height:e,radialSegments:d,heightSegments:f,openEnded:h,thetaStart:l,thetaLength:m};var p=this;a=void 0!==a?a:20;c=void 0!==c?c:20;e=void 0!==e?e:100;d=Math.floor(d)||8;f=Math.floor(f)||1;h=void 0!==h?h:!1;l=void 0!==l?l:0;m=void 0!==m?m:2*Math.PI;var n=0;!1===h&&(0<a&&n++,0<c&&n++);var u=function(){var a=(d+1)*(f+1);!1===h&&(a+=(d+1)*n+d*n);return a}(),q=function(){var a=d*f*6;!1===h&&(a+=d*n*3);return a}(),v=new b.BufferAttribute(new (65535<q?Uint32Array:Uint16Array)(q),1),x=new b.BufferAttribute(new Float32Array(3*
u),3),z=new b.BufferAttribute(new Float32Array(3*u),3),B=new b.BufferAttribute(new Float32Array(2*u),2),A=0,C=0,G=[],D=e/2,H=0;(function(){var h,k,n=new b.Vector3,r=new b.Vector3,q=0,u=(c-a)/e;for(k=0;k<=f;k++){var w=[],U=k/f,S=U*(c-a)+a;for(h=0;h<=d;h++){var L=h/d;r.x=S*Math.sin(L*m+l);r.y=-U*e+D;r.z=S*Math.cos(L*m+l);x.setXYZ(A,r.x,r.y,r.z);n.copy(r);if(0===a&&0===k||0===c&&k===f)n.x=Math.sin(L*m+l),n.z=Math.cos(L*m+l);n.setY(Math.sqrt(n.x*n.x+n.z*n.z)*u).normalize();z.setXYZ(A,n.x,n.y,n.z);B.setXY(A,
L,1-U);w.push(A);A++}G.push(w)}for(h=0;h<d;h++)for(k=0;k<f;k++)n=G[k+1][h],r=G[k+1][h+1],u=G[k][h+1],v.setX(C,G[k][h]),C++,v.setX(C,n),C++,v.setX(C,u),C++,v.setX(C,n),C++,v.setX(C,r),C++,v.setX(C,u),C++,q+=6;p.addGroup(H,q,0);H+=q})();!1===h&&(0<a&&k(!0),0<c&&k(!1));this.setIndex(v);this.addAttribute("position",x);this.addAttribute("normal",z);this.addAttribute("uv",B)};b.CylinderBufferGeometry.prototype=Object.create(b.BufferGeometry.prototype);b.CylinderBufferGeometry.prototype.constructor=b.CylinderBufferGeometry;
b.CylinderGeometry=function(a,c,e,d,f,h,l,m){b.Geometry.call(this);this.type="CylinderGeometry";this.parameters={radiusTop:a,radiusBottom:c,height:e,radialSegments:d,heightSegments:f,openEnded:h,thetaStart:l,thetaLength:m};this.fromBufferGeometry(new b.CylinderBufferGeometry(a,c,e,d,f,h,l,m));this.mergeVertices()};b.CylinderGeometry.prototype=Object.create(b.Geometry.prototype);b.CylinderGeometry.prototype.constructor=b.CylinderGeometry;b.ConeBufferGeometry=function(a,c,e,d,f,h,l){b.CylinderBufferGeometry.call(this,
0,a,c,e,d,f,h,l);this.type="ConeBufferGeometry";this.parameters={radius:a,height:c,radialSegments:e,heightSegments:d,thetaStart:h,thetaLength:l}};b.ConeBufferGeometry.prototype=Object.create(b.BufferGeometry.prototype);b.ConeBufferGeometry.prototype.constructor=b.ConeBufferGeometry;b.ConeGeometry=function(a,c,e,d,f,h,l){b.CylinderGeometry.call(this,0,a,c,e,d,f,h,l);this.type="ConeGeometry";this.parameters={radius:a,height:c,radialSegments:e,heightSegments:d,openEnded:f,thetaStart:h,thetaLength:l}};
b.ConeGeometry.prototype=Object.create(b.CylinderGeometry.prototype);b.ConeGeometry.prototype.constructor=b.ConeGeometry;b.EdgesGeometry=function(a,c){function e(a,b){return a-b}b.BufferGeometry.call(this);var d=Math.cos(b.Math.DEG2RAD*(void 0!==c?c:1)),f=[0,0],h={},l=["a","b","c"],m;a instanceof b.BufferGeometry?(m=new b.Geometry,m.fromBufferGeometry(a)):m=a.clone();m.mergeVertices();m.computeFaceNormals();var k=m.vertices;m=m.faces;for(var p=0,n=m.length;p<n;p++)for(var u=m[p],q=0;3>q;q++){f[0]=
u[l[q]];f[1]=u[l[(q+1)%3]];f.sort(e);var v=f.toString();void 0===h[v]?h[v]={vert1:f[0],vert2:f[1],face1:p,face2:void 0}:h[v].face2=p}f=[];for(v in h)if(l=h[v],void 0===l.face2||m[l.face1].normal.dot(m[l.face2].normal)<=d)p=k[l.vert1],f.push(p.x),f.push(p.y),f.push(p.z),p=k[l.vert2],f.push(p.x),f.push(p.y),f.push(p.z);this.addAttribute("position",new b.BufferAttribute(new Float32Array(f),3))};b.EdgesGeometry.prototype=Object.create(b.BufferGeometry.prototype);b.EdgesGeometry.prototype.constructor=
b.EdgesGeometry;b.ExtrudeGeometry=function(a,c){"undefined"!==typeof a&&(b.Geometry.call(this),this.type="ExtrudeGeometry",a=Array.isArray(a)?a:[a],this.addShapeList(a,c),this.computeFaceNormals())};b.ExtrudeGeometry.prototype=Object.create(b.Geometry.prototype);b.ExtrudeGeometry.prototype.constructor=b.ExtrudeGeometry;b.ExtrudeGeometry.prototype.addShapeList=function(a,b){for(var e=a.length,d=0;d<e;d++)this.addShape(a[d],b)};b.ExtrudeGeometry.prototype.addShape=function(a,c){function e(a,b,c){b||
console.error("THREE.ExtrudeGeometry: vec does not exist");return b.clone().multiplyScalar(c).add(a)}function d(a,c,d){var e=1,e=a.x-c.x,f=a.y-c.y,g=d.x-a.x,h=d.y-a.y,l=e*e+f*f;if(Math.abs(e*h-f*g)>Number.EPSILON){var m=Math.sqrt(l),k=Math.sqrt(g*g+h*h),l=c.x-f/m;c=c.y+e/m;g=((d.x-h/k-l)*h-(d.y+g/k-c)*g)/(e*h-f*g);d=l+e*g-a.x;a=c+f*g-a.y;e=d*d+a*a;if(2>=e)return new b.Vector2(d,a);e=Math.sqrt(e/2)}else a=!1,e>Number.EPSILON?g>Number.EPSILON&&(a=!0):e<-Number.EPSILON?g<-Number.EPSILON&&(a=!0):Math.sign(f)===
Math.sign(h)&&(a=!0),a?(d=-f,a=e,e=Math.sqrt(l)):(d=e,a=f,e=Math.sqrt(l/2));return new b.Vector2(d/e,a/e)}function f(a,c){var d,e;for(N=a.length;0<=--N;){d=N;e=N-1;0>e&&(e=a.length-1);for(var g=0,h=v+2*n,g=0;g<h;g++){var l=V*g,m=V*(g+1),k=c+d+l,l=c+e+l,p=c+e+m,m=c+d+m,k=k+J,l=l+J,p=p+J,m=m+J;O.faces.push(new b.Face3(k,l,m,null,null,1));O.faces.push(new b.Face3(l,p,m,null,null,1));k=A.generateSideWallUV(O,k,l,p,m);O.faceVertexUvs[0].push([k[0],k[1],k[3]]);O.faceVertexUvs[0].push([k[1],k[2],k[3]])}}}
function h(a,c,d){O.vertices.push(new b.Vector3(a,c,d))}function l(a,c,d){a+=J;c+=J;d+=J;O.faces.push(new b.Face3(a,c,d,null,null,0));a=A.generateTopUV(O,a,c,d);O.faceVertexUvs[0].push(a)}var m=void 0!==c.amount?c.amount:100,k=void 0!==c.bevelThickness?c.bevelThickness:6,p=void 0!==c.bevelSize?c.bevelSize:k-2,n=void 0!==c.bevelSegments?c.bevelSegments:3,u=void 0!==c.bevelEnabled?c.bevelEnabled:!0,q=void 0!==c.curveSegments?c.curveSegments:12,v=void 0!==c.steps?c.steps:1,x=c.extrudePath,z,B=!1,A=void 0!==
c.UVGenerator?c.UVGenerator:b.ExtrudeGeometry.WorldUVGenerator,C,G,D,H;x&&(z=x.getSpacedPoints(v),B=!0,u=!1,C=void 0!==c.frames?c.frames:new b.TubeGeometry.FrenetFrames(x,v,!1),G=new b.Vector3,D=new b.Vector3,H=new b.Vector3);u||(p=k=n=0);var E,F,I,O=this,J=this.vertices.length,x=a.extractPoints(q),q=x.shape,K=x.holes;if(x=!b.ShapeUtils.isClockWise(q)){q=q.reverse();F=0;for(I=K.length;F<I;F++)E=K[F],b.ShapeUtils.isClockWise(E)&&(K[F]=E.reverse());x=!1}var T=b.ShapeUtils.triangulateShape(q,K),U=q;
F=0;for(I=K.length;F<I;F++)E=K[F],q=q.concat(E);var S,L,P,Q,M,V=q.length,X,W=T.length,x=[],N=0;P=U.length;S=P-1;for(L=N+1;N<P;N++,S++,L++)S===P&&(S=0),L===P&&(L=0),x[N]=d(U[N],U[S],U[L]);var ga=[],Z,da=x.concat();F=0;for(I=K.length;F<I;F++){E=K[F];Z=[];N=0;P=E.length;S=P-1;for(L=N+1;N<P;N++,S++,L++)S===P&&(S=0),L===P&&(L=0),Z[N]=d(E[N],E[S],E[L]);ga.push(Z);da=da.concat(Z)}for(S=0;S<n;S++){P=S/n;Q=k*(1-P);L=p*Math.sin(P*Math.PI/2);N=0;for(P=U.length;N<P;N++)M=e(U[N],x[N],L),h(M.x,M.y,-Q);F=0;for(I=
K.length;F<I;F++)for(E=K[F],Z=ga[F],N=0,P=E.length;N<P;N++)M=e(E[N],Z[N],L),h(M.x,M.y,-Q)}L=p;for(N=0;N<V;N++)M=u?e(q[N],da[N],L):q[N],B?(D.copy(C.normals[0]).multiplyScalar(M.x),G.copy(C.binormals[0]).multiplyScalar(M.y),H.copy(z[0]).add(D).add(G),h(H.x,H.y,H.z)):h(M.x,M.y,0);for(P=1;P<=v;P++)for(N=0;N<V;N++)M=u?e(q[N],da[N],L):q[N],B?(D.copy(C.normals[P]).multiplyScalar(M.x),G.copy(C.binormals[P]).multiplyScalar(M.y),H.copy(z[P]).add(D).add(G),h(H.x,H.y,H.z)):h(M.x,M.y,m/v*P);for(S=n-1;0<=S;S--){P=
S/n;Q=k*(1-P);L=p*Math.sin(P*Math.PI/2);N=0;for(P=U.length;N<P;N++)M=e(U[N],x[N],L),h(M.x,M.y,m+Q);F=0;for(I=K.length;F<I;F++)for(E=K[F],Z=ga[F],N=0,P=E.length;N<P;N++)M=e(E[N],Z[N],L),B?h(M.x,M.y+z[v-1].y,z[v-1].x+Q):h(M.x,M.y,m+Q)}(function(){if(u){var a;a=0*V;for(N=0;N<W;N++)X=T[N],l(X[2]+a,X[1]+a,X[0]+a);a=v+2*n;a*=V;for(N=0;N<W;N++)X=T[N],l(X[0]+a,X[1]+a,X[2]+a)}else{for(N=0;N<W;N++)X=T[N],l(X[2],X[1],X[0]);for(N=0;N<W;N++)X=T[N],l(X[0]+V*v,X[1]+V*v,X[2]+V*v)}})();(function(){var a=0;f(U,a);
a+=U.length;F=0;for(I=K.length;F<I;F++)E=K[F],f(E,a),a+=E.length})()};b.ExtrudeGeometry.WorldUVGenerator={generateTopUV:function(a,c,e,d){a=a.vertices;c=a[c];e=a[e];d=a[d];return[new b.Vector2(c.x,c.y),new b.Vector2(e.x,e.y),new b.Vector2(d.x,d.y)]},generateSideWallUV:function(a,c,e,d,f){a=a.vertices;c=a[c];e=a[e];d=a[d];f=a[f];return.01>Math.abs(c.y-e.y)?[new b.Vector2(c.x,1-c.z),new b.Vector2(e.x,1-e.z),new b.Vector2(d.x,1-d.z),new b.Vector2(f.x,1-f.z)]:[new b.Vector2(c.y,1-c.z),new b.Vector2(e.y,
1-e.z),new b.Vector2(d.y,1-d.z),new b.Vector2(f.y,1-f.z)]}};b.ShapeGeometry=function(a,c){b.Geometry.call(this);this.type="ShapeGeometry";!1===Array.isArray(a)&&(a=[a]);this.addShapeList(a,c);this.computeFaceNormals()};b.ShapeGeometry.prototype=Object.create(b.Geometry.prototype);b.ShapeGeometry.prototype.constructor=b.ShapeGeometry;b.ShapeGeometry.prototype.addShapeList=function(a,b){for(var e=0,d=a.length;e<d;e++)this.addShape(a[e],b);return this};b.ShapeGeometry.prototype.addShape=function(a,c){void 0===
c&&(c={});var e=c.material,d=void 0===c.UVGenerator?b.ExtrudeGeometry.WorldUVGenerator:c.UVGenerator,f,h,l,m=this.vertices.length;f=a.extractPoints(void 0!==c.curveSegments?c.curveSegments:12);var k=f.shape,p=f.holes;if(!b.ShapeUtils.isClockWise(k))for(k=k.reverse(),f=0,h=p.length;f<h;f++)l=p[f],b.ShapeUtils.isClockWise(l)&&(p[f]=l.reverse());var n=b.ShapeUtils.triangulateShape(k,p);f=0;for(h=p.length;f<h;f++)l=p[f],k=k.concat(l);p=k.length;h=n.length;for(f=0;f<p;f++)l=k[f],this.vertices.push(new b.Vector3(l.x,
l.y,0));for(f=0;f<h;f++)p=n[f],k=p[0]+m,l=p[1]+m,p=p[2]+m,this.faces.push(new b.Face3(k,l,p,null,null,e)),this.faceVertexUvs[0].push(d.generateTopUV(this,k,l,p))};b.LatheBufferGeometry=function(a,c,e,d){b.BufferGeometry.call(this);this.type="LatheBufferGeometry";this.parameters={points:a,segments:c,phiStart:e,phiLength:d};c=Math.floor(c)||12;e=e||0;d=d||2*Math.PI;d=b.Math.clamp(d,0,2*Math.PI);for(var f=(c+1)*a.length,h=c*a.length*6,l=new b.BufferAttribute(new (65535<h?Uint32Array:Uint16Array)(h),
1),m=new b.BufferAttribute(new Float32Array(3*f),3),k=new b.BufferAttribute(new Float32Array(2*f),2),p=0,n=0,u=1/c,q=new b.Vector3,v=new b.Vector2,f=0;f<=c;f++)for(var h=e+f*u*d,x=Math.sin(h),z=Math.cos(h),h=0;h<=a.length-1;h++)q.x=a[h].x*x,q.y=a[h].y,q.z=a[h].x*z,m.setXYZ(p,q.x,q.y,q.z),v.x=f/c,v.y=h/(a.length-1),k.setXY(p,v.x,v.y),p++;for(f=0;f<c;f++)for(h=0;h<a.length-1;h++)e=h+f*a.length,p=e+a.length,u=e+a.length+1,q=e+1,l.setX(n,e),n++,l.setX(n,p),n++,l.setX(n,q),n++,l.setX(n,p),n++,l.setX(n,
u),n++,l.setX(n,q),n++;this.setIndex(l);this.addAttribute("position",m);this.addAttribute("uv",k);this.computeVertexNormals();if(d===2*Math.PI)for(d=this.attributes.normal.array,l=new b.Vector3,m=new b.Vector3,k=new b.Vector3,e=c*a.length*3,h=f=0;f<a.length;f++,h+=3)l.x=d[h+0],l.y=d[h+1],l.z=d[h+2],m.x=d[e+h+0],m.y=d[e+h+1],m.z=d[e+h+2],k.addVectors(l,m).normalize(),d[h+0]=d[e+h+0]=k.x,d[h+1]=d[e+h+1]=k.y,d[h+2]=d[e+h+2]=k.z};b.LatheBufferGeometry.prototype=Object.create(b.BufferGeometry.prototype);
b.LatheBufferGeometry.prototype.constructor=b.LatheBufferGeometry;b.LatheGeometry=function(a,c,e,d){b.Geometry.call(this);this.type="LatheGeometry";this.parameters={points:a,segments:c,phiStart:e,phiLength:d};this.fromBufferGeometry(new b.LatheBufferGeometry(a,c,e,d));this.mergeVertices()};b.LatheGeometry.prototype=Object.create(b.Geometry.prototype);b.LatheGeometry.prototype.constructor=b.LatheGeometry;b.PlaneGeometry=function(a,c,e,d){b.Geometry.call(this);this.type="PlaneGeometry";this.parameters=
{width:a,height:c,widthSegments:e,heightSegments:d};this.fromBufferGeometry(new b.PlaneBufferGeometry(a,c,e,d))};b.PlaneGeometry.prototype=Object.create(b.Geometry.prototype);b.PlaneGeometry.prototype.constructor=b.PlaneGeometry;b.PlaneBufferGeometry=function(a,c,e,d){b.BufferGeometry.call(this);this.type="PlaneBufferGeometry";this.parameters={width:a,height:c,widthSegments:e,heightSegments:d};var f=a/2,h=c/2;e=Math.floor(e)||1;d=Math.floor(d)||1;var l=e+1,m=d+1,k=a/e,p=c/d;c=new Float32Array(l*m*
3);a=new Float32Array(l*m*3);for(var n=new Float32Array(l*m*2),u=0,q=0,v=0;v<m;v++)for(var x=v*p-h,z=0;z<l;z++)c[u]=z*k-f,c[u+1]=-x,a[u+2]=1,n[q]=z/e,n[q+1]=1-v/d,u+=3,q+=2;u=0;f=new (65535<c.length/3?Uint32Array:Uint16Array)(e*d*6);for(v=0;v<d;v++)for(z=0;z<e;z++)h=z+l*(v+1),m=z+1+l*(v+1),k=z+1+l*v,f[u]=z+l*v,f[u+1]=h,f[u+2]=k,f[u+3]=h,f[u+4]=m,f[u+5]=k,u+=6;this.setIndex(new b.BufferAttribute(f,1));this.addAttribute("position",new b.BufferAttribute(c,3));this.addAttribute("normal",new b.BufferAttribute(a,
3));this.addAttribute("uv",new b.BufferAttribute(n,2))};b.PlaneBufferGeometry.prototype=Object.create(b.BufferGeometry.prototype);b.PlaneBufferGeometry.prototype.constructor=b.PlaneBufferGeometry;b.RingBufferGeometry=function(a,c,e,d,f,h){b.BufferGeometry.call(this);this.type="RingBufferGeometry";this.parameters={innerRadius:a,outerRadius:c,thetaSegments:e,phiSegments:d,thetaStart:f,thetaLength:h};a=a||20;c=c||50;f=void 0!==f?f:0;h=void 0!==h?h:2*Math.PI;e=void 0!==e?Math.max(3,e):8;d=void 0!==d?
Math.max(1,d):1;var l=(e+1)*(d+1),m=e*d*6,m=new b.BufferAttribute(new (65535<m?Uint32Array:Uint16Array)(m),1),k=new b.BufferAttribute(new Float32Array(3*l),3),p=new b.BufferAttribute(new Float32Array(3*l),3),l=new b.BufferAttribute(new Float32Array(2*l),2),n=0,u=0,q,v=a,x=(c-a)/d,z=new b.Vector3,B=new b.Vector2,A;for(a=0;a<=d;a++){for(A=0;A<=e;A++)q=f+A/e*h,z.x=v*Math.cos(q),z.y=v*Math.sin(q),k.setXYZ(n,z.x,z.y,z.z),p.setXYZ(n,0,0,1),B.x=(z.x/c+1)/2,B.y=(z.y/c+1)/2,l.setXY(n,B.x,B.y),n++;v+=x}for(a=
0;a<d;a++)for(c=a*(e+1),A=0;A<e;A++)f=q=A+c,h=q+e+1,n=q+e+2,q+=1,m.setX(u,f),u++,m.setX(u,h),u++,m.setX(u,n),u++,m.setX(u,f),u++,m.setX(u,n),u++,m.setX(u,q),u++;this.setIndex(m);this.addAttribute("position",k);this.addAttribute("normal",p);this.addAttribute("uv",l)};b.RingBufferGeometry.prototype=Object.create(b.BufferGeometry.prototype);b.RingBufferGeometry.prototype.constructor=b.RingBufferGeometry;b.RingGeometry=function(a,c,e,d,f,h){b.Geometry.call(this);this.type="RingGeometry";this.parameters=
{innerRadius:a,outerRadius:c,thetaSegments:e,phiSegments:d,thetaStart:f,thetaLength:h};this.fromBufferGeometry(new b.RingBufferGeometry(a,c,e,d,f,h))};b.RingGeometry.prototype=Object.create(b.Geometry.prototype);b.RingGeometry.prototype.constructor=b.RingGeometry;b.SphereGeometry=function(a,c,e,d,f,h,l){b.Geometry.call(this);this.type="SphereGeometry";this.parameters={radius:a,widthSegments:c,heightSegments:e,phiStart:d,phiLength:f,thetaStart:h,thetaLength:l};this.fromBufferGeometry(new b.SphereBufferGeometry(a,
c,e,d,f,h,l))};b.SphereGeometry.prototype=Object.create(b.Geometry.prototype);b.SphereGeometry.prototype.constructor=b.SphereGeometry;b.SphereBufferGeometry=function(a,c,e,d,f,h,l){b.BufferGeometry.call(this);this.type="SphereBufferGeometry";this.parameters={radius:a,widthSegments:c,heightSegments:e,phiStart:d,phiLength:f,thetaStart:h,thetaLength:l};a=a||50;c=Math.max(3,Math.floor(c)||8);e=Math.max(2,Math.floor(e)||6);d=void 0!==d?d:0;f=void 0!==f?f:2*Math.PI;h=void 0!==h?h:0;l=void 0!==l?l:Math.PI;
for(var m=h+l,k=(c+1)*(e+1),p=new b.BufferAttribute(new Float32Array(3*k),3),n=new b.BufferAttribute(new Float32Array(3*k),3),k=new b.BufferAttribute(new Float32Array(2*k),2),u=0,q=[],v=new b.Vector3,x=0;x<=e;x++){for(var z=[],B=x/e,A=0;A<=c;A++){var C=A/c,G=-a*Math.cos(d+C*f)*Math.sin(h+B*l),D=a*Math.cos(h+B*l),H=a*Math.sin(d+C*f)*Math.sin(h+B*l);v.set(G,D,H).normalize();p.setXYZ(u,G,D,H);n.setXYZ(u,v.x,v.y,v.z);k.setXY(u,C,1-B);z.push(u);u++}q.push(z)}d=[];for(x=0;x<e;x++)for(A=0;A<c;A++)f=q[x][A+
1],l=q[x][A],u=q[x+1][A],v=q[x+1][A+1],(0!==x||0<h)&&d.push(f,l,v),(x!==e-1||m<Math.PI)&&d.push(l,u,v);this.setIndex(new (65535<p.count?b.Uint32Attribute:b.Uint16Attribute)(d,1));this.addAttribute("position",p);this.addAttribute("normal",n);this.addAttribute("uv",k);this.boundingSphere=new b.Sphere(new b.Vector3,a)};b.SphereBufferGeometry.prototype=Object.create(b.BufferGeometry.prototype);b.SphereBufferGeometry.prototype.constructor=b.SphereBufferGeometry;b.TextGeometry=function(a,c){c=c||{};var e=
c.font;if(!1===e instanceof b.Font)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new b.Geometry;e=e.generateShapes(a,c.size,c.curveSegments);c.amount=void 0!==c.height?c.height:50;void 0===c.bevelThickness&&(c.bevelThickness=10);void 0===c.bevelSize&&(c.bevelSize=8);void 0===c.bevelEnabled&&(c.bevelEnabled=!1);b.ExtrudeGeometry.call(this,e,c);this.type="TextGeometry"};b.TextGeometry.prototype=Object.create(b.ExtrudeGeometry.prototype);b.TextGeometry.prototype.constructor=
b.TextGeometry;b.TorusBufferGeometry=function(a,c,e,d,f){b.BufferGeometry.call(this);this.type="TorusBufferGeometry";this.parameters={radius:a,tube:c,radialSegments:e,tubularSegments:d,arc:f};a=a||100;c=c||40;e=Math.floor(e)||8;d=Math.floor(d)||6;f=f||2*Math.PI;var h=(e+1)*(d+1),l=e*d*6,l=new (65535<l?Uint32Array:Uint16Array)(l),m=new Float32Array(3*h),k=new Float32Array(3*h),h=new Float32Array(2*h),p=0,n=0,u=0,q=new b.Vector3,v=new b.Vector3,x=new b.Vector3,z,B;for(z=0;z<=e;z++)for(B=0;B<=d;B++){var A=
B/d*f,C=z/e*Math.PI*2;v.x=(a+c*Math.cos(C))*Math.cos(A);v.y=(a+c*Math.cos(C))*Math.sin(A);v.z=c*Math.sin(C);m[p]=v.x;m[p+1]=v.y;m[p+2]=v.z;q.x=a*Math.cos(A);q.y=a*Math.sin(A);x.subVectors(v,q).normalize();k[p]=x.x;k[p+1]=x.y;k[p+2]=x.z;h[n]=B/d;h[n+1]=z/e;p+=3;n+=2}for(z=1;z<=e;z++)for(B=1;B<=d;B++)a=(d+1)*(z-1)+B-1,c=(d+1)*(z-1)+B,f=(d+1)*z+B,l[u]=(d+1)*z+B-1,l[u+1]=a,l[u+2]=f,l[u+3]=a,l[u+4]=c,l[u+5]=f,u+=6;this.setIndex(new b.BufferAttribute(l,1));this.addAttribute("position",new b.BufferAttribute(m,
3));this.addAttribute("normal",new b.BufferAttribute(k,3));this.addAttribute("uv",new b.BufferAttribute(h,2))};b.TorusBufferGeometry.prototype=Object.create(b.BufferGeometry.prototype);b.TorusBufferGeometry.prototype.constructor=b.TorusBufferGeometry;b.TorusGeometry=function(a,c,e,d,f){b.Geometry.call(this);this.type="TorusGeometry";this.parameters={radius:a,tube:c,radialSegments:e,tubularSegments:d,arc:f};this.fromBufferGeometry(new b.TorusBufferGeometry(a,c,e,d,f))};b.TorusGeometry.prototype=Object.create(b.Geometry.prototype);
b.TorusGeometry.prototype.constructor=b.TorusGeometry;b.TorusKnotBufferGeometry=function(a,c,e,d,f,h){function l(a,b,c,d,e){var f=Math.sin(a);b=c/b*a;c=Math.cos(b);e.x=d*(2+c)*.5*Math.cos(a);e.y=d*(2+c)*f*.5;e.z=d*Math.sin(b)*.5}b.BufferGeometry.call(this);this.type="TorusKnotBufferGeometry";this.parameters={radius:a,tube:c,tubularSegments:e,radialSegments:d,p:f,q:h};a=a||100;c=c||40;e=Math.floor(e)||64;d=Math.floor(d)||8;f=f||2;h=h||3;var m=(d+1)*(e+1),k=d*e*6,k=new b.BufferAttribute(new (65535<
k?Uint32Array:Uint16Array)(k),1),p=new b.BufferAttribute(new Float32Array(3*m),3),n=new b.BufferAttribute(new Float32Array(3*m),3),m=new b.BufferAttribute(new Float32Array(2*m),2),u,q,v=0,x=0,z=new b.Vector3,B=new b.Vector3,A=new b.Vector2,C=new b.Vector3,G=new b.Vector3,D=new b.Vector3,H=new b.Vector3,E=new b.Vector3;for(u=0;u<=e;++u)for(q=u/e*f*Math.PI*2,l(q,f,h,a,C),l(q+.01,f,h,a,G),H.subVectors(G,C),E.addVectors(G,C),D.crossVectors(H,E),E.crossVectors(D,H),D.normalize(),E.normalize(),q=0;q<=d;++q){var F=
q/d*Math.PI*2,I=-c*Math.cos(F),F=c*Math.sin(F);z.x=C.x+(I*E.x+F*D.x);z.y=C.y+(I*E.y+F*D.y);z.z=C.z+(I*E.z+F*D.z);p.setXYZ(v,z.x,z.y,z.z);B.subVectors(z,C).normalize();n.setXYZ(v,B.x,B.y,B.z);A.x=u/e;A.y=q/d;m.setXY(v,A.x,A.y);v++}for(q=1;q<=e;q++)for(u=1;u<=d;u++)a=(d+1)*q+(u-1),c=(d+1)*q+u,f=(d+1)*(q-1)+u,k.setX(x,(d+1)*(q-1)+(u-1)),x++,k.setX(x,a),x++,k.setX(x,f),x++,k.setX(x,a),x++,k.setX(x,c),x++,k.setX(x,f),x++;this.setIndex(k);this.addAttribute("position",p);this.addAttribute("normal",n);this.addAttribute("uv",
m)};b.TorusKnotBufferGeometry.prototype=Object.create(b.BufferGeometry.prototype);b.TorusKnotBufferGeometry.prototype.constructor=b.TorusKnotBufferGeometry;b.TorusKnotGeometry=function(a,c,e,d,f,h,l){b.Geometry.call(this);this.type="TorusKnotGeometry";this.parameters={radius:a,tube:c,tubularSegments:e,radialSegments:d,p:f,q:h};void 0!==l&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead.");this.fromBufferGeometry(new b.TorusKnotBufferGeometry(a,
c,e,d,f,h));this.mergeVertices()};b.TorusKnotGeometry.prototype=Object.create(b.Geometry.prototype);b.TorusKnotGeometry.prototype.constructor=b.TorusKnotGeometry;b.TubeGeometry=function(a,c,e,d,f,h){b.Geometry.call(this);this.type="TubeGeometry";this.parameters={path:a,segments:c,radius:e,radialSegments:d,closed:f,taper:h};c=c||64;e=e||1;d=d||8;f=f||!1;h=h||b.TubeGeometry.NoTaper;var l=[],k,p,n=c+1,w,u,q,v,x,z=new b.Vector3,B,A,C;B=new b.TubeGeometry.FrenetFrames(a,c,f);A=B.normals;C=B.binormals;
this.tangents=B.tangents;this.normals=A;this.binormals=C;for(B=0;B<n;B++)for(l[B]=[],w=B/(n-1),x=a.getPointAt(w),k=A[B],p=C[B],q=e*h(w),w=0;w<d;w++)u=w/d*2*Math.PI,v=-q*Math.cos(u),u=q*Math.sin(u),z.copy(x),z.x+=v*k.x+u*p.x,z.y+=v*k.y+u*p.y,z.z+=v*k.z+u*p.z,l[B][w]=this.vertices.push(new b.Vector3(z.x,z.y,z.z))-1;for(B=0;B<c;B++)for(w=0;w<d;w++)h=f?(B+1)%c:B+1,n=(w+1)%d,a=l[B][w],e=l[h][w],h=l[h][n],n=l[B][n],z=new b.Vector2(B/c,w/d),A=new b.Vector2((B+1)/c,w/d),C=new b.Vector2((B+1)/c,(w+1)/d),k=
new b.Vector2(B/c,(w+1)/d),this.faces.push(new b.Face3(a,e,n)),this.faceVertexUvs[0].push([z,A,k]),this.faces.push(new b.Face3(e,h,n)),this.faceVertexUvs[0].push([A.clone(),C,k.clone()]);this.computeFaceNormals();this.computeVertexNormals()};b.TubeGeometry.prototype=Object.create(b.Geometry.prototype);b.TubeGeometry.prototype.constructor=b.TubeGeometry;b.TubeGeometry.NoTaper=function(a){return 1};b.TubeGeometry.SinusoidalTaper=function(a){return Math.sin(Math.PI*a)};b.TubeGeometry.FrenetFrames=function(a,
c,e){var d=new b.Vector3,f=[],h=[],l=[],k=new b.Vector3,p=new b.Matrix4;c+=1;var n,w,u;this.tangents=f;this.normals=h;this.binormals=l;for(n=0;n<c;n++)w=n/(c-1),f[n]=a.getTangentAt(w),f[n].normalize();h[0]=new b.Vector3;l[0]=new b.Vector3;a=Number.MAX_VALUE;n=Math.abs(f[0].x);w=Math.abs(f[0].y);u=Math.abs(f[0].z);n<=a&&(a=n,d.set(1,0,0));w<=a&&(a=w,d.set(0,1,0));u<=a&&d.set(0,0,1);k.crossVectors(f[0],d).normalize();h[0].crossVectors(f[0],k);l[0].crossVectors(f[0],h[0]);for(n=1;n<c;n++)h[n]=h[n-1].clone(),
l[n]=l[n-1].clone(),k.crossVectors(f[n-1],f[n]),k.length()>Number.EPSILON&&(k.normalize(),d=Math.acos(b.Math.clamp(f[n-1].dot(f[n]),-1,1)),h[n].applyMatrix4(p.makeRotationAxis(k,d))),l[n].crossVectors(f[n],h[n]);if(e)for(d=Math.acos(b.Math.clamp(h[0].dot(h[c-1]),-1,1)),d/=c-1,0<f[0].dot(k.crossVectors(h[0],h[c-1]))&&(d=-d),n=1;n<c;n++)h[n].applyMatrix4(p.makeRotationAxis(f[n],d*n)),l[n].crossVectors(f[n],h[n])};b.PolyhedronGeometry=function(a,c,e,d){function f(a){var c=a.normalize().clone();c.index=
p.vertices.push(c)-1;c.uv=new b.Vector2(Math.atan2(a.z,-a.x)/2/Math.PI+.5,1-(Math.atan2(-a.y,Math.sqrt(a.x*a.x+a.z*a.z))/Math.PI+.5));return c}function h(a,c,d,e){e=new b.Face3(a.index,c.index,d.index,[a.clone(),c.clone(),d.clone()],void 0,e);p.faces.push(e);B.copy(a).add(c).add(d).divideScalar(3);e=Math.atan2(B.z,-B.x);p.faceVertexUvs[0].push([k(a.uv,a,e),k(c.uv,c,e),k(d.uv,d,e)])}function l(a,b){for(var c=Math.pow(2,b),d=f(p.vertices[a.a]),e=f(p.vertices[a.b]),l=f(p.vertices[a.c]),k=[],m=a.materialIndex,
n=0;n<=c;n++){k[n]=[];for(var q=f(d.clone().lerp(l,n/c)),t=f(e.clone().lerp(l,n/c)),u=c-n,v=0;v<=u;v++)k[n][v]=0===v&&n===c?q:f(q.clone().lerp(t,v/u))}for(n=0;n<c;n++)for(v=0;v<2*(c-n)-1;v++)d=Math.floor(v/2),0===v%2?h(k[n][d+1],k[n+1][d],k[n][d],m):h(k[n][d+1],k[n+1][d+1],k[n+1][d],m)}function k(a,c,d){0>d&&1===a.x&&(a=new b.Vector2(a.x-1,a.y));0===c.x&&0===c.z&&(a=new b.Vector2(d/2/Math.PI+.5,a.y));return a.clone()}b.Geometry.call(this);this.type="PolyhedronGeometry";this.parameters={vertices:a,
indices:c,radius:e,detail:d};e=e||1;d=d||0;for(var p=this,n=0,w=a.length;n<w;n+=3)f(new b.Vector3(a[n],a[n+1],a[n+2]));a=this.vertices;for(var u=[],q=n=0,w=c.length;n<w;n+=3,q++){var v=a[c[n]],x=a[c[n+1]],z=a[c[n+2]];u[q]=new b.Face3(v.index,x.index,z.index,[v.clone(),x.clone(),z.clone()],void 0,q)}for(var B=new b.Vector3,n=0,w=u.length;n<w;n++)l(u[n],d);n=0;for(w=this.faceVertexUvs[0].length;n<w;n++)c=this.faceVertexUvs[0][n],d=c[0].x,a=c[1].x,u=c[2].x,q=Math.min(d,a,u),.9<Math.max(d,a,u)&&.1>q&&
(.2>d&&(c[0].x+=1),.2>a&&(c[1].x+=1),.2>u&&(c[2].x+=1));n=0;for(w=this.vertices.length;n<w;n++)this.vertices[n].multiplyScalar(e);this.mergeVertices();this.computeFaceNormals();this.boundingSphere=new b.Sphere(new b.Vector3,e)};b.PolyhedronGeometry.prototype=Object.create(b.Geometry.prototype);b.PolyhedronGeometry.prototype.constructor=b.PolyhedronGeometry;b.DodecahedronGeometry=function(a,c){var e=(1+Math.sqrt(5))/2,d=1/e;b.PolyhedronGeometry.call(this,[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,
-1,1,1,1,-1,1,1,1,0,-d,-e,0,-d,e,0,d,-e,0,d,e,-d,-e,0,-d,e,0,d,-e,0,d,e,0,-e,0,-d,e,0,-d,-e,0,d,e,0,d],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],a,c);this.type="DodecahedronGeometry";this.parameters={radius:a,detail:c}};b.DodecahedronGeometry.prototype=Object.create(b.PolyhedronGeometry.prototype);
b.DodecahedronGeometry.prototype.constructor=b.DodecahedronGeometry;b.IcosahedronGeometry=function(a,c){var e=(1+Math.sqrt(5))/2;b.PolyhedronGeometry.call(this,[-1,e,0,1,e,0,-1,-e,0,1,-e,0,0,-1,e,0,1,e,0,-1,-e,0,1,-e,e,0,-1,e,0,1,-e,0,-1,-e,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],a,c);this.type="IcosahedronGeometry";this.parameters={radius:a,detail:c}};b.IcosahedronGeometry.prototype=Object.create(b.PolyhedronGeometry.prototype);
b.IcosahedronGeometry.prototype.constructor=b.IcosahedronGeometry;b.OctahedronGeometry=function(a,c){b.PolyhedronGeometry.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],a,c);this.type="OctahedronGeometry";this.parameters={radius:a,detail:c}};b.OctahedronGeometry.prototype=Object.create(b.PolyhedronGeometry.prototype);b.OctahedronGeometry.prototype.constructor=b.OctahedronGeometry;b.TetrahedronGeometry=function(a,c){b.PolyhedronGeometry.call(this,
[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],a,c);this.type="TetrahedronGeometry";this.parameters={radius:a,detail:c}};b.TetrahedronGeometry.prototype=Object.create(b.PolyhedronGeometry.prototype);b.TetrahedronGeometry.prototype.constructor=b.TetrahedronGeometry;b.ParametricGeometry=function(a,c,e){b.Geometry.call(this);this.type="ParametricGeometry";this.parameters={func:a,slices:c,stacks:e};var d=this.vertices,f=this.faces,h=this.faceVertexUvs[0],l,k,n,p,w=c+1;for(l=0;l<=e;l++)for(p=
l/e,k=0;k<=c;k++)n=k/c,n=a(n,p),d.push(n);var u,q,v,x;for(l=0;l<e;l++)for(k=0;k<c;k++)a=l*w+k,d=l*w+k+1,p=(l+1)*w+k+1,n=(l+1)*w+k,u=new b.Vector2(k/c,l/e),q=new b.Vector2((k+1)/c,l/e),v=new b.Vector2((k+1)/c,(l+1)/e),x=new b.Vector2(k/c,(l+1)/e),f.push(new b.Face3(a,d,n)),h.push([u,q,x]),f.push(new b.Face3(d,p,n)),h.push([q.clone(),v,x.clone()]);this.computeFaceNormals();this.computeVertexNormals()};b.ParametricGeometry.prototype=Object.create(b.Geometry.prototype);b.ParametricGeometry.prototype.constructor=
b.ParametricGeometry;b.WireframeGeometry=function(a){function c(a,b){return a-b}b.BufferGeometry.call(this);var e=[0,0],d={},f=["a","b","c"];if(a instanceof b.Geometry){var h=a.vertices,l=a.faces,k=0,n=new Uint32Array(6*l.length);a=0;for(var p=l.length;a<p;a++)for(var w=l[a],u=0;3>u;u++){e[0]=w[f[u]];e[1]=w[f[(u+1)%3]];e.sort(c);var q=e.toString();void 0===d[q]&&(n[2*k]=e[0],n[2*k+1]=e[1],d[q]=!0,k++)}e=new Float32Array(6*k);a=0;for(p=k;a<p;a++)for(u=0;2>u;u++)d=h[n[2*a+u]],k=6*a+3*u,e[k+0]=d.x,e[k+
1]=d.y,e[k+2]=d.z;this.addAttribute("position",new b.BufferAttribute(e,3))}else if(a instanceof b.BufferGeometry){if(null!==a.index){p=a.index.array;h=a.attributes.position;f=a.groups;k=0;0===f.length&&a.addGroup(0,p.length);n=new Uint32Array(2*p.length);l=0;for(w=f.length;l<w;++l){a=f[l];u=a.start;q=a.count;a=u;for(var v=u+q;a<v;a+=3)for(u=0;3>u;u++)e[0]=p[a+u],e[1]=p[a+(u+1)%3],e.sort(c),q=e.toString(),void 0===d[q]&&(n[2*k]=e[0],n[2*k+1]=e[1],d[q]=!0,k++)}e=new Float32Array(6*k);a=0;for(p=k;a<
p;a++)for(u=0;2>u;u++)k=6*a+3*u,d=n[2*a+u],e[k+0]=h.getX(d),e[k+1]=h.getY(d),e[k+2]=h.getZ(d)}else for(h=a.attributes.position.array,k=h.length/3,n=k/3,e=new Float32Array(6*k),a=0,p=n;a<p;a++)for(u=0;3>u;u++)k=18*a+6*u,n=9*a+3*u,e[k+0]=h[n],e[k+1]=h[n+1],e[k+2]=h[n+2],d=9*a+(u+1)%3*3,e[k+3]=h[d],e[k+4]=h[d+1],e[k+5]=h[d+2];this.addAttribute("position",new b.BufferAttribute(e,3))}};b.WireframeGeometry.prototype=Object.create(b.BufferGeometry.prototype);b.WireframeGeometry.prototype.constructor=b.WireframeGeometry;
b.AxisHelper=function(a){a=a||1;var c=new Float32Array([0,0,0,a,0,0,0,0,0,0,a,0,0,0,0,0,0,a]),e=new Float32Array([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1]);a=new b.BufferGeometry;a.addAttribute("position",new b.BufferAttribute(c,3));a.addAttribute("color",new b.BufferAttribute(e,3));c=new b.LineBasicMaterial({vertexColors:b.VertexColors});b.LineSegments.call(this,a,c)};b.AxisHelper.prototype=Object.create(b.LineSegments.prototype);b.AxisHelper.prototype.constructor=b.AxisHelper;b.ArrowHelper=function(){var a=
new b.BufferGeometry;a.addAttribute("position",new b.Float32Attribute([0,0,0,0,1,0],3));var c=new b.CylinderBufferGeometry(0,.5,1,5,1);c.translate(0,-.5,0);return function(e,d,f,h,l,k){b.Object3D.call(this);void 0===h&&(h=16776960);void 0===f&&(f=1);void 0===l&&(l=.2*f);void 0===k&&(k=.2*l);this.position.copy(d);this.line=new b.Line(a,new b.LineBasicMaterial({color:h}));this.line.matrixAutoUpdate=!1;this.add(this.line);this.cone=new b.Mesh(c,new b.MeshBasicMaterial({color:h}));this.cone.matrixAutoUpdate=
!1;this.add(this.cone);this.setDirection(e);this.setLength(f,l,k)}}();b.ArrowHelper.prototype=Object.create(b.Object3D.prototype);b.ArrowHelper.prototype.constructor=b.ArrowHelper;b.ArrowHelper.prototype.setDirection=function(){var a=new b.Vector3,c;return function(b){.99999<b.y?this.quaternion.set(0,0,0,1):-.99999>b.y?this.quaternion.set(1,0,0,0):(a.set(b.z,0,-b.x).normalize(),c=Math.acos(b.y),this.quaternion.setFromAxisAngle(a,c))}}();b.ArrowHelper.prototype.setLength=function(a,b,e){void 0===b&&
(b=.2*a);void 0===e&&(e=.2*b);this.line.scale.set(1,Math.max(0,a-b),1);this.line.updateMatrix();this.cone.scale.set(e,b,e);this.cone.position.y=a;this.cone.updateMatrix()};b.ArrowHelper.prototype.setColor=function(a){this.line.material.color.copy(a);this.cone.material.color.copy(a)};b.BoxHelper=function(a){var c=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),e=new Float32Array(24),d=new b.BufferGeometry;d.setIndex(new b.BufferAttribute(c,1));d.addAttribute("position",new b.BufferAttribute(e,
3));b.LineSegments.call(this,d,new b.LineBasicMaterial({color:16776960}));void 0!==a&&this.update(a)};b.BoxHelper.prototype=Object.create(b.LineSegments.prototype);b.BoxHelper.prototype.constructor=b.BoxHelper;b.BoxHelper.prototype.update=function(){var a=new b.Box3;return function(c){c instanceof b.Box3?a.copy(c):a.setFromObject(c);if(!a.isEmpty()){c=a.min;var e=a.max,d=this.geometry.attributes.position,f=d.array;f[0]=e.x;f[1]=e.y;f[2]=e.z;f[3]=c.x;f[4]=e.y;f[5]=e.z;f[6]=c.x;f[7]=c.y;f[8]=e.z;f[9]=
e.x;f[10]=c.y;f[11]=e.z;f[12]=e.x;f[13]=e.y;f[14]=c.z;f[15]=c.x;f[16]=e.y;f[17]=c.z;f[18]=c.x;f[19]=c.y;f[20]=c.z;f[21]=e.x;f[22]=c.y;f[23]=c.z;d.needsUpdate=!0;this.geometry.computeBoundingSphere()}}}();b.BoundingBoxHelper=function(a,c){var e=void 0!==c?c:8947848;this.object=a;this.box=new b.Box3;b.Mesh.call(this,new b.BoxGeometry(1,1,1),new b.MeshBasicMaterial({color:e,wireframe:!0}))};b.BoundingBoxHelper.prototype=Object.create(b.Mesh.prototype);b.BoundingBoxHelper.prototype.constructor=b.BoundingBoxHelper;
b.BoundingBoxHelper.prototype.update=function(){this.box.setFromObject(this.object);this.box.size(this.scale);this.box.center(this.position)};b.CameraHelper=function(a){function c(a,b,c){e(a,c);e(b,c)}function e(a,c){d.vertices.push(new b.Vector3);d.colors.push(new b.Color(c));void 0===h[a]&&(h[a]=[]);h[a].push(d.vertices.length-1)}var d=new b.Geometry,f=new b.LineBasicMaterial({color:16777215,vertexColors:b.FaceColors}),h={};c("n1","n2",16755200);c("n2","n4",16755200);c("n4","n3",16755200);c("n3",
"n1",16755200);c("f1","f2",16755200);c("f2","f4",16755200);c("f4","f3",16755200);c("f3","f1",16755200);c("n1","f1",16755200);c("n2","f2",16755200);c("n3","f3",16755200);c("n4","f4",16755200);c("p","n1",16711680);c("p","n2",16711680);c("p","n3",16711680);c("p","n4",16711680);c("u1","u2",43775);c("u2","u3",43775);c("u3","u1",43775);c("c","t",16777215);c("p","c",3355443);c("cn1","cn2",3355443);c("cn3","cn4",3355443);c("cf1","cf2",3355443);c("cf3","cf4",3355443);b.LineSegments.call(this,d,f);this.camera=
a;this.camera.updateProjectionMatrix();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.pointMap=h;this.update()};b.CameraHelper.prototype=Object.create(b.LineSegments.prototype);b.CameraHelper.prototype.constructor=b.CameraHelper;b.CameraHelper.prototype.update=function(){function a(a,b,k,n){d.set(b,k,n).unproject(f);a=e[a];if(void 0!==a)for(b=0,k=a.length;b<k;b++)c.vertices[a[b]].copy(d)}var c,e,d=new b.Vector3,f=new b.Camera;return function(){c=this.geometry;e=this.pointMap;f.projectionMatrix.copy(this.camera.projectionMatrix);
a("c",0,0,-1);a("t",0,0,1);a("n1",-1,-1,-1);a("n2",1,-1,-1);a("n3",-1,1,-1);a("n4",1,1,-1);a("f1",-1,-1,1);a("f2",1,-1,1);a("f3",-1,1,1);a("f4",1,1,1);a("u1",.7,1.1,-1);a("u2",-.7,1.1,-1);a("u3",0,2,-1);a("cf1",-1,0,1);a("cf2",1,0,1);a("cf3",0,-1,1);a("cf4",0,1,1);a("cn1",-1,0,-1);a("cn2",1,0,-1);a("cn3",0,-1,-1);a("cn4",0,1,-1);c.verticesNeedUpdate=!0}}();b.DirectionalLightHelper=function(a,c){b.Object3D.call(this);this.light=a;this.light.updateMatrixWorld();this.matrix=a.matrixWorld;this.matrixAutoUpdate=
!1;void 0===c&&(c=1);var e=new b.BufferGeometry;e.addAttribute("position",new b.Float32Attribute([-c,c,0,c,c,0,c,-c,0,-c,-c,0,-c,c,0],3));var d=new b.LineBasicMaterial({fog:!1});this.add(new b.Line(e,d));e=new b.BufferGeometry;e.addAttribute("position",new b.Float32Attribute([0,0,0,0,0,1],3));this.add(new b.Line(e,d));this.update()};b.DirectionalLightHelper.prototype=Object.create(b.Object3D.prototype);b.DirectionalLightHelper.prototype.constructor=b.DirectionalLightHelper;b.DirectionalLightHelper.prototype.dispose=
function(){var a=this.children[0],b=this.children[1];a.geometry.dispose();a.material.dispose();b.geometry.dispose();b.material.dispose()};b.DirectionalLightHelper.prototype.update=function(){var a=new b.Vector3,c=new b.Vector3,e=new b.Vector3;return function(){a.setFromMatrixPosition(this.light.matrixWorld);c.setFromMatrixPosition(this.light.target.matrixWorld);e.subVectors(c,a);var b=this.children[0],f=this.children[1];b.lookAt(e);b.material.color.copy(this.light.color).multiplyScalar(this.light.intensity);
f.lookAt(e);f.scale.z=e.length()}}();b.EdgesHelper=function(a,c,e){c=void 0!==c?c:16777215;b.LineSegments.call(this,new b.EdgesGeometry(a.geometry,e),new b.LineBasicMaterial({color:c}));this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1};b.EdgesHelper.prototype=Object.create(b.LineSegments.prototype);b.EdgesHelper.prototype.constructor=b.EdgesHelper;b.FaceNormalsHelper=function(a,c,e,d){this.object=a;this.size=void 0!==c?c:1;a=void 0!==e?e:16776960;d=void 0!==d?d:1;c=0;e=this.object.geometry;e instanceof
b.Geometry?c=e.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");e=new b.BufferGeometry;c=new b.Float32Attribute(6*c,3);e.addAttribute("position",c);b.LineSegments.call(this,e,new b.LineBasicMaterial({color:a,linewidth:d}));this.matrixAutoUpdate=!1;this.update()};b.FaceNormalsHelper.prototype=Object.create(b.LineSegments.prototype);b.FaceNormalsHelper.prototype.constructor=b.FaceNormalsHelper;b.FaceNormalsHelper.prototype.update=
function(){var a=new b.Vector3,c=new b.Vector3,e=new b.Matrix3;return function(){this.object.updateMatrixWorld(!0);e.getNormalMatrix(this.object.matrixWorld);for(var b=this.object.matrixWorld,f=this.geometry.attributes.position,h=this.object.geometry,l=h.vertices,h=h.faces,k=0,n=0,p=h.length;n<p;n++){var w=h[n],u=w.normal;a.copy(l[w.a]).add(l[w.b]).add(l[w.c]).divideScalar(3).applyMatrix4(b);c.copy(u).applyMatrix3(e).normalize().multiplyScalar(this.size).add(a);f.setXYZ(k,a.x,a.y,a.z);k+=1;f.setXYZ(k,
c.x,c.y,c.z);k+=1}f.needsUpdate=!0;return this}}();b.GridHelper=function(a,c,e,d){e=new b.Color(void 0!==e?e:4473924);d=new b.Color(void 0!==d?d:8947848);for(var f=[],h=[],l=-a,k=0;l<=a;l+=c){f.push(-a,0,l,a,0,l);f.push(l,0,-a,l,0,a);var n=0===l?e:d;n.toArray(h,k);k+=3;n.toArray(h,k);k+=3;n.toArray(h,k);k+=3;n.toArray(h,k);k+=3}a=new b.BufferGeometry;a.addAttribute("position",new b.Float32Attribute(f,3));a.addAttribute("color",new b.Float32Attribute(h,3));f=new b.LineBasicMaterial({vertexColors:b.VertexColors});
b.LineSegments.call(this,a,f)};b.GridHelper.prototype=Object.create(b.LineSegments.prototype);b.GridHelper.prototype.constructor=b.GridHelper;b.GridHelper.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")};b.HemisphereLightHelper=function(a,c){b.Object3D.call(this);this.light=a;this.light.updateMatrixWorld();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.colors=[new b.Color,new b.Color];var e=new b.SphereGeometry(c,
4,2);e.rotateX(-Math.PI/2);for(var d=0;8>d;d++)e.faces[d].color=this.colors[4>d?0:1];d=new b.MeshBasicMaterial({vertexColors:b.FaceColors,wireframe:!0});this.lightSphere=new b.Mesh(e,d);this.add(this.lightSphere);this.update()};b.HemisphereLightHelper.prototype=Object.create(b.Object3D.prototype);b.HemisphereLightHelper.prototype.constructor=b.HemisphereLightHelper;b.HemisphereLightHelper.prototype.dispose=function(){this.lightSphere.geometry.dispose();this.lightSphere.material.dispose()};b.HemisphereLightHelper.prototype.update=
function(){var a=new b.Vector3;return function(){this.colors[0].copy(this.light.color).multiplyScalar(this.light.intensity);this.colors[1].copy(this.light.groundColor).multiplyScalar(this.light.intensity);this.lightSphere.lookAt(a.setFromMatrixPosition(this.light.matrixWorld).negate());this.lightSphere.geometry.colorsNeedUpdate=!0}}();b.PointLightHelper=function(a,c){this.light=a;this.light.updateMatrixWorld();var e=new b.SphereBufferGeometry(c,4,2),d=new b.MeshBasicMaterial({wireframe:!0,fog:!1});
d.color.copy(this.light.color).multiplyScalar(this.light.intensity);b.Mesh.call(this,e,d);this.matrix=this.light.matrixWorld;this.matrixAutoUpdate=!1};b.PointLightHelper.prototype=Object.create(b.Mesh.prototype);b.PointLightHelper.prototype.constructor=b.PointLightHelper;b.PointLightHelper.prototype.dispose=function(){this.geometry.dispose();this.material.dispose()};b.PointLightHelper.prototype.update=function(){this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)};b.SkeletonHelper=
function(a){this.bones=this.getBoneList(a);for(var c=new b.Geometry,e=0;e<this.bones.length;e++)this.bones[e].parent instanceof b.Bone&&(c.vertices.push(new b.Vector3),c.vertices.push(new b.Vector3),c.colors.push(new b.Color(0,0,1)),c.colors.push(new b.Color(0,1,0)));c.dynamic=!0;e=new b.LineBasicMaterial({vertexColors:b.VertexColors,depthTest:!1,depthWrite:!1,transparent:!0});b.LineSegments.call(this,c,e);this.root=a;this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;this.update()};b.SkeletonHelper.prototype=
Object.create(b.LineSegments.prototype);b.SkeletonHelper.prototype.constructor=b.SkeletonHelper;b.SkeletonHelper.prototype.getBoneList=function(a){var c=[];a instanceof b.Bone&&c.push(a);for(var e=0;e<a.children.length;e++)c.push.apply(c,this.getBoneList(a.children[e]));return c};b.SkeletonHelper.prototype.update=function(){for(var a=this.geometry,c=(new b.Matrix4).getInverse(this.root.matrixWorld),e=new b.Matrix4,d=0,f=0;f<this.bones.length;f++){var h=this.bones[f];h.parent instanceof b.Bone&&(e.multiplyMatrices(c,
h.matrixWorld),a.vertices[d].setFromMatrixPosition(e),e.multiplyMatrices(c,h.parent.matrixWorld),a.vertices[d+1].setFromMatrixPosition(e),d+=2)}a.verticesNeedUpdate=!0;a.computeBoundingSphere()};b.SpotLightHelper=function(a){b.Object3D.call(this);this.light=a;this.light.updateMatrixWorld();this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1;a=new b.BufferGeometry;for(var c=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],e=0,d=1;32>e;e++,d++){var f=e/32*Math.PI*2,h=d/32*Math.PI*2;c.push(Math.cos(f),
Math.sin(f),1,Math.cos(h),Math.sin(h),1)}a.addAttribute("position",new b.Float32Attribute(c,3));c=new b.LineBasicMaterial({fog:!1});this.cone=new b.LineSegments(a,c);this.add(this.cone);this.update()};b.SpotLightHelper.prototype=Object.create(b.Object3D.prototype);b.SpotLightHelper.prototype.constructor=b.SpotLightHelper;b.SpotLightHelper.prototype.dispose=function(){this.cone.geometry.dispose();this.cone.material.dispose()};b.SpotLightHelper.prototype.update=function(){var a=new b.Vector3,c=new b.Vector3;
return function(){var b=this.light.distance?this.light.distance:1E3,d=b*Math.tan(this.light.angle);this.cone.scale.set(d,d,b);a.setFromMatrixPosition(this.light.matrixWorld);c.setFromMatrixPosition(this.light.target.matrixWorld);this.cone.lookAt(c.sub(a));this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)}}();b.VertexNormalsHelper=function(a,c,e,d){this.object=a;this.size=void 0!==c?c:1;a=void 0!==e?e:16711680;d=void 0!==d?d:1;c=0;e=this.object.geometry;e instanceof
b.Geometry?c=3*e.faces.length:e instanceof b.BufferGeometry&&(c=e.attributes.normal.count);e=new b.BufferGeometry;c=new b.Float32Attribute(6*c,3);e.addAttribute("position",c);b.LineSegments.call(this,e,new b.LineBasicMaterial({color:a,linewidth:d}));this.matrixAutoUpdate=!1;this.update()};b.VertexNormalsHelper.prototype=Object.create(b.LineSegments.prototype);b.VertexNormalsHelper.prototype.constructor=b.VertexNormalsHelper;b.VertexNormalsHelper.prototype.update=function(){var a=new b.Vector3,c=new b.Vector3,
e=new b.Matrix3;return function(){var d=["a","b","c"];this.object.updateMatrixWorld(!0);e.getNormalMatrix(this.object.matrixWorld);var f=this.object.matrixWorld,h=this.geometry.attributes.position,l=this.object.geometry;if(l instanceof b.Geometry)for(var k=l.vertices,n=l.faces,p=l=0,w=n.length;p<w;p++)for(var u=n[p],q=0,v=u.vertexNormals.length;q<v;q++){var x=u.vertexNormals[q];a.copy(k[u[d[q]]]).applyMatrix4(f);c.copy(x).applyMatrix3(e).normalize().multiplyScalar(this.size).add(a);h.setXYZ(l,a.x,
a.y,a.z);l+=1;h.setXYZ(l,c.x,c.y,c.z);l+=1}else if(l instanceof b.BufferGeometry)for(d=l.attributes.position,k=l.attributes.normal,q=l=0,v=d.count;q<v;q++)a.set(d.getX(q),d.getY(q),d.getZ(q)).applyMatrix4(f),c.set(k.getX(q),k.getY(q),k.getZ(q)),c.applyMatrix3(e).normalize().multiplyScalar(this.size).add(a),h.setXYZ(l,a.x,a.y,a.z),l+=1,h.setXYZ(l,c.x,c.y,c.z),l+=1;h.needsUpdate=!0;return this}}();b.WireframeHelper=function(a,c){var e=void 0!==c?c:16777215;b.LineSegments.call(this,new b.WireframeGeometry(a.geometry),
new b.LineBasicMaterial({color:e}));this.matrix=a.matrixWorld;this.matrixAutoUpdate=!1};b.WireframeHelper.prototype=Object.create(b.LineSegments.prototype);b.WireframeHelper.prototype.constructor=b.WireframeHelper;b.ImmediateRenderObject=function(a){b.Object3D.call(this);this.material=a;this.render=function(a){}};b.ImmediateRenderObject.prototype=Object.create(b.Object3D.prototype);b.ImmediateRenderObject.prototype.constructor=b.ImmediateRenderObject;b.MorphBlendMesh=function(a,c){b.Mesh.call(this,
a,c);this.animationsMap={};this.animationsList=[];var e=this.geometry.morphTargets.length;this.createAnimation("__default",0,e-1,e/1);this.setAnimationWeight("__default",1)};b.MorphBlendMesh.prototype=Object.create(b.Mesh.prototype);b.MorphBlendMesh.prototype.constructor=b.MorphBlendMesh;b.MorphBlendMesh.prototype.createAnimation=function(a,b,e,d){b={start:b,end:e,length:e-b+1,fps:d,duration:(e-b)/d,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1};
this.animationsMap[a]=b;this.animationsList.push(b)};b.MorphBlendMesh.prototype.autoCreateAnimations=function(a){for(var b=/([a-z]+)_?(\d+)/i,e,d={},f=this.geometry,h=0,l=f.morphTargets.length;h<l;h++){var k=f.morphTargets[h].name.match(b);if(k&&1<k.length){var n=k[1];d[n]||(d[n]={start:Infinity,end:-Infinity});k=d[n];h<k.start&&(k.start=h);h>k.end&&(k.end=h);e||(e=n)}}for(n in d)k=d[n],this.createAnimation(n,k.start,k.end,a);this.firstAnimation=e};b.MorphBlendMesh.prototype.setAnimationDirectionForward=
function(a){if(a=this.animationsMap[a])a.direction=1,a.directionBackwards=!1};b.MorphBlendMesh.prototype.setAnimationDirectionBackward=function(a){if(a=this.animationsMap[a])a.direction=-1,a.directionBackwards=!0};b.MorphBlendMesh.prototype.setAnimationFPS=function(a,b){var e=this.animationsMap[a];e&&(e.fps=b,e.duration=(e.end-e.start)/e.fps)};b.MorphBlendMesh.prototype.setAnimationDuration=function(a,b){var e=this.animationsMap[a];e&&(e.duration=b,e.fps=(e.end-e.start)/e.duration)};b.MorphBlendMesh.prototype.setAnimationWeight=
function(a,b){var e=this.animationsMap[a];e&&(e.weight=b)};b.MorphBlendMesh.prototype.setAnimationTime=function(a,b){var e=this.animationsMap[a];e&&(e.time=b)};b.MorphBlendMesh.prototype.getAnimationTime=function(a){var b=0;if(a=this.animationsMap[a])b=a.time;return b};b.MorphBlendMesh.prototype.getAnimationDuration=function(a){var b=-1;if(a=this.animationsMap[a])b=a.duration;return b};b.MorphBlendMesh.prototype.playAnimation=function(a){var b=this.animationsMap[a];b?(b.time=0,b.active=!0):console.warn("THREE.MorphBlendMesh: animation["+
a+"] undefined in .playAnimation()")};b.MorphBlendMesh.prototype.stopAnimation=function(a){if(a=this.animationsMap[a])a.active=!1};b.MorphBlendMesh.prototype.update=function(a){for(var c=0,e=this.animationsList.length;c<e;c++){var d=this.animationsList[c];if(d.active){var f=d.duration/d.length;d.time+=d.direction*a;if(d.mirroredLoop){if(d.time>d.duration||0>d.time)d.direction*=-1,d.time>d.duration&&(d.time=d.duration,d.directionBackwards=!0),0>d.time&&(d.time=0,d.directionBackwards=!1)}else d.time%=
d.duration,0>d.time&&(d.time+=d.duration);var h=d.start+b.Math.clamp(Math.floor(d.time/f),0,d.length-1),k=d.weight;h!==d.currentFrame&&(this.morphTargetInfluences[d.lastFrame]=0,this.morphTargetInfluences[d.currentFrame]=1*k,this.morphTargetInfluences[h]=0,d.lastFrame=d.currentFrame,d.currentFrame=h);f=d.time%f/f;d.directionBackwards&&(f=1-f);d.currentFrame!==d.lastFrame?(this.morphTargetInfluences[d.currentFrame]=f*k,this.morphTargetInfluences[d.lastFrame]=(1-f)*k):this.morphTargetInfluences[d.currentFrame]=
k}}}},function(p,k){p.exports=function(f){f.webpackPolyfill||(f.deprecate=function(){},f.paths=[],f.children=[],f.webpackPolyfill=1);return f}},function(p,k,f){k.__esModule=!0;var n=(p=f(194))&&p.__esModule?p:{"default":p};p=function(){function b(a,c,e){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.canvas=a;this.video=c;this.options=e;this.requestId=null}b.prototype.createScene=function(){var a=this.options,b=a.ratio,e=a.width,a=a.height;this.scene=new n["default"].Scene;
this.camera=new n["default"].PerspectiveCamera(75,b,1,1E3);this.renderer=new n["default"].WebGLRenderer({canvas:this.canvas});this.updateSceneSize(e,a);this.texture=new n["default"].VideoTexture(this.video);this.texture.minFilter=n["default"].LinearFilter;this.material=new n["default"].MeshBasicMaterial({map:this.texture,side:n["default"].DoubleSide});this.geometry=new n["default"].SphereGeometry(5,32,32);this.sphere=new n["default"].Mesh(this.geometry,this.material);this.sphere.scale.x=-1;this.scene.add(this.sphere)};
b.prototype.updateCameraQuaternion=function(a,b,e,d){var f=new n["default"].Vector3(0,0,1),h=new n["default"].Euler,k=new n["default"].Quaternion,m=new n["default"].Quaternion(-Math.sqrt(.5),0,0,Math.sqrt(.5));h.set(b,a,-e,"YXZ");this.camera.quaternion.setFromEuler(h);this.camera.quaternion.multiply(m);this.camera.quaternion.multiply(k.setFromAxisAngle(f,-d))};b.prototype.updateOrientationScene=function(a,b){var e=n["default"].Math.degToRad(a),d=n["default"].Math.degToRad(b.alpha),f=n["default"].Math.degToRad(b.beta),
h=n["default"].Math.degToRad(b.gamma);this.camera&&(this.updateCameraQuaternion(d,f,h,e),this.requestId||this.renderer.render(this.scene,this.camera))};b.prototype.rotateScene=function(a,b){!this.sphere||isNaN(a)||isNaN(b)||(this.sphere.rotation.y+=a,this.sphere.rotation.x+=b,this.requestId||this.renderer.render(this.scene,this.camera))};b.prototype.updateSceneSize=function(a,b){this.renderer.setSize(a,b,!1)};b.prototype.renderLoop=function(){this.requestId=window.requestAnimationFrame(this.renderLoop.bind(this));
this.renderer.render(this.scene,this.camera)};b.prototype.stopRenderLoop=function(){this.requestId&&(window.cancelAnimationFrame(this.requestId),this.requestId=void 0)};return b}();k["default"]=p},function(p,k,f){function n(a,b){if("function"!==typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}});b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,
b):a.__proto__=b)}k.__esModule=!0;var b=(p=f(93))&&p.__esModule?p:{"default":p},a={top:0,left:0,position:"relative"},c={display:"none"};p=function(e){function d(){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");var a=e.apply(this,arguments);if(!this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||"object"!==typeof a&&"function"!==typeof a?this:a}n(d,e);d.prototype.render=function(){return b["default"].createElement("div",
null,b["default"].createElement("canvas",{style:a,ref:"canvasTag"}),b["default"].createElement("video",{style:c,ref:"videoTag"}))};return d}(p.Component);k["default"]=p},function(p,k){p.exports=function(){throw Error("define cannot be used indirect");}}])});
